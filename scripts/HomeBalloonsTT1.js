define(["Common"],function(Common)
{
	return {
		init:function()
		{                    
                
function t(a,c){function f(){}f.prototype=a;var z=new f,b;for(b in c)z[b]=c[b];return z}function I(a){return a instanceof Array?function(){return x.iter(a)}:"function"==typeof a.iterator?A(a,a.iterator):a.iterator}function A(a,c){var f=function(){return f.method.apply(f.scope,arguments)};f.scope=a;f.method=c;return f}var l={},v=function(){return n.Boot.__string_rec(this,"")},q=function(){};l.ApplicationMain=q;q.__name__=["ApplicationMain"];q.completed=null;q.preloader=null;q.total=null;
q.loaders=null;q.urlLoaders=null;q.main=function(){q.completed=0;q.loaders=new F;q.urlLoaders=new F;q.total=0;q.preloader=new r.StencylPreloader;s.Lib.nmeGetCurrent().addChild(q.preloader);q.preloader.onInit();var a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-1-1.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-3-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-5-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-7-0.png",
a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-9-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-11-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-16-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-18-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-20-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-26-0.png",
a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-28-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-1-1.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-3-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-5-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-7-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-9-0.png",
a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-11-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-16-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-18-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-20-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-26-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-28-0.png",
a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-1-1.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-3-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-5-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-7-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-9-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-11-0.png",
a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-16-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-18-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-20-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-26-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-28-0.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png",
a);q.total++;a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.fnt",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.png",a);q.total++;a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.txt",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@2x.png",a);q.total++;a=new d.display.Loader;q.loaders.set("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@4x.png",
a);q.total++;a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/data/game.xml",a);q.total++;a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/data/resources.xml",a);q.total++;a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/data/scenes.xml",a);q.total++;a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/data/behaviors.xml",a);q.total++;
a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/data/scene-0.xml",a);q.total++;a=new d.net.URLLoader;a.dataFormat=d.net.URLLoaderDataFormat.TEXT;q.urlLoaders.set("templates/"+Common.getTemplateId()+"/assets/data/scene-0.txt",a);q.total++;if(0==q.total)q.begin();else{for(var c=q.loaders.keys();c.hasNext();){var a=c.next(),f=q.loaders.get(a);f.contentLoaderInfo.addEventListener("complete",q.loader_onComplete);f.load(new d.net.URLRequest(a))}for(c=q.urlLoaders.keys();c.hasNext();)a=c.next(),f=
q.urlLoaders.get(a),f.addEventListener("complete",q.loader_onComplete),f.load(new d.net.URLRequest(a))}};q.begin=function(){q.preloader.addEventListener(d.events.Event.COMPLETE,q.preloader_onComplete);q.preloader.onLoaded()};q.getAsset=function(a){return"templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-1-1.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-1-1.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-3-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-3-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-5-0.png"==
a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-5-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-7-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-7-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-9-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-9-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-11-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-11-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-16-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-16-0.png"):
"templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-18-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-18-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-20-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-20-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-26-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-26-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-28-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-28-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-1-1.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-1-1.png"):
"templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-3-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-3-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-5-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-5-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-7-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-7-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-9-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-9-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-11-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-11-0.png"):
"templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-16-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-16-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-18-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-18-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-20-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-20-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-26-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-26-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-28-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-28-0.png"):
"templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-1-1.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-1-1.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-3-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-3-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-5-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-5-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-7-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-7-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-9-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-9-0.png"):
"templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-11-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-11-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-16-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-16-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-18-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-18-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-20-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-20-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-26-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-26-0.png"):
"templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-28-0.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-28-0.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/default-font.fnt"==a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.fnt"):"templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.txt"==a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.txt"):
"templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@2x.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@2x.png"):"templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@4x.png"==a?s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@4x.png"):"templates/"+Common.getTemplateId()+"/assets/music/sound-12.mp3"==a?s.installer.Assets.getSound("templates/"+Common.getTemplateId()+"/assets/music/sound-12.mp3"):"templates/"+Common.getTemplateId()+"/assets/music/sound-13.mp3"==a?s.installer.Assets.getSound("templates/"+Common.getTemplateId()+"/assets/music/sound-13.mp3"):"templates/"+Common.getTemplateId()+"/assets/sfx/sound-24.mp3"==a?s.installer.Assets.getSound("templates/"+Common.getTemplateId()+"/assets/sfx/sound-24.mp3"):"templates/"+Common.getTemplateId()+"/assets/data/game.xml"==
a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/game.xml"):"templates/"+Common.getTemplateId()+"/assets/data/resources.xml"==a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/resources.xml"):"templates/"+Common.getTemplateId()+"/assets/data/scenes.xml"==a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/scenes.xml"):"templates/"+Common.getTemplateId()+"/assets/data/behaviors.xml"==a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/behaviors.xml"):"templates/"+Common.getTemplateId()+"/assets/data/scene-0.xml"==a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/scene-0.xml"):"templates/"+Common.getTemplateId()+"/assets/data/scene-0.txt"==a?s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/scene-0.txt"):null};q.loader_onComplete=function(){q.completed++;
q.preloader.onUpdate(q.completed,q.total);q.completed==q.total&&q.begin()};q.preloader_onComplete=function(){q.preloader.removeEventListener(d.events.Event.COMPLETE,q.preloader_onComplete);s.Lib.nmeGetCurrent().removeChild(q.preloader);q.preloader=null;if(null==w.field(M,"main")){var a=new M;n.Boot.__instanceof(a,d.display.DisplayObject)&&s.Lib.nmeGetCurrent().addChild(a)}else w.field(M,"main").apply(M,[])};var L=function(a,c){c=c.split("u").join("");this.r=RegExp(a,c)};l.EReg=L;L.__name__=["EReg"];
L.prototype={customReplace:function(a,c){for(var f=new G;this.match(a);)f.b+=m.string(this.matchedLeft()),f.b+=m.string(c(this)),a=this.matchedRight();f.b+=m.string(a);return f.b},replace:function(a,c){return a.replace(this.r,c)},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+
this.r.m[0].length;return this.r.s.substr(a,this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},r:null,__class__:L};var F=function(){this.h={}};l.Hash=F;F.__name__=["Hash"];F.prototype={toString:function(){var a=
new G;a.b+=m.string("{");for(var c=this.keys();c.hasNext();){var f=c.next();a.b+=m.string(f);a.b+=m.string(" => ");a.b+=m.string(m.string(this.get(f)));c.hasNext()&&(a.b+=m.string(", "))}a.b+=m.string("}");return a.b},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref["$"+a]}}},keys:function(){var a=[],c;for(c in this.h)this.h.hasOwnProperty(c)&&a.push(c.substr(1));return x.iter(a)},remove:function(a){a=
"$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,c){this.h["$"+a]=c},h:null,__class__:F};var x=function(){};l.HxOverrides=x;x.__name__=["HxOverrides"];x.dateStr=function(a){var c=a.getMonth()+1,f=a.getDate(),z=a.getHours(),b=a.getMinutes(),d=a.getSeconds();return a.getFullYear()+"-"+(10>c?"0"+c:""+c)+"-"+(10>f?"0"+f:""+f)+" "+(10>z?"0"+z:""+z)+":"+(10>b?"0"+b:""+b)+":"+
(10>d?"0"+d:""+d)};x.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),c=new Date;c.setTime(0);c.setUTCHours(a[0]);c.setUTCMinutes(a[1]);c.setUTCSeconds(a[2]);return c;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),c=a[0].split("-"),a=a[1].split(":"),new Date(c[0],c[1]-1,c[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};x.cca=function(a,c){var f=a.charCodeAt(c);return f!=f?void 0:f};x.substr=function(a,c,f){if(null!=c&&0!=c&&
null!=f&&0>f)return"";null==f&&(f=a.length);0>c?(c=a.length+c,0>c&&(c=0)):0>f&&(f=a.length+f-c);return a.substr(c,f)};x.remove=function(a,c){for(var f=0,z=a.length;f<z;){if(a[f]==c)return a.splice(f,1),!0;f++}return!1};x.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var B=function(){this.h={}};l.IntHash=B;B.__name__=["IntHash"];B.prototype={toString:function(){var a=new G;a.b+=m.string("{");for(var c=this.keys();c.hasNext();){var f=
c.next();a.b+=m.string(f);a.b+=m.string(" => ");a.b+=m.string(m.string(this.get(f)));c.hasNext()&&(a.b+=m.string(", "))}a.b+=m.string("}");return a.b},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},keys:function(){var a=[],c;for(c in this.h)this.h.hasOwnProperty(c)&&a.push(c|0);return x.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},
get:function(a){return this.h[a]},set:function(a,c){this.h[a]=c},h:null,__class__:B};var O=function(a,c){this.min=a;this.max=c};l.IntIter=O;O.__name__=["IntIter"];O.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},max:null,min:null,__class__:O};var J=function(){};l.Lambda=J;J.__name__=["Lambda"];J.array=function(a){for(var c=[],a=I(a)();a.hasNext();){var f=a.next();c.push(f)}return c};J.list=function(a){for(var c=new H,a=I(a)();a.hasNext();){var f=a.next();
c.add(f)}return c};J.map=function(a,c){for(var f=new H,z=I(a)();z.hasNext();){var b=z.next();f.add(c(b))}return f};J.mapi=function(a,c){for(var f=new H,z=0,b=I(a)();b.hasNext();){var d=b.next();f.add(c(z++,d))}return f};J.has=function(a,c,f){if(null==f)for(f=I(a)();f.hasNext();){if(a=f.next(),a==c)return!0}else for(var z=I(a)();z.hasNext();)if(a=z.next(),f(a,c))return!0;return!1};J.exists=function(a,c){for(var f=I(a)();f.hasNext();){var z=f.next();if(c(z))return!0}return!1};J.foreach=function(a,c){for(var f=
I(a)();f.hasNext();){var z=f.next();if(!c(z))return!1}return!0};J.iter=function(a,c){for(var f=I(a)();f.hasNext();){var z=f.next();c(z)}};J.filter=function(a,c){for(var f=new H,z=I(a)();z.hasNext();){var b=z.next();c(b)&&f.add(b)}return f};J.fold=function(a,c,f){for(a=I(a)();a.hasNext();)var z=a.next(),f=c(z,f);return f};J.count=function(a,c){var f=0;if(null==c)for(var z=I(a)();z.hasNext();)z.next(),f++;else for(z=I(a)();z.hasNext();){var b=z.next();c(b)&&f++}return f};J.empty=function(a){return!I(a)().hasNext()};
J.indexOf=function(a,c){for(var f=0,z=I(a)();z.hasNext();){var b=z.next();if(c==b)return f;f++}return-1};J.concat=function(a,c){for(var f=new H,z=I(a)();z.hasNext();){var b=z.next();f.add(b)}for(z=I(c)();z.hasNext();)b=z.next(),f.add(b);return f};var H=function(){this.length=0};l.List=H;H.__name__=["List"];H.prototype={map:function(a){for(var c=new H,f=this.h;null!=f;){var z=f[0],f=f[1];c.add(a(z))}return c},filter:function(a){for(var c=new H,f=this.h;null!=f;){var z=f[0],f=f[1];a(z)&&c.add(z)}return c},
join:function(a){for(var c=new G,f=!0,z=this.h;null!=z;)f?f=!1:c.b+=m.string(a),c.b+=m.string(z[0]),z=z[1];return c.b},toString:function(){var a=new G,c=!0,f=this.h;for(a.b+=m.string("{");null!=f;)c?c=!1:a.b+=m.string(", "),a.b+=m.string(m.string(f[0])),f=f[1];a.b+=m.string("}");return a.b},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},remove:function(a){for(var c=null,f=this.h;null!=
f;){if(f[0]==a)return null==c?this.h=f[1]:c[1]=f[1],this.q==f&&(this.q=c),this.length--,!0;c=f;f=f[1]}return!1},clear:function(){this.q=this.h=null;this.length=0},isEmpty:function(){return null==this.h},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},last:function(){return null==this.q?null:this.q[0]},first:function(){return null==this.h?null:this.h[0]},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},
add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},length:null,q:null,h:null,__class__:H};var d={events:{}};d.events.IEventDispatcher=function(){};l["jeash.events.IEventDispatcher"]=d.events.IEventDispatcher;d.events.IEventDispatcher.__name__=["jeash","events","IEventDispatcher"];d.events.IEventDispatcher.prototype={willTrigger:null,removeEventListener:null,hasEventListener:null,dispatchEvent:null,addEventListener:null,__class__:d.events.IEventDispatcher};d.events.EventDispatcher=
function(a){this.jeashTarget=null!=a?a:this;this.jeashEventMap=[]};l["jeash.events.EventDispatcher"]=d.events.EventDispatcher;d.events.EventDispatcher.__name__=["jeash","events","EventDispatcher"];d.events.EventDispatcher.__interfaces__=[d.events.IEventDispatcher];d.events.EventDispatcher.compareListeners=function(a,c){return a.mPriority==c.mPriority?0:a.mPriority>c.mPriority?-1:1};d.events.EventDispatcher.prototype={willTrigger:function(a){return this.hasEventListener(a)},toString:function(){return"[ "+
this.__name__+" ]"},removeEventListener:function(a,c,f){if(this.existList(a))for(var a=this.getList(a),f=null==f?!1:f,z=0,b=a.length;z<b;){var d=z++;if(a[d].Is(c,f)){a.splice(d,1);break}}},hasEventListener:function(a){return this.existList(a)},dispatchEvent:function(a){null==a.target&&(a.target=this.jeashTarget);var c=a.eventPhase==d.events.EventPhase.CAPTURING_PHASE;if(this.existList(a.type)){for(var f=this.getList(a.type),z=0;z<f.length;){var b=f[z];if(b.mUseCapture==c&&(b.dispatchEvent(a),a.jeashGetIsCancelledNow()))break;
z<f.length&&b!=f[z]||z++}return!0}return!1},addEventListener:function(a,c,f,z){var f=null==f?!1:f,z=null==z?0:z,b=this.getList(a);this.existList(a)||(b=[],this.setList(a,b));b.push(new d.events.Listener(c,f,z));b.sort(d.events.EventDispatcher.compareListeners)},existList:function(a){return void 0!=this.jeashEventMap[a]},setList:function(a,c){this.jeashEventMap[a]=c},getList:function(a){return this.jeashEventMap[a]},jeashEventMap:null,jeashTarget:null,__class__:d.events.EventDispatcher};d.display=
{};d.display.IBitmapDrawable=function(){};l["jeash.display.IBitmapDrawable"]=d.display.IBitmapDrawable;d.display.IBitmapDrawable.__name__=["jeash","display","IBitmapDrawable"];d.display.IBitmapDrawable.prototype={drawToSurface:null,__class__:d.display.IBitmapDrawable};d.display.DisplayObject=function(){d.events.EventDispatcher.call(this,null);this._jeashId=d.utils.Uuid.uuid();this.jeashSetParent(null);this.setTransform(new d.geom.Transform(this));this.jeashX=this.jeashY=0;this.jeashScaleX=this.jeashScaleY=
1;this.jeashWidth=this.jeashHeight=this.jeashRotation=0;this.jeashSetVisible(!0);this.alpha=1;this.jeashFilters=[];this.jeashBoundsRect=new d.geom.Rectangle;this.jeashMaskingObj=this.jeashMask=this.jeashScrollRect=null};l["jeash.display.DisplayObject"]=d.display.DisplayObject;d.display.DisplayObject.__name__=["jeash","display","DisplayObject"];d.display.DisplayObject.__interfaces__=[d.display.IBitmapDrawable];d.display.DisplayObject.__super__=d.events.EventDispatcher;d.display.DisplayObject.prototype=
t(d.events.EventDispatcher.prototype,{jeashSetFlagToValue:function(a,c){this._jeashRenderFlags=c?this._jeashRenderFlags|a:this._jeashRenderFlags&~a},jeashClearFlag:function(a){this._jeashRenderFlags&=~a},jeashSetFlag:function(a){this._jeashRenderFlags|=a},jeashTestFlag:function(a){return 0!=(this._jeashRenderFlags&a)},getMatrixInvalid:function(){return 0!=(this._jeashRenderFlags&4)},getMatrixChainInvalid:function(){return 0!=(this._jeashRenderFlags&8)},jeashInvalidateBounds:function(){this._jeashRenderFlags|=
64;null!=this.parent&&(this.parent._jeashRenderFlags|=64)},getBoundsInvalid:function(){var a=this.jeashGetGraphics();return null==a?0!=(this._jeashRenderFlags&64):0!=(this._jeashRenderFlags&64)||a.boundsDirty},jeashSetDimensions:function(){null!=this.scale9Grid?(this.jeashBoundsRect.width*=this.jeashScaleX,this.jeashBoundsRect.height*=this.jeashScaleY,this.jeashWidth=this.jeashBoundsRect.width,this.jeashHeight=this.jeashBoundsRect.height):(this.jeashWidth=this.jeashBoundsRect.width*this.jeashScaleX,
this.jeashHeight=this.jeashBoundsRect.height*this.jeashScaleY)},validateBounds:function(){if(this.getBoundsInvalid()){var a=this.jeashGetGraphics();null==a?(this.jeashBoundsRect.x=this.jeashGetX(),this.jeashBoundsRect.y=this.jeashGetY(),this.jeashBoundsRect.width=0,this.jeashBoundsRect.height=0):(this.jeashBoundsRect=a.jeashExtent.clone(),null!=this.scale9Grid?(this.jeashBoundsRect.width*=this.jeashScaleX,this.jeashBoundsRect.height*=this.jeashScaleY,this.jeashWidth=this.jeashBoundsRect.width,this.jeashHeight=
this.jeashBoundsRect.height):(this.jeashWidth=this.jeashBoundsRect.width*this.jeashScaleX,this.jeashHeight=this.jeashBoundsRect.height*this.jeashScaleY),a.boundsDirty=!1);this._jeashRenderFlags&=-65}},jeashUnifyChildrenWithDOM:function(a){var c=this.jeashGetGraphics();null!=c&&null!=a&&d.Lib.jeashSetSurfaceZIndexAfter(c.jeashSurface,a.jeashSurface)},jeashSetRotation:function(a){this.jeashRotation!=a&&(this.jeashRotation=a,this.jeashInvalidateMatrix(!0),this._jeashRenderFlags|=64,null!=this.parent&&
(this.parent._jeashRenderFlags|=64));return a},jeashGetRotation:function(){return this.jeashRotation},jeashSetScaleY:function(a){this.jeashScaleY!=a&&(this.jeashScaleY=a,this.jeashInvalidateMatrix(!0),this._jeashRenderFlags|=64,null!=this.parent&&(this.parent._jeashRenderFlags|=64));return a},jeashGetScaleY:function(){return this.jeashScaleY},jeashSetScaleX:function(a){this.jeashScaleX!=a&&(this.jeashScaleX=a,this.jeashInvalidateMatrix(!0),this._jeashRenderFlags|=64,null!=this.parent&&(this.parent._jeashRenderFlags|=
64));return a},jeashGetScaleX:function(){return this.jeashScaleX},jeashSetY:function(a){this.jeashY!=a&&(this.jeashY=a,this.jeashInvalidateMatrix(!0),null!=this.parent&&this.parent.jeashInvalidateBounds());return a},jeashGetY:function(){return this.jeashY},jeashSetX:function(a){this.jeashX!=a&&(this.jeashX=a,this.jeashInvalidateMatrix(!0),null!=this.parent&&this.parent.jeashInvalidateBounds());return a},jeashGetX:function(){return this.jeashX},jeashSetHeight:function(a){this.getBoundsInvalid()&&this.validateBounds();
var c=this.jeashBoundsRect.height;if(this.jeashScaleY*c!=a){if(0>=c)return 0;this.jeashScaleY=a/c;this.jeashInvalidateMatrix(!0);this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64)}return a},jeashGetHeight:function(){this.getBoundsInvalid()&&this.validateBounds();return this.jeashHeight},jeashSetWidth:function(a){this.getBoundsInvalid()&&this.validateBounds();var c=this.jeashBoundsRect.width;if(this.jeashScaleX*c!=a){if(0>=c)return 0;this.jeashScaleX=a/c;this.jeashInvalidateMatrix(!0);
this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64)}return a},jeashGetWidth:function(){this.getBoundsInvalid()&&this.validateBounds();return this.jeashWidth},jeashSetVisible:function(a){var c=this.jeashGetGraphics();null!=c&&null!=c.jeashSurface&&d.Lib.jeashSetSurfaceVisible(c.jeashSurface,a);this.jeashVisible=a;return this.jeashGetVisible()},jeashGetVisible:function(){return this.jeashVisible},jeashRemoveFromStage:function(){var a=this.jeashGetGraphics();null!=a&&d.Lib.jeashIsOnStage(a.jeashSurface)&&
(d.Lib.jeashRemoveSurface(a.jeashSurface),a=new d.events.Event(d.events.Event.REMOVED_FROM_STAGE,!1,!1),this.dispatchEvent(a))},jeashAddToStage:function(a,c){var f=null!=this.getStage(),b=this.jeashGetGraphics();if(null==b)throw m.string(this)+" tried to add to stage with null graphics context";if(null!=a.jeashGetGraphics())if(d.Lib.jeashSetSurfaceId(b.jeashSurface,this._jeashId),null!=c&&null!=c.jeashGetGraphics())d.Lib.jeashAppendSurface(b.jeashSurface,c.jeashGetGraphics().jeashSurface);else{for(var o=
[],e=0,h=a.jeashChildren;e<h.length;){var i=h[e];++e;null!=i.getStage()&&o.push(i)}if(1>o.length)d.Lib.jeashAppendSurface(b.jeashSurface,null,a.jeashGetGraphics().jeashSurface);else{for(o=o[o.length-1];n.Boot.__instanceof(o,d.display.DisplayObjectContainer);)if(e=n.Boot.__cast(o,d.display.DisplayObjectContainer),0<e.jeashChildren.length)o=e.jeashChildren[e.jeashChildren.length-1];else break;o.jeashGetGraphics()!=b?d.Lib.jeashAppendSurface(b.jeashSurface,null,o.jeashGetGraphics().jeashSurface):d.Lib.jeashAppendSurface(b.jeashSurface)}}else"Stage"==
a.name&&d.Lib.jeashAppendSurface(b.jeashSurface);!f&&null!=this.getStage()&&(f=new d.events.Event(d.events.Event.ADDED_TO_STAGE,!1,!1),this.dispatchEvent(f))},dispatchEvent:function(a){var c=this.jeashDispatchEvent(a);if(a.jeashGetIsCancelled())return!0;a.bubbles&&null!=this.parent&&this.parent.dispatchEvent(a);return c},jeashDispatchEvent:function(a){null==a.target&&(a.target=this);a.currentTarget=this;return d.events.EventDispatcher.prototype.dispatchEvent.call(this,a)},jeashBroadcast:function(a){this.jeashDispatchEvent(a)},
jeashFireEvent:function(a){var c=[];null!=this.parent&&this.parent.jeashGetInteractiveObjectStack(c);if(0<c.length){a.jeashSetPhase(d.events.EventPhase.CAPTURING_PHASE);c.reverse();for(var f=0;f<c.length;){var b=c[f];++f;a.currentTarget=b;b.jeashDispatchEvent(a);if(a.jeashGetIsCancelled())return}}a.jeashSetPhase(d.events.EventPhase.AT_TARGET);a.currentTarget=this;this.jeashDispatchEvent(a);if(!a.jeashGetIsCancelled()&&a.bubbles){a.jeashSetPhase(d.events.EventPhase.BUBBLING_PHASE);c.reverse();for(f=
0;f<c.length&&!(b=c[f],++f,a.currentTarget=b,b.jeashDispatchEvent(a),a.jeashGetIsCancelled()););}},jeashGetInteractiveObjectStack:function(a){null!=this&&a.push(this);null!=this.parent&&this.parent.jeashGetInteractiveObjectStack(a)},getScreenBounds:function(){this.getBoundsInvalid()&&this.validateBounds();return this.jeashBoundsRect.clone()},jeashGetFilters:function(){if(null==this.jeashFilters)return[];for(var a=[],c=0,f=this.jeashFilters;c<f.length;){var b=f[c];++c;a.push(b.clone())}return a},invalidateGraphics:function(){var a=
this.jeashGetGraphics();null!=a&&(a.jeashChanged=a.jeashClearNextCycle=!0)},jeashSetFilters:function(a){var c=null==this.jeashFilters?0:this.jeashFilters.length;if(null==a)this.jeashFilters=null,0<c&&this.invalidateGraphics();else{this.jeashFilters=[];for(c=0;c<a.length;){var f=a[c];++c;this.jeashFilters.push(f.clone())}this.invalidateGraphics()}return a},setMask:function(a){null!=this.jeashMask&&(this.jeashMask.jeashMaskingObj=null);this.jeashMask=a;null!=this.jeashMask&&(this.jeashMask.jeashMaskingObj=
this);return this.jeashMask},getMask:function(){return this.jeashMask},jeashGetObjectUnderPoint:function(a){if(!this.jeashGetVisible())return null;var c=this.jeashGetGraphics();if(null!=c){var f=c.jeashExtent.x,b=c.jeashExtent.y,a=this.globalToLocal(a);if(0>a.x-f||0>a.y-b||(a.x-f)*this.jeashGetScaleX()>this.jeashGetWidth()||(a.y-b)*this.jeashGetScaleY()>this.jeashGetHeight())return null;switch(this.getStage().jeashPointInPathMode[1]){case 0:if(c.jeashHitTest(a.x,a.y))return this;break;case 1:if(c.jeashHitTest(a.x*
this.jeashGetScaleX(),a.y*this.jeashGetScaleY()))return this}}return null},drawToSurface:function(a,c,f){var b=this.alpha;this.alpha=1;this.jeashRender();this.alpha=b;b=d.display.BitmapData.jeashCopySurface(this.jeashGetSurface());d.display.BitmapData.jeashColorTransformSurface(b,f);d.Lib.jeashDrawToSurface(b,a,c)},getSurfaceTransform:function(a){var a=a.jeashExtentWithFilters,c=this.transform.jeashGetFullMatrix(null);c.jeashTranslateTransformed(a.get_topLeft());return c},handleGraphicsUpdated:function(a){this._jeashRenderFlags|=
64;null!=this.parent&&(this.parent._jeashRenderFlags|=64);this.jeashApplyFilters(a.jeashSurface);this._jeashRenderFlags|=32},jeashRender:function(a,c){if(this.jeashVisible){var f=this.jeashGetGraphics();if(null!=f){(0!=(this._jeashRenderFlags&4)||0!=(this._jeashRenderFlags&8))&&this.jeashValidateMatrix();f.jeashRender(a,this.jeashFilters,1,1)&&(this._jeashRenderFlags|=64,null!=this.parent&&(this.parent._jeashRenderFlags|=64),this.jeashApplyFilters(f.jeashSurface),this._jeashRenderFlags|=32);var b=
(null!=this.parent?this.parent.alpha:1)*this.alpha;if(null!=a){var o=this.getSurfaceTransform(f);d.Lib.jeashDrawToSurface(f.jeashSurface,a,o,b,c)}else if(0!=(this._jeashRenderFlags&32)&&(o=this.getSurfaceTransform(f),d.Lib.jeashSetSurfaceTransform(f.jeashSurface,o),this._jeashRenderFlags&=-33),b!=this._lastFullAlpha)d.Lib.jeashSetSurfaceOpacity(f.jeashSurface,b),this._lastFullAlpha=b}}},jeashApplyFilters:function(a){if(null!=this.jeashFilters)for(var c=0,f=this.jeashFilters;c<f.length;){var b=f[c];
++c;b.jeashApplyFilter(a)}},jeashValidateMatrix:function(){var a=0!=(this._jeashRenderFlags&8)&&null!=this.parent;if(0!=(this._jeashRenderFlags&4)||a){a&&this.parent.jeashValidateMatrix();a=this.transform.getMatrix();0!=(this._jeashRenderFlags&16)&&(this._jeashRenderFlags&=-5);if(0!=(this._jeashRenderFlags&4)){a.identity();a.scale(this.jeashScaleX,this.jeashScaleY);var c=this.jeashRotation*(Math.PI/180);0!=c&&a.rotate(c);a.translate(this.jeashX,this.jeashY);this.transform._matrix.copy(a);a}c=this.transform.jeashGetFullMatrix(null);
a=null==this.parent?a:this.parent.transform.jeashGetFullMatrix(a);this._fullScaleX=a._sx;this._fullScaleY=a._sy;if(c.a!=a.a||c.b!=a.b||c.c!=a.c||c.d!=a.d||c.tx!=a.tx||c.ty!=a.ty)this.transform.jeashSetFullMatrix(a),this._jeashRenderFlags|=32;this._jeashRenderFlags&=-29}},jeashMatrixOverridden:function(){this._jeashRenderFlags|=16;this._jeashRenderFlags|=4;this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64)},jeashInvalidateMatrix:function(a){null==a&&(a=!1);this._jeashRenderFlags=
a?this._jeashRenderFlags|4:this._jeashRenderFlags|8},jeashGetSurface:function(){var a=this.jeashGetGraphics(),c=null;null!=a&&(c=a.jeashSurface);return c},jeashGetGraphics:function(){return null},jeashSetFullMatrix:function(a){return this.transform.jeashSetFullMatrix(a)},jeashGetFullMatrix:function(a){return this.transform.jeashGetFullMatrix(a)},jeashSetMatrix:function(a){this.transform._matrix.copy(a);return a},jeashGetMatrix:function(){return this.transform.getMatrix()},localToGlobal:function(a){(0!=
(this._jeashRenderFlags&4)||0!=(this._jeashRenderFlags&8))&&this.jeashValidateMatrix();this.transform.jeashGetFullMatrix(null);return this.transform.jeashGetFullMatrix(null).transformPoint(a)},globalToLocal:function(a){(0!=(this._jeashRenderFlags&4)||0!=(this._jeashRenderFlags&8))&&this.jeashValidateMatrix();return this.transform.jeashGetFullMatrix(null).invert().transformPoint(a)},getRect:function(a){return this.getBounds(a)},getBounds:function(a){(0!=(this._jeashRenderFlags&4)||0!=(this._jeashRenderFlags&
8))&&this.jeashValidateMatrix();this.getBoundsInvalid()&&this.validateBounds();var c=this.transform.jeashGetFullMatrix(null);null!=a&&c.concat(a.transform.jeashGetFullMatrix(null).invert());return this.jeashBoundsRect.transform(c)},setTransform:function(a){this.transform=a;this.jeashInvalidateMatrix(!0);return a},jeashGetMouseY:function(){return this.globalToLocal(new d.geom.Point(0,this.getStage().jeashGetMouseY())).y},jeashGetMouseX:function(){return this.globalToLocal(new d.geom.Point(this.getStage().jeashGetMouseX(),
0)).x},hitTestPoint:function(a,c,f){if(null!=f&&f)return null!=this.jeashGetObjectUnderPoint(new d.geom.Point(a,c));var b=this.jeashGetGraphics();return null!=b&&(f=b.jeashExtent.x,b=b.jeashExtent.y,a=this.globalToLocal(new d.geom.Point(a,c)),!(0>a.x-f||0>a.y-b||(a.x-f)*this.jeashGetScaleX()>this.jeashGetWidth()||(a.y-b)*this.jeashGetScaleY()>this.jeashGetHeight()))?!0:!1},hitTestObject:function(){return!1},setScrollRect:function(a){return this.jeashScrollRect=a},getScrollRect:function(){return null==
this.jeashScrollRect?null:this.jeashScrollRect.clone()},getStage:function(){var a=this.jeashGetGraphics();return null!=a&&d.Lib.jeashIsOnStage(a.jeashSurface)?d.Lib.jeashGetStage():null},jeashSetParent:function(a){if(a==this.parent)return a;this.jeashInvalidateMatrix();null!=this.parent&&(x.remove(this.parent.jeashChildren,this),this.parent.jeashInvalidateBounds());null!=a&&(a._jeashRenderFlags|=64,null!=a.parent&&(a.parent._jeashRenderFlags|=64));if(null==this.parent&&null!=a){this.parent=a;var c=
new d.events.Event(d.events.Event.ADDED,!0,!1);this.dispatchEvent(c)}else null!=this.parent&&null==a?(this.parent=a,c=new d.events.Event(d.events.Event.REMOVED,!0,!1),this.dispatchEvent(c)):this.parent=a;return a},toString:function(){return"[DisplayObject name="+this.name+" id="+this._jeashId+"]"},_matrixInvalid:null,_matrixChainInvalid:null,_boundsInvalid:null,jeashBoundsRect:null,scale9Grid:null,blendMode:null,filters:null,jeashFilters:null,mask:null,jeashMaskingObj:null,jeashMask:null,scrollRect:null,
jeashScrollRect:null,stage:null,parent:null,mouseY:null,mouseX:null,visible:null,jeashVisible:null,cacheAsBitmap:null,name:null,_lastFullAlpha:null,alpha:null,accessibilityProperties:null,transform:null,height:null,jeashHeight:null,width:null,jeashWidth:null,rotation:null,jeashRotation:null,scaleY:null,jeashScaleY:null,_fullScaleY:null,scaleX:null,jeashScaleX:null,_fullScaleX:null,y:null,jeashY:null,x:null,jeashX:null,_jeashId:null,_jeashRenderFlags:null,__class__:d.display.DisplayObject,__properties__:{set_x:"jeashSetX",
get_x:"jeashGetX",set_y:"jeashSetY",get_y:"jeashGetY",set_scaleX:"jeashSetScaleX",get_scaleX:"jeashGetScaleX",set_scaleY:"jeashSetScaleY",get_scaleY:"jeashGetScaleY",set_rotation:"jeashSetRotation",get_rotation:"jeashGetRotation",set_width:"jeashSetWidth",get_width:"jeashGetWidth",set_height:"jeashSetHeight",get_height:"jeashGetHeight",set_transform:"setTransform",set_visible:"jeashSetVisible",get_visible:"jeashGetVisible",get_mouseX:"jeashGetMouseX",get_mouseY:"jeashGetMouseY",set_parent:"jeashSetParent",
get_stage:"getStage",set_scrollRect:"setScrollRect",get_scrollRect:"getScrollRect",set_mask:"setMask",get_mask:"getMask",set_filters:"jeashSetFilters",get_filters:"jeashGetFilters",get__boundsInvalid:"getBoundsInvalid",get__matrixChainInvalid:"getMatrixChainInvalid",get__matrixInvalid:"getMatrixInvalid"}});d.display.InteractiveObject=function(){d.display.DisplayObject.call(this);this.tabEnabled=!1;this.doubleClickEnabled=this.mouseEnabled=!0;this.jeashSetTabIndex(0)};l["jeash.display.InteractiveObject"]=
d.display.InteractiveObject;d.display.InteractiveObject.__name__=["jeash","display","InteractiveObject"];d.display.InteractiveObject.__super__=d.display.DisplayObject;d.display.InteractiveObject.prototype=t(d.display.DisplayObject.prototype,{jeashGetObjectUnderPoint:function(a){return this.mouseEnabled?d.display.DisplayObject.prototype.jeashGetObjectUnderPoint.call(this,a):null},jeashSetTabIndex:function(a){return this.jeashTabIndex=a},jeashGetTabIndex:function(){return this.jeashTabIndex},toString:function(){return"[InteractiveObject name="+
this.name+" id="+this._jeashId+"]"},jeashTabIndex:null,jeashDoubleClickEnabled:null,tabIndex:null,tabEnabled:null,mouseEnabled:null,focusRect:null,doubleClickEnabled:null,__class__:d.display.InteractiveObject,__properties__:t(d.display.DisplayObject.prototype.__properties__,{set_tabIndex:"jeashSetTabIndex",get_tabIndex:"jeashGetTabIndex"})});d.display.DisplayObjectContainer=function(){this.jeashChildren=[];this.tabChildren=this.mouseChildren=!0;d.display.InteractiveObject.call(this)};l["jeash.display.DisplayObjectContainer"]=
d.display.DisplayObjectContainer;d.display.DisplayObjectContainer.__name__=["jeash","display","DisplayObjectContainer"];d.display.DisplayObjectContainer.__super__=d.display.InteractiveObject;d.display.DisplayObjectContainer.prototype=t(d.display.InteractiveObject.prototype,{jeashSetVisible:function(a){d.display.InteractiveObject.prototype.jeashSetVisible.call(this,a);for(var c=0,f=this.jeashChildren;c<f.length;){var b=f[c];++c;null!=b.getStage()&&b.jeashSetVisible(a)}return a},jeashSetFilters:function(a){d.display.InteractiveObject.prototype.jeashSetFilters.call(this,
a);for(var c=0,f=this.jeashChildren;c<f.length;){var b=f[c];++c;b.jeashSetFilters(a)}return a},jeashGetObjectsUnderPoint:function(a,c){for(var f=this.jeashChildren.length-1,b=0,o=this.jeashChildren.length;b<o;){var d=b++,d=this.jeashChildren[f-d].jeashGetObjectUnderPoint(a);null!=d&&c.push(d)}},getObjectsUnderPoint:function(a){var c=[];this.jeashGetObjectsUnderPoint(a,c);return c},jeashGetObjectUnderPoint:function(a){if(!this.jeashGetVisible())return null;for(var c=this.jeashChildren.length-1,f=0,
b=this.jeashChildren.length;f<b;){var o=f++,o=this.jeashChildren[c-o].jeashGetObjectUnderPoint(a);if(null!=o)return this.mouseChildren?o:this}return d.display.InteractiveObject.prototype.jeashGetObjectUnderPoint.call(this,a)},swapChildrenAt:function(a,c){var f=this.jeashChildren[a];this.jeashChildren[a]=this.jeashChildren[c];this.jeashChildren[c]=f},jeashUnifyChildrenWithDOM:function(a){a=this.jeashGetGraphics();if(null!=a)for(var c=0,f=this.jeashChildren;c<f.length;){var b=f[c];++c;var o=b.jeashGetGraphics();
null!=o&&(d.Lib.jeashSetSurfaceZIndexAfter(o.jeashSurface,a.jeashSurface),a=o);b.jeashUnifyChildrenWithDOM(a)}},swapChildren:function(a,c){var f=-1,b=-1,o;o=0;for(var d=this.jeashChildren.length;o<d;){var e=o++;this.jeashChildren[e]==a?f=e:this.jeashChildren[e]==c&&(b=e)}-1!=f&&-1!=b&&(o=this.jeashChildren[f],this.jeashChildren[f]=this.jeashChildren[b],this.jeashChildren[b]=o,this.jeashSwapSurface(f,b))},jeashSwapSurface:function(a,c){if(null==this.jeashChildren[a])throw"Null element at index "+a+
" length "+this.jeashChildren.length;if(null==this.jeashChildren[c])throw"Null element at index "+c+" length "+this.jeashChildren.length;var f=this.jeashChildren[a].jeashGetGraphics(),b=this.jeashChildren[c].jeashGetGraphics();null!=f&&null!=b&&d.Lib.jeashSwapSurface(f.jeashSurface,b.jeashSurface)},setChildIndex:function(a,c){if(c>this.jeashChildren.length)throw"Invalid index position "+c;var f=this.getChildIndex(a);if(0>f){f="setChildIndex : object "+a.name+" not found.";if(a.parent==this){for(var b=
-1,o=0,d=this.jeashChildren.length;o<d;){var e=o++;if(this.jeashChildren[e]==a){b=e;break}}f=-1!=b?f+("Internal error: Real child index was "+m.string(b)):f+"Internal error: Child was not in jeashChildren array!"}throw f;}if(c<f)for(e=f;e>c;)this.swapChildren(this.jeashChildren[e],this.jeashChildren[e-1]),e--;else if(f<c)for(e=f;e<c;)this.swapChildren(this.jeashChildren[e],this.jeashChildren[e+1]),e++},__removeChild:function(a){x.remove(this.jeashChildren,a)},jeashRemoveChild:function(a){a.jeashRemoveFromStage();
a.jeashSetParent(null);return a},removeChildAt:function(a){if(0<=a&&a<this.jeashChildren.length)return this.jeashRemoveChild(this.jeashChildren[a]);throw"removeChildAt("+a+") : none found?";},removeChild:function(a){for(var c=0,f=this.jeashChildren;c<f.length;){var b=f[c];++c;if(b==a)return a=void 0,b.jeashRemoveFromStage(),b.jeashSetParent(null),a=b}throw"removeChild : none found?";},getChildIndex:function(a){for(var c=0,f=this.jeashChildren.length;c<f;){var b=c++;if(this.jeashChildren[b]==a)return b}return-1},
getChildByName:function(a){for(var c=0,f=this.jeashChildren;c<f.length;){var b=f[c];++c;if(b.name==a)return b}return null},getChildAt:function(a){if(0<=a&&a<this.jeashChildren.length)return this.jeashChildren[a];throw"getChildAt : index out of bounds "+a+"/"+this.jeashChildren.length;},contains:function(a){if(null==a)return!1;if(this==a)return!0;for(var c=0,f=this.jeashChildren;c<f.length;){var b=f[c];++c;if(b==a)return!0}return!1},addChildAt:function(a,c){if(c>this.jeashChildren.length||0>c)throw"Invalid index position "+
c;if(a.parent==this)return this.setChildIndex(a,c),a;if(c==this.jeashChildren.length)return this.addChild(a);null!=this.getStage()&&a.jeashAddToStage(this,this.jeashChildren[c]);this.jeashChildren.splice(c,0,a);a.jeashSetParent(this);return a},addChild:function(a){if(null==a)throw"DisplayObjectContainer asked to add null child object";if(a==this)throw"Adding to self";if(a.parent==this)return this.setChildIndex(a,this.jeashChildren.length-1),a;a.jeashSetParent(this);null!=this.getStage()&&a.jeashAddToStage(this);
this.jeashChildren.push(a);return a},jeashRemoveFromStage:function(){d.display.InteractiveObject.prototype.jeashRemoveFromStage.call(this);for(var a=0,c=this.jeashChildren;a<c.length;){var f=c[a];++a;f.jeashRemoveFromStage()}},jeashAddToStage:function(a,c){d.display.InteractiveObject.prototype.jeashAddToStage.call(this,a,c);for(var f=0,b=this.jeashChildren;f<b.length;){var o=b[f];++f;null==o.getStage()&&o.jeashAddToStage(this)}},jeashRender:function(a,c){if(this.jeashVisible){null==c&&null!=this.jeashScrollRect&&
(c=this.jeashScrollRect);d.display.InteractiveObject.prototype.jeashRender.call(this,a,c);for(var f=0,b=this.jeashChildren;f<b.length;){var o=b[f];++f;if(o.jeashVisible){if(null!=c&&(0!=(o._jeashRenderFlags&4)||0!=(o._jeashRenderFlags&8)))o.invalidateGraphics(),o.jeashValidateMatrix();o.jeashRender(a,c)}}}},jeashGetNumChildren:function(){return this.jeashChildren.length},jeashInvalidateMatrix:function(a){null==a&&(a=!1);if(0==(this._jeashRenderFlags&8)&&0==(this._jeashRenderFlags&4))for(var c=0,f=
this.jeashChildren;c<f.length;){var b=f[c];++c;b.jeashInvalidateMatrix()}d.display.InteractiveObject.prototype.jeashInvalidateMatrix.call(this,a)},validateBounds:function(){if(this.getBoundsInvalid()){d.display.InteractiveObject.prototype.validateBounds.call(this);for(var a=0,c=this.jeashChildren;a<c.length;){var f=c[a];++a;if(f.jeashGetVisible()&&(f=f.getBounds(this),0!=f.width||0!=f.height))0==this.jeashBoundsRect.width&&0==this.jeashBoundsRect.height?this.jeashBoundsRect=f.clone():this.jeashBoundsRect.extendBounds(f)}null!=
this.scale9Grid?(this.jeashBoundsRect.width*=this.jeashScaleX,this.jeashBoundsRect.height*=this.jeashScaleY,this.jeashWidth=this.jeashBoundsRect.width,this.jeashHeight=this.jeashBoundsRect.height):(this.jeashWidth=this.jeashBoundsRect.width*this.jeashScaleX,this.jeashHeight=this.jeashBoundsRect.height*this.jeashScaleY)}},jeashBroadcast:function(a){for(var c=0,f=this.jeashChildren;c<f.length;){var b=f[c];++c;b.jeashBroadcast(a)}this.dispatchEvent(a)},toString:function(){return"[DisplayObjectContainer name="+
this.name+" id="+this._jeashId+"]"},tabChildren:null,mouseChildren:null,numChildren:null,jeashChildren:null,__class__:d.display.DisplayObjectContainer,__properties__:t(d.display.InteractiveObject.prototype.__properties__,{get_numChildren:"jeashGetNumChildren"})});d.display.Sprite=function(){d.display.DisplayObjectContainer.call(this);this.jeashGraphics=new d.display.Graphics;this.buttonMode=!1};l["jeash.display.Sprite"]=d.display.Sprite;d.display.Sprite.__name__=["jeash","display","Sprite"];d.display.Sprite.__super__=
d.display.DisplayObjectContainer;d.display.Sprite.prototype=t(d.display.DisplayObjectContainer.prototype,{jeashGetDropTarget:function(){return this.jeashDropTarget},jeashSetUseHandCursor:function(a){if(a==this.useHandCursor)return a;null!=this.jeashCursorCallbackOver&&this.removeEventListener(d.events.MouseEvent.ROLL_OVER,this.jeashCursorCallbackOver);null!=this.jeashCursorCallbackOut&&this.removeEventListener(d.events.MouseEvent.ROLL_OUT,this.jeashCursorCallbackOut);a?(this.jeashCursorCallbackOver=
function(){d.Lib.jeashSetCursor(d._Lib.CursorType.Pointer)},this.jeashCursorCallbackOut=function(){d.Lib.jeashSetCursor(d._Lib.CursorType.Default)},this.addEventListener(d.events.MouseEvent.ROLL_OVER,this.jeashCursorCallbackOver),this.addEventListener(d.events.MouseEvent.ROLL_OUT,this.jeashCursorCallbackOut)):d.Lib.jeashSetCursor(d._Lib.CursorType.Default);return this.useHandCursor=a},jeashGetGraphics:function(){return this.jeashGraphics},stopDrag:function(){if(null!=this.getStage()){this.getStage().jeashStopDrag(this);
for(var a=this.parent.jeashChildren.length-1,c=this.getStage(),f=0,b=this.parent.jeashChildren.length;f<b;){var o=f++,o=this.parent.jeashChildren[a-o].jeashGetObjectUnderPoint(new d.geom.Point(this.getStage().jeashGetMouseX(),this.getStage().jeashGetMouseY()));null!=o&&(c=o)}this.jeashDropTarget=c!=this?c:this.getStage()}},startDrag:function(a,c){null!=this.getStage()&&this.getStage().jeashStartDrag(this,a,c)},toString:function(){return"[Sprite name="+this.name+" id="+this._jeashId+"]"},jeashCursorCallbackOut:null,
jeashCursorCallbackOver:null,dropTarget:null,jeashDropTarget:null,buttonMode:null,useHandCursor:null,graphics:null,jeashGraphics:null,__class__:d.display.Sprite,__properties__:t(d.display.DisplayObjectContainer.prototype.__properties__,{get_graphics:"jeashGetGraphics",set_useHandCursor:"jeashSetUseHandCursor",get_dropTarget:"jeashGetDropTarget"})});var N=function(){d.display.Sprite.call(this);var a=this.getBackgroundColor(),c=0;70>0.299*(a>>16&255)+0.587*(a>>8&255)+0.114*(a&255)&&(c=16777215);var a=
this.getHeight()/2-4.5,f=this.getWidth()-60;this.outline=new d.display.Sprite;this.outline.jeashGetGraphics().lineStyle(1,c,0.15,!0);this.outline.jeashGetGraphics().drawRoundRect(0,0,f,9,6,6);this.outline.jeashSetX(30);this.outline.jeashSetY(a);this.addChild(this.outline);this.progress=new d.display.Sprite;this.progress.jeashGetGraphics().beginFill(c,0.35);this.progress.jeashGetGraphics().drawRect(0,0,f-6,3);this.progress.jeashSetX(33);this.progress.jeashSetY(a+3);this.progress.jeashSetScaleX(0);
this.addChild(this.progress)};l.NMEPreloader=N;N.__name__=["NMEPreloader"];N.__super__=d.display.Sprite;N.prototype=t(d.display.Sprite.prototype,{onUpdate:function(a,c){var f=a/c;1<f&&1==f;this.progress.jeashSetScaleX(f)},onLoaded:function(){this.dispatchEvent(new d.events.Event(d.events.Event.COMPLETE))},onInit:function(){},getWidth:function(){return 720},getHeight:function(){return 400},getBackgroundColor:function(){return 0},progress:null,outline:null,__class__:N});var w=function(){};l.Reflect=
w;w.__name__=["Reflect"];w.hasField=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};w.field=function(a,c){var f=null;try{f=a[c]}catch(b){}return f};w.setField=function(a,c,f){a[c]=f};w.getProperty=function(a,c){var f;return null==a?null:a.__properties__&&(f=a.__properties__["get_"+c])?a[f]():a[c]};w.setProperty=function(a,c,f){var b;if(a.__properties__&&(b=a.__properties__["set_"+c]))a[b](f);else a[c]=f};w.callMethod=function(a,c,f){return c.apply(a,f)};w.fields=function(a){var c=
[];if(null!=a){var f=Object.prototype.hasOwnProperty,b;for(b in a)f.call(a,b)&&c.push(b)}return c};w.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};w.compare=function(a,c){return a==c?0:a>c?1:-1};w.compareMethods=function(a,c){return a==c?!0:!w.isFunction(a)||!w.isFunction(c)?!1:a.scope==c.scope&&a.method==c.method&&null!=a.method};w.isObject=function(a){if(null==a)return!1;var c=typeof a;return"string"==c||"object"==c&&!a.__enum__||"function"==c&&(a.__name__||a.__ename__)};
w.deleteField=function(a,c){if(!w.hasField(a,c))return!1;delete a[c];return!0};w.copy=function(a){for(var c={},f=0,b=w.fields(a);f<b.length;){var o=b[f];++f;c[o]=w.field(a,o)}return c};w.makeVarArgs=function(a){return function(){var c=Array.prototype.slice.call(arguments);return a(c)}};var m=function(){};l.Std=m;m.__name__=["Std"];m.is=function(a,c){return n.Boot.__instanceof(a,c)};m.string=function(a){return n.Boot.__string_rec(a,"")};m["int"]=function(a){return a|0};m.parseInt=function(a){var c=
parseInt(a,10);if(0==c&&(120==x.cca(a,1)||88==x.cca(a,1)))c=parseInt(a);return isNaN(c)?null:c};m.parseFloat=function(a){return parseFloat(a)};m.random=function(a){return Math.floor(Math.random()*a)};var G=function(){this.b=""};l.StringBuf=G;G.__name__=["StringBuf"];G.prototype={toString:function(){return this.b},addSub:function(a,c,f){this.b+=x.substr(a,c,f)},addChar:function(a){this.b+=String.fromCharCode(a)},add:function(a){this.b+=m.string(a)},b:null,__class__:G};var E=function(){};l.StringTools=
E;E.__name__=["StringTools"];E.urlEncode=function(a){return encodeURIComponent(a)};E.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};E.htmlEscape=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};E.htmlUnescape=function(a){return a.split("&gt;").join(">").split("&lt;").join("<").split("&amp;").join("&")};E.startsWith=function(a,c){return a.length>=c.length&&x.substr(a,0,c.length)==c};E.endsWith=function(a,c){var f=c.length,b=a.length;
return b>=f&&x.substr(a,b-f,f)==c};E.isSpace=function(a,c){var f=x.cca(a,c);return 9<=f&&13>=f||32==f};E.ltrim=function(a){for(var c=a.length,f=0;f<c&&E.isSpace(a,f);)f++;return 0<f?x.substr(a,f,c-f):a};E.rtrim=function(a){for(var c=a.length,f=0;f<c&&E.isSpace(a,c-f-1);)f++;return 0<f?x.substr(a,0,c-f):a};E.trim=function(a){return E.ltrim(E.rtrim(a))};E.rpad=function(a,c,f){for(var b=a.length,o=c.length;b<f;)f-b<o?(a+=x.substr(c,0,f-b),b=f):(a+=c,b+=o);return a};E.lpad=function(a,c,f){var b="",o=
a.length;if(o>=f)return a;for(var d=c.length;o<f;)f-o<d?(b+=x.substr(c,0,f-o),o=f):(b+=c,o+=d);return b+a};E.replace=function(a,c,f){return a.split(c).join(f)};E.hex=function(a,c){var f="";do f="0123456789ABCDEF".charAt(a&15)+f,a>>>=4;while(0<a);if(null!=c)for(;f.length<c;)f="0"+f;return f};E.fastCodeAt=function(a,c){return a.charCodeAt(c)};E.isEOF=function(a){return a!=a};var D=l.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};
D.TNull=["TNull",0];D.TNull.toString=v;D.TNull.__enum__=D;D.TInt=["TInt",1];D.TInt.toString=v;D.TInt.__enum__=D;D.TFloat=["TFloat",2];D.TFloat.toString=v;D.TFloat.__enum__=D;D.TBool=["TBool",3];D.TBool.toString=v;D.TBool.__enum__=D;D.TObject=["TObject",4];D.TObject.toString=v;D.TObject.__enum__=D;D.TFunction=["TFunction",5];D.TFunction.toString=v;D.TFunction.__enum__=D;D.TClass=function(a){a=["TClass",6,a];a.__enum__=D;a.toString=v;return a};D.TEnum=function(a){a=["TEnum",7,a];a.__enum__=D;a.toString=
v;return a};D.TUnknown=["TUnknown",8];D.TUnknown.toString=v;D.TUnknown.__enum__=D;var C=function(){};l.Type=C;C.__name__=["Type"];C.getClass=function(a){return null==a?null:a.__class__};C.getEnum=function(a){return null==a?null:a.__enum__};C.getSuperClass=function(a){return a.__super__};C.getClassName=function(a){return a.__name__.join(".")};C.getEnumName=function(a){return a.__ename__.join(".")};C.resolveClass=function(a){a=l[a];return null==a||!a.__name__?null:a};C.resolveEnum=function(a){a=l[a];
return null==a||!a.__ename__?null:a};C.createInstance=function(a,c){switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6]);case 8:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);default:throw"Too many arguments";}};C.createEmptyInstance=
function(a){function c(){}c.prototype=a.prototype;return new c};C.createEnum=function(a,c,f){var b=w.field(a,c);if(null==b)throw"No such constructor "+c;if(w.isFunction(b)){if(null==f)throw"Constructor "+c+" need parameters";return b.apply(a,f)}if(null!=f&&0!=f.length)throw"Constructor "+c+" does not need parameters";return b};C.createEnumIndex=function(a,c,f){var b=a.__constructs__[c];if(null==b)throw c+" is not a valid enum constructor index";return C.createEnum(a,b,f)};C.getInstanceFields=function(a){var c=
[],f;for(f in a.prototype)c.push(f);x.remove(c,"__class__");x.remove(c,"__properties__");return c};C.getClassFields=function(a){a=w.fields(a);x.remove(a,"__name__");x.remove(a,"__interfaces__");x.remove(a,"__properties__");x.remove(a,"__super__");x.remove(a,"prototype");return a};C.getEnumConstructs=function(a){return a.__constructs__.slice()};C["typeof"]=function(a){switch(typeof a){case "boolean":return D.TBool;case "string":return D.TClass(String);case "number":return Math.ceil(a)==a%2147483648?
D.TInt:D.TFloat;case "object":if(null==a)return D.TNull;var c=a.__enum__;if(null!=c)return D.TEnum(c);a=a.__class__;return null!=a?D.TClass(a):D.TObject;case "function":return a.__name__||a.__ename__?D.TObject:D.TFunction;case "undefined":return D.TNull;default:return D.TUnknown}};C.enumEq=function(a,c){if(a==c)return!0;try{if(a[0]!=c[0])return!1;for(var f=2,b=a.length;f<b;){var o=f++;if(!C.enumEq(a[o],c[o]))return!1}var d=a.__enum__;if(d!=c.__enum__||null==d)return!1}catch(e){return!1}return!0};
C.enumConstructor=function(a){return a[0]};C.enumParameters=function(a){return a.slice(2)};C.enumIndex=function(a){return a[1]};C.allEnums=function(a){for(var c=[],f=a.__constructs__,b=0;b<f.length;){var o=f[b];++b;o=w.field(a,o);w.isFunction(o)||c.push(o)}return c};var M=function(){d.display.Sprite.call(this);this.addEventListener(d.events.Event.ADDED_TO_STAGE,A(this,this.onAdded))};l.Universal=M;M.__name__=["Universal"];M.main=function(){var a=s.Lib.nmeGetCurrent().getStage();a.align=d.display.StageAlign.TOP_LEFT;
a.scaleMode=d.display.StageScaleMode.NO_SCALE;s.Lib.nmeGetCurrent().addChild(new M)};M.__super__=d.display.Sprite;M.prototype=t(d.display.Sprite.prototype,{init:function(){this.removeEventListener(d.events.Event.ADDED_TO_STAGE,A(this,this.onAdded));b.stencyl.Engine.stage=s.Lib.nmeGetCurrent().getStage();this.getStage().jeashGetStageWidth();this.getStage().jeashGetStageHeight();b.stencyl.Engine.SCALE=r.MyAssets.gameScale;b.stencyl.Engine.IMG_BASE=r.MyAssets.gameImageBase;var a=r.MyAssets.stageWidth,
c=r.MyAssets.stageHeight;r.MyAssets.stageWidth=r.MyAssets.stageWidth*b.stencyl.Engine.SCALE|0;r.MyAssets.stageHeight=r.MyAssets.stageHeight*b.stencyl.Engine.SCALE|0;this.setScrollRect(new d.geom.Rectangle(0,0,r.MyAssets.stageWidth,r.MyAssets.stageHeight));r.MyAssets.stageWidth=a;r.MyAssets.stageHeight=c;new b.stencyl.Engine(this)},onAdded:function(){this.init()},__class__:M});var y=function(){};l.Xml=y;y.__name__=["Xml"];y.Element=null;y.PCData=null;y.CData=null;y.Comment=null;y.DocType=null;y.Prolog=
null;y.Document=null;y.parse=function(a){return k.xml.Parser.parse(a)};y.createElement=function(a){var c=new y;c.nodeType=y.Element;c._children=[];c._attributes=new F;c.setNodeName(a);return c};y.createPCData=function(a){var c=new y;c.nodeType=y.PCData;c.setNodeValue(a);return c};y.createCData=function(a){var c=new y;c.nodeType=y.CData;c.setNodeValue(a);return c};y.createComment=function(a){var c=new y;c.nodeType=y.Comment;c.setNodeValue(a);return c};y.createDocType=function(a){var c=new y;c.nodeType=
y.DocType;c.setNodeValue(a);return c};y.createProlog=function(a){var c=new y;c.nodeType=y.Prolog;c.setNodeValue(a);return c};y.createDocument=function(){var a=new y;a.nodeType=y.Document;a._children=[];return a};y.prototype={toString:function(){if(this.nodeType==y.PCData)return this._nodeValue;if(this.nodeType==y.CData)return"<![CDATA["+this._nodeValue+"]]\>";if(this.nodeType==y.Comment)return"<\!--"+this._nodeValue+"--\>";if(this.nodeType==y.DocType)return"<!DOCTYPE "+this._nodeValue+">";if(this.nodeType==
y.Prolog)return"<?"+this._nodeValue+"?>";var a=new G;if(this.nodeType==y.Element){a.b+=m.string("<");a.b+=m.string(this._nodeName);for(var c=this._attributes.keys();c.hasNext();){var f=c.next();a.b+=m.string(" ");a.b+=m.string(f);a.b+=m.string('="');a.b+=m.string(this._attributes.get(f));a.b+=m.string('"')}if(0==this._children.length)return a.b+=m.string("/>"),a.b;a.b+=m.string(">")}for(c=this.iterator();c.hasNext();)f=c.next(),a.b+=m.string(f.toString());this.nodeType==y.Element&&(a.b+=m.string("</"),
a.b+=m.string(this._nodeName),a.b+=m.string(">"));return a.b},insertChild:function(a,c){if(null==this._children)throw"bad nodetype";null!=a._parent&&x.remove(a._parent._children,a);a._parent=this;this._children.splice(c,0,a)},removeChild:function(a){if(null==this._children)throw"bad nodetype";var c=x.remove(this._children,a);c&&(a._parent=null);return c},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&x.remove(a._parent._children,a);a._parent=this;this._children.push(a)},
firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,c=this._children.length;a<c;){var f=this._children[a];if(f.nodeType==y.Element)return f;a++}return null},firstChild:function(){if(null==this._children)throw"bad nodetype";return this._children[0]},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var c=this.cur,f=this.x.length;c<f;){var b=this.x[c];if(b.nodeType==y.Element&&b._nodeName==a)break;c++}this.cur=
c;return c<f},next:function(){for(var c=this.cur,f=this.x.length;c<f;){var b=this.x[c];c++;if(b.nodeType==y.Element&&b._nodeName==a)return this.cur=c,b}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,c=this.x.length;a<c&&this.x[a].nodeType!=y.Element;)a+=1;this.cur=a;return a<c},next:function(){for(var a=this.cur,c=this.x.length;a<c;){var f=this.x[a],a=a+1;if(f.nodeType==y.Element)return this.cur=a,
f}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},attributes:function(){if(this.nodeType!=y.Element)throw"bad nodeType";return this._attributes.keys()},exists:function(a){if(this.nodeType!=y.Element)throw"bad nodeType";return this._attributes.exists(a)},remove:function(a){if(this.nodeType!=y.Element)throw"bad nodeType";this._attributes.remove(a)},
set:function(a,c){if(this.nodeType!=y.Element)throw"bad nodeType";this._attributes.set(a,c)},get:function(a){if(this.nodeType!=y.Element)throw"bad nodeType";return this._attributes.get(a)},getParent:function(){return this._parent},setNodeValue:function(a){if(this.nodeType==y.Element||this.nodeType==y.Document)throw"bad nodeType";return this._nodeValue=a},getNodeValue:function(){if(this.nodeType==y.Element||this.nodeType==y.Document)throw"bad nodeType";return this._nodeValue},setNodeName:function(a){if(this.nodeType!=
y.Element)throw"bad nodeType";return this._nodeName=a},getNodeName:function(){if(this.nodeType!=y.Element)throw"bad nodeType";return this._nodeName},_parent:null,_children:null,_attributes:null,_nodeValue:null,_nodeName:null,parent:null,nodeValue:null,nodeName:null,nodeType:null,__class__:y,__properties__:{set_nodeName:"setNodeName",get_nodeName:"getNodeName",set_nodeValue:"setNodeValue",get_nodeValue:"getNodeValue",get_parent:"getParent"}};var e={collision:{}};e.collision.B2AABB=function(){this.lowerBound=
new e.common.math.B2Vec2;this.upperBound=new e.common.math.B2Vec2};l["box2D.collision.B2AABB"]=e.collision.B2AABB;e.collision.B2AABB.__name__=["box2D","collision","B2AABB"];e.collision.B2AABB.prototype={upperBound:null,lowerBound:null,combine:function(a,c){this.lowerBound.x=Math.min(a.lowerBound.x,c.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,c.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,c.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,c.upperBound.y)},testOverlap:function(a){var c=
a.lowerBound.y-this.upperBound.y,f=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<c||0<this.lowerBound.x-a.upperBound.x||0<f?!1:!0},rayCast:function(a,c){var f=-Number.MAX_VALUE,b=Number.MAX_VALUE,o=c.p1.x,d=c.p1.y,e=c.p2.x-c.p1.x,i=c.p2.y-c.p1.y,j=Math.abs(e),p=Math.abs(i),u=a.normal;if(j<Number.MIN_VALUE){if(o<this.lowerBound.x||this.upperBound.x<o)return!1}else if(j=1/e,e=(this.lowerBound.x-o)*j,o=(this.upperBound.x-o)*j,j=-1,e>o&&(j=e,e=o,o=j,j=1),e>f&&(u.x=j,u.y=
0,f=e),b=Math.min(b,o),f>b)return!1;if(p<Number.MIN_VALUE){if(d<this.lowerBound.y||this.upperBound.y<d)return!1}else if(j=1/i,e=(this.lowerBound.y-d)*j,o=(this.upperBound.y-d)*j,j=-1,e>o&&(j=e,e=o,o=j,j=1),e>f&&(u.y=j,u.x=0,f=e),b=Math.min(b,o),f>b)return!1;a.fraction=f;return!0},contains:function(a){var c;return c=(c=(c=(c=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y},getExtents:function(){return new e.common.math.B2Vec2((this.upperBound.x-
this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},getCenter:function(){return new e.common.math.B2Vec2((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},isValid:function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.isValid()&&this.upperBound.isValid()},__class__:e.collision.B2AABB};e.common={};e.common.math={};e.common.math.B2Vec2=function(a,c){null==c&&(c=0);null==a&&(a=0);this.x=
a;this.y=c};l["box2D.common.math.B2Vec2"]=e.common.math.B2Vec2;e.common.math.B2Vec2.__name__=["box2D","common","math","B2Vec2"];e.common.math.B2Vec2.make=function(a,c){return new e.common.math.B2Vec2(a,c)};e.common.math.B2Vec2.pooli=null;e.common.math.B2Vec2.freePool=function(){e.common.math.B2Vec2.pooli=0};e.common.math.B2Vec2.getFromPool=function(){if(e.common.math.B2Vec2.pooli<e.common.math.B2Vec2.pool.length){var a=e.common.math.B2Vec2.pool[e.common.math.B2Vec2.pooli];a.x=0;a.y=0}else a=new e.common.math.B2Vec2,
e.common.math.B2Vec2.pool.push(a);e.common.math.B2Vec2.pooli++;return a};e.common.math.B2Vec2.prototype={reset:function(){this.y=this.x=0},y:null,x:null,isValid:function(){return e.common.math.B2Math.isValid(this.x)&&e.common.math.B2Math.isValid(this.y)},winding:function(a,c){var f=a.copy();f.subtract(this);var b=c.copy();b.subtract(a);return f.perpDot(b)},perpDot:function(a){return-this.y*a.x+this.x*a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;
var c=1/a;this.x*=c;this.y*=c;return a},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},abs:function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)},maxV:function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y},minV:function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y},crossFV:function(a){var c=this.x;this.x=-a*this.y;this.y=a*c},crossVF:function(a){var c=this.x;this.x=a*this.y;this.y=
-a*c},mulTM:function(a){var c=e.common.math.B2Math.dot(this,a.col1);this.y=e.common.math.B2Math.dot(this,a.col2);this.x=c},mulM:function(a){var c=this.x;this.x=a.col1.x*c+a.col2.x*this.y;this.y=a.col1.y*c+a.col2.y*this.y},multiply:function(a){this.x*=a;this.y*=a},subtract:function(a){this.x-=a.x;this.y-=a.y},add:function(a){this.x+=a.x;this.y+=a.y},copy:function(a){null==a&&(a=!1);a?(a=e.common.math.B2Vec2.getFromPool(),a.x=this.x,a.y=this.y):a=new e.common.math.B2Vec2(this.x,this.y);return a},negativeSelf:function(){this.x=
-this.x;this.y=-this.y},getNegativePooled:function(){var a=e.common.math.B2Vec2.getFromPool();a.x=-this.x;a.y=-this.y;return a},getNegative:function(){return new e.common.math.B2Vec2(-this.x,-this.y)},setV:function(a){this.x=a.x;this.y=a.y},set:function(a,c){null==c&&(c=0);null==a&&(a=0);this.x=a;this.y=c},setZero:function(){this.y=this.x=0},__class__:e.common.math.B2Vec2};e.collision.ClipVertex=function(){this.v=new e.common.math.B2Vec2;this.id=new e.collision.B2ContactID};l["box2D.collision.ClipVertex"]=
e.collision.ClipVertex;e.collision.ClipVertex.__name__=["box2D","collision","ClipVertex"];e.collision.ClipVertex.prototype={id:null,v:null,set:function(a){this.v.setV(a.v);this.id.set(a.id)},__class__:e.collision.ClipVertex};e.collision.B2ContactID=function(){this.features=new e.collision.Features;this.features._m_id=this};l["box2D.collision.B2ContactID"]=e.collision.B2ContactID;e.collision.B2ContactID.__name__=["box2D","collision","B2ContactID"];e.collision.B2ContactID.prototype={_key:null,features:null,
setKey:function(a){this._key=a;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&-16777216)>>24&255;return this._key},getKey:function(){return this._key},key:null,copy:function(){var a=new e.collision.B2ContactID;a.setKey(this.getKey());return a},set:function(a){this.setKey(a._key)},__class__:e.collision.B2ContactID,__properties__:{set_key:"setKey",get_key:"getKey"}};
e.collision.Features=function(){};l["box2D.collision.Features"]=e.collision.Features;e.collision.Features.__name__=["box2D","collision","Features"];e.collision.Features.prototype={_m_id:null,_flip:null,setFlip:function(a){this._flip=a;this._m_id._key=this._m_id._key&16777215|this._flip<<24&-16777216;return a},getFlip:function(){return this._flip},flip:null,_incidentVertex:null,setIncidentVertex:function(a){this._incidentVertex=a;this._m_id._key=this._m_id._key&-16711681|this._incidentVertex<<16&16711680;
return a},getIncidentVertex:function(){return this._incidentVertex},incidentVertex:null,_incidentEdge:null,setIncidentEdge:function(a){this._incidentEdge=a;this._m_id._key=this._m_id._key&-65281|this._incidentEdge<<8&65280;return a},getIncidentEdge:function(){return this._incidentEdge},incidentEdge:null,_referenceEdge:null,setReferenceEdge:function(a){this._referenceEdge=a;this._m_id._key=this._m_id._key&-256|this._referenceEdge&255;return a},getReferenceEdge:function(){return this._referenceEdge},
referenceEdge:null,__class__:e.collision.Features,__properties__:{set_referenceEdge:"setReferenceEdge",get_referenceEdge:"getReferenceEdge",set_incidentEdge:"setIncidentEdge",get_incidentEdge:"getIncidentEdge",set_incidentVertex:"setIncidentVertex",get_incidentVertex:"getIncidentVertex",set_flip:"setFlip",get_flip:"getFlip"}};e.collision.B2Collision=function(){};l["box2D.collision.B2Collision"]=e.collision.B2Collision;e.collision.B2Collision.__name__=["box2D","collision","B2Collision"];e.collision.B2Collision.clipSegmentToLine=
function(a,c,f,b){var o,d=0;o=c[0];var e=o.v;o=c[1];var i=o.v,j=f.x*e.x+f.y*e.y-b;o=f.x*i.x+f.y*i.y-b;0>=j&&a[d++].set(c[0]);0>=o&&a[d++].set(c[1]);0>j*o&&(f=j/(j-o),o=a[d],o=o.v,o.x=e.x+f*(i.x-e.x),o.y=e.y+f*(i.y-e.y),o=a[d],o.id=(0<j?c[0]:c[1]).id,++d);return d};e.collision.B2Collision.edgeSeparation=function(a,c,f,b,o){var d=a.m_vertices,a=a.m_normals,e=b.m_vertexCount,i=b.m_vertices,j,p;j=c.R;p=a[f];a=j.col1.x*p.x+j.col2.x*p.y;b=j.col1.y*p.x+j.col2.y*p.y;j=o.R;var u=j.col1.x*a+j.col1.y*b;j=j.col2.x*
a+j.col2.y*b;for(var k=0,l=Number.MAX_VALUE,n=0;n<e;){var m=n++;p=i[m];p=p.x*u+p.y*j;p<l&&(l=p,k=m)}p=d[f];j=c.R;f=c.position.x+(j.col1.x*p.x+j.col2.x*p.y);c=c.position.y+(j.col1.y*p.x+j.col2.y*p.y);p=i[k];j=o.R;d=o.position.x+(j.col1.x*p.x+j.col2.x*p.y);o=o.position.y+(j.col1.y*p.x+j.col2.y*p.y);return(d-f)*a+(o-c)*b};e.collision.B2Collision.findMaxSeparation=function(a,c,f,b,d){var g=c.m_vertexCount,h=c.m_normals,i,j;j=d.R;i=b.m_centroid;var p=d.position.x+(j.col1.x*i.x+j.col2.x*i.y),u=d.position.y+
(j.col1.y*i.x+j.col2.y*i.y);j=f.R;i=c.m_centroid;p-=f.position.x+(j.col1.x*i.x+j.col2.x*i.y);u-=f.position.y+(j.col1.y*i.x+j.col2.y*i.y);j=p*f.R.col1.x+u*f.R.col1.y;for(var u=p*f.R.col2.x+u*f.R.col2.y,p=0,k=-Number.MAX_VALUE,l=0;l<g;){var n=l++;i=h[n];i=i.x*j+i.y*u;i>k&&(k=i,p=n)}h=e.collision.B2Collision.edgeSeparation(c,f,p,b,d);k=0<=p-1?p-1:g-1;j=e.collision.B2Collision.edgeSeparation(c,f,k,b,d);l=p+1<g?p+1:0;u=e.collision.B2Collision.edgeSeparation(c,f,l,b,d);if(j>h&&j>u)i=-1;else if(u>h)i=1,
k=l,j=u;else return a[0]=p,h;for(;;)if(p=-1==i?0<=k-1?k-1:g-1:k+1<g?k+1:0,h=e.collision.B2Collision.edgeSeparation(c,f,p,b,d),h>j)k=p,j=h;else break;a[0]=k;return j};e.collision.B2Collision.findIncidentEdge=function(a,c,f,b,d,e){var h=c.m_normals,i=d.m_vertexCount,c=d.m_vertices,d=d.m_normals,j;j=f.R;var f=h[b],h=j.col1.x*f.x+j.col2.x*f.y,p=j.col1.y*f.x+j.col2.y*f.y;j=e.R;f=j.col1.x*h+j.col1.y*p;p=j.col2.x*h+j.col2.y*p;h=f;j=0;for(var u=Number.MAX_VALUE,k=0;k<i;){var l=k++,f=d[l],f=h*f.x+p*f.y;f<
u&&(u=f,j=l)}d=j;h=d+1<i?d+1:0;i=a[0];f=c[d];j=e.R;i.v.x=e.position.x+(j.col1.x*f.x+j.col2.x*f.y);i.v.y=e.position.y+(j.col1.y*f.x+j.col2.y*f.y);i.id.features.setReferenceEdge(b);i.id.features.setIncidentEdge(d);i.id.features.setIncidentVertex(0);i=a[1];f=c[h];j=e.R;i.v.x=e.position.x+(j.col1.x*f.x+j.col2.x*f.y);i.v.y=e.position.y+(j.col1.y*f.x+j.col2.y*f.y);i.id.features.setReferenceEdge(b);i.id.features.setIncidentEdge(h);i.id.features.setIncidentVertex(1)};e.collision.B2Collision.makeClipPointVector=
function(){var a=[];a[0]=new e.collision.ClipVertex;a[1]=new e.collision.ClipVertex;return a};e.collision.B2Collision.collidePolygons=function(a,c,f,b,d){var g;a.m_pointCount=0;var h=c.m_radius+b.m_radius,i;e.collision.B2Collision.s_edgeAO[0]=0;var j=e.collision.B2Collision.findMaxSeparation(e.collision.B2Collision.s_edgeAO,c,f,b,d);i=e.collision.B2Collision.s_edgeAO[0];if(!(j>h)){var p;e.collision.B2Collision.s_edgeBO[0]=0;var u=e.collision.B2Collision.findMaxSeparation(e.collision.B2Collision.s_edgeBO,
b,d,c,f);p=e.collision.B2Collision.s_edgeBO[0];if(!(u>h)){u>0.98*j+0.0010?(j=b,b=c,c=d,a.m_type=e.collision.B2Manifold.e_faceB,i=1):(j=c,c=f,f=d,p=i,a.m_type=e.collision.B2Manifold.e_faceA,i=0);d=e.collision.B2Collision.s_incidentEdge;e.collision.B2Collision.findIncidentEdge(d,j,c,p,b,f);var u=j.m_vertices,b=u[p],k;k=p+1<j.m_vertexCount?u[p+1|0]:u[0];j=e.collision.B2Collision.s_localTangent;j.x=k.x-b.x;j.y=k.y-b.y;j.normalize();u=e.collision.B2Collision.s_localNormal;u.x=j.y;u.y=-j.x;var l=e.collision.B2Collision.s_planePoint;
l.x=0.5*(b.x+k.x);l.y=0.5*(b.y+k.y);g=e.collision.B2Collision.s_tangent;p=c.R;g.x=p.col1.x*j.x+p.col2.x*j.y;g.y=p.col1.y*j.x+p.col2.y*j.y;var n=e.collision.B2Collision.s_tangent2;n.x=-g.x;n.y=-g.y;j=e.collision.B2Collision.s_normal;j.x=g.y;j.y=-g.x;var m=e.collision.B2Collision.s_v11,q=e.collision.B2Collision.s_v12;m.x=c.position.x+(p.col1.x*b.x+p.col2.x*b.y);m.y=c.position.y+(p.col1.y*b.x+p.col2.y*b.y);q.x=c.position.x+(p.col1.x*k.x+p.col2.x*k.y);q.y=c.position.y+(p.col1.y*k.x+p.col2.y*k.y);c=j.x*
m.x+j.y*m.y;p=g.x*q.x+g.y*q.y+h;k=e.collision.B2Collision.s_clipPoints1;b=e.collision.B2Collision.s_clipPoints2;d=e.collision.B2Collision.clipSegmentToLine(k,d,n,-g.x*m.x-g.y*m.y+h);if(!(2>d)&&(d=e.collision.B2Collision.clipSegmentToLine(b,k,g,p),!(2>d))){a.m_localPlaneNormal.setV(u);a.m_localPoint.setV(l);u=d=0;for(l=e.common.B2Settings.b2_maxManifoldPoints;u<l;)p=u++,g=b[p],j.x*g.v.x+j.y*g.v.y-c<=h&&(n=a.m_points[d],p=f.R,m=g.v.x-f.position.x,k=g.v.y-f.position.y,n.m_localPoint.x=m*p.col1.x+k*p.col1.y,
n.m_localPoint.y=m*p.col2.x+k*p.col2.y,n.m_id.set(g.id),n.m_id.features.setFlip(i),++d);a.m_pointCount=d}}}};e.collision.B2Collision.collideCircles=function(a,c,f,b,d){a.m_pointCount=0;var g,h;g=f.R;h=c.m_p;var i=f.position.x+(g.col1.x*h.x+g.col2.x*h.y),f=f.position.y+(g.col1.y*h.x+g.col2.y*h.y);g=d.R;h=b.m_p;i=d.position.x+(g.col1.x*h.x+g.col2.x*h.y)-i;d=d.position.y+(g.col1.y*h.x+g.col2.y*h.y)-f;g=c.m_radius+b.m_radius;i*i+d*d>g*g||(a.m_type=e.collision.B2Manifold.e_circles,a.m_localPoint.setV(c.m_p),
a.m_localPlaneNormal.setZero(),a.m_pointCount=1,a.m_points[0].m_localPoint.setV(b.m_p),a.m_points[0].m_id.setKey(0))};e.collision.B2Collision.collidePolygonAndCircle=function(a,c,f,b,d){a.m_pointCount=0;var g,h,i,j;j=d.R;i=b.m_p;var p=d.position.y+(j.col1.y*i.x+j.col2.y*i.y);g=d.position.x+(j.col1.x*i.x+j.col2.x*i.y)-f.position.x;h=p-f.position.y;j=f.R;f=g*j.col1.x+h*j.col1.y;j=g*j.col2.x+h*j.col2.y;for(var u=0,d=-Number.MAX_VALUE,p=c.m_radius+b.m_radius,k=c.m_vertexCount,l=c.m_vertices,c=c.m_normals,
n=0;n<k;){var m=n++;i=l[m];g=f-i.x;h=j-i.y;i=c[m];i=i.x*g+i.y*h;if(i>p)return;i>d&&(d=i,u=m)}i=u;g=l[i];k=l[i+1<k?i+1:0];d<Number.MIN_VALUE?(a.m_pointCount=1,a.m_type=e.collision.B2Manifold.e_faceA,a.m_localPlaneNormal.setV(c[u]),a.m_localPoint.x=0.5*(g.x+k.x),a.m_localPoint.y=0.5*(g.y+k.y),a.m_points[0].m_localPoint.setV(b.m_p),a.m_points[0].m_id.setKey(0)):(d=(f-k.x)*(g.x-k.x)+(j-k.y)*(g.y-k.y),0>=(f-g.x)*(k.x-g.x)+(j-g.y)*(k.y-g.y)?(f-g.x)*(f-g.x)+(j-g.y)*(j-g.y)>p*p||(a.m_pointCount=1,a.m_type=
e.collision.B2Manifold.e_faceA,a.m_localPlaneNormal.x=f-g.x,a.m_localPlaneNormal.y=j-g.y,a.m_localPlaneNormal.normalize(),a.m_localPoint.setV(g),a.m_points[0].m_localPoint.setV(b.m_p),a.m_points[0].m_id.setKey(0)):0>=d?(f-k.x)*(f-k.x)+(j-k.y)*(j-k.y)>p*p||(a.m_pointCount=1,a.m_type=e.collision.B2Manifold.e_faceA,a.m_localPlaneNormal.x=f-k.x,a.m_localPlaneNormal.y=j-k.y,a.m_localPlaneNormal.normalize(),a.m_localPoint.setV(k),a.m_points[0].m_localPoint.setV(b.m_p),a.m_points[0].m_id.setKey(0)):(u=0.5*
(g.x+k.x),g=0.5*(g.y+k.y),d=(f-u)*c[i].x+(j-g)*c[i].y,d>p||(a.m_pointCount=1,a.m_type=e.collision.B2Manifold.e_faceA,a.m_localPlaneNormal.x=c[i].x,a.m_localPlaneNormal.y=c[i].y,a.m_localPlaneNormal.normalize(),a.m_localPoint.set(u,g),a.m_points[0].m_localPoint.setV(b.m_p),a.m_points[0].m_id.setKey(0))))};e.collision.B2Collision.testOverlap=function(a,c){var f=c.lowerBound,b=a.upperBound,d=f.x-b.x,e=f.y-b.y,f=a.lowerBound,b=c.upperBound,h=f.y-b.y;return 0<d||0<e||0<f.x-b.x||0<h?!1:!0};e.collision.B2ContactPoint=
function(){this.position=new e.common.math.B2Vec2;this.velocity=new e.common.math.B2Vec2;this.normal=new e.common.math.B2Vec2;this.id=new e.collision.B2ContactID};l["box2D.collision.B2ContactPoint"]=e.collision.B2ContactPoint;e.collision.B2ContactPoint.__name__=["box2D","collision","B2ContactPoint"];e.collision.B2ContactPoint.prototype={id:null,restitution:null,friction:null,separation:null,normal:null,velocity:null,position:null,shape2:null,shape1:null,__class__:e.collision.B2ContactPoint};e.collision.B2Simplex=
function(){this.m_v1=new e.collision.B2SimplexVertex;this.m_v2=new e.collision.B2SimplexVertex;this.m_v3=new e.collision.B2SimplexVertex;this.m_vertices=[];this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3};l["box2D.collision.B2Simplex"]=e.collision.B2Simplex;e.collision.B2Simplex.__name__=["box2D","collision","B2Simplex"];e.collision.B2Simplex.prototype={m_count:null,m_vertices:null,m_v3:null,m_v2:null,m_v1:null,solve3:function(){var a=this.m_v1.w,c=this.m_v2.w,
f=this.m_v3.w,b=e.common.math.B2Math.subtractVVPooled(c,a),d=e.common.math.B2Math.dot(a,b),g=e.common.math.B2Math.dot(c,b),d=-d,h=e.common.math.B2Math.subtractVVPooled(f,a),i=e.common.math.B2Math.dot(a,h),j=e.common.math.B2Math.dot(f,h),i=-i,p=e.common.math.B2Math.subtractVVPooled(f,c),u=e.common.math.B2Math.dot(c,p),p=e.common.math.B2Math.dot(f,p),u=-u,h=e.common.math.B2Math.crossVV(b,h),b=h*e.common.math.B2Math.crossVV(c,f),f=h*e.common.math.B2Math.crossVV(f,a),a=h*e.common.math.B2Math.crossVV(a,
c);0>=d&&0>=i?this.m_count=this.m_v1.a=1:0<g&&0<d&&0>=a?(j=1/(g+d),this.m_v1.a=g*j,this.m_v2.a=d*j,this.m_count=2):0<j&&0<i&&0>=f?(g=1/(j+i),this.m_v1.a=j*g,this.m_v3.a=i*g,this.m_count=2,this.m_v2.set(this.m_v3)):0>=g&&0>=u?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):0>=j&&0>=p?(this.m_count=this.m_v3.a=1,this.m_v1.set(this.m_v3)):0<p&&0<u&&0>=b?(g=1/(p+u),this.m_v2.a=p*g,this.m_v3.a=u*g,this.m_count=2,this.m_v1.set(this.m_v3)):(g=1/(b+f+a),this.m_v1.a=b*g,this.m_v2.a=f*g,this.m_v3.a=a*
g,this.m_count=3)},solve2:function(){var a=this.m_v1.w,c=this.m_v2.w,f=e.common.math.B2Math.subtractVVPooled(c,a),a=-(a.x*f.x+a.y*f.y);0>=a?this.m_count=this.m_v1.a=1:(c=c.x*f.x+c.y*f.y,0>=c?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):(f=1/(c+a),this.m_v1.a=c*f,this.m_v2.a=a*f,this.m_count=2))},getMetric:function(){switch(this.m_count){case 0:return e.common.B2Settings.b2Assert(!1),0;case 1:return 0;case 2:return e.common.math.B2Math.subtractVVPooled(this.m_v1.w,this.m_v2.w).length();case 3:return e.common.math.B2Math.crossVV(e.common.math.B2Math.subtractVVPooled(this.m_v2.w,
this.m_v1.w),e.common.math.B2Math.subtractVVPooled(this.m_v3.w,this.m_v1.w));default:return e.common.B2Settings.b2Assert(!1),0}},getWitnessPoints:function(a,c){switch(this.m_count){case 0:e.common.B2Settings.b2Assert(!1);break;case 1:a.setV(this.m_v1.wA);c.setV(this.m_v1.wB);break;case 2:a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;c.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x;c.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*
this.m_v2.wB.y;break;case 3:c.x=a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;c.y=a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:e.common.B2Settings.b2Assert(!1)}},getClosestPoint:function(){switch(this.m_count){case 0:return e.common.B2Settings.b2Assert(!1),e.common.math.B2Vec2.getFromPool();case 1:return this.m_v1.w;case 2:var a=e.common.math.B2Vec2.getFromPool();a.x=this.m_v1.a*this.m_v1.w.x+this.m_v2.a*
this.m_v2.w.x;a.y=this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y;return a;default:return e.common.B2Settings.b2Assert(!1),e.common.math.B2Vec2.getFromPool()}},getSearchDirection:function(){switch(this.m_count){case 1:return this.m_v1.w.getNegativePooled();case 2:var a=e.common.math.B2Math.subtractVVPooled(this.m_v2.w,this.m_v1.w);return 0<e.common.math.B2Math.crossVV(a,this.m_v1.w.getNegative())?e.common.math.B2Math.crossFV(1,a,!0):e.common.math.B2Math.crossVF(a,1,!0);default:return e.common.B2Settings.b2Assert(!1),
e.common.math.B2Vec2.getFromPool()}},writeCache:function(a){a.metric=this.getMetric();a.count=this.m_count|0;for(var c=this.m_vertices,f=0,b=this.m_count;f<b;){var d=f++;a.indexA[d]=c[d].indexA|0;a.indexB[d]=c[d].indexB|0}},readCache:function(a,c,f,b,d){e.common.B2Settings.b2Assert(0<=a.count&&3>=a.count);var g,h;this.m_count=a.count;for(var i=this.m_vertices,j,p=0,u=this.m_count;p<u;)g=p++,j=i[g],j.indexA=a.indexA[g],j.indexB=a.indexB[g],g=c.getVertex(j.indexA),h=b.getVertex(j.indexB),j.wA=e.common.math.B2Math.mulX(f,
g,!0),j.wB=e.common.math.B2Math.mulX(d,h,!0),j.w=e.common.math.B2Math.subtractVVPooled(j.wB,j.wA),j.a=0;if(1<this.m_count&&(a=a.metric,j=this.getMetric(),j<0.5*a||2*a<j||j<Number.MIN_VALUE))this.m_count=0;0==this.m_count&&(j=i[0],j.indexA=0,j.indexB=0,g=c.getVertex(0),h=b.getVertex(0),j.wA=e.common.math.B2Math.mulX(f,g,!0),j.wB=e.common.math.B2Math.mulX(d,h,!0),j.w=e.common.math.B2Math.subtractVVPooled(j.wB,j.wA),this.m_count=1)},__class__:e.collision.B2Simplex};e.collision.B2SimplexVertex=function(){};
l["box2D.collision.B2SimplexVertex"]=e.collision.B2SimplexVertex;e.collision.B2SimplexVertex.__name__=["box2D","collision","B2SimplexVertex"];e.collision.B2SimplexVertex.prototype={indexB:null,indexA:null,a:null,w:null,wB:null,wA:null,set:function(a){this.wA.setV(a.wA);this.wB.setV(a.wB);this.w.setV(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB},__class__:e.collision.B2SimplexVertex};e.collision.B2Distance=function(){};l["box2D.collision.B2Distance"]=e.collision.B2Distance;e.collision.B2Distance.__name__=
["box2D","collision","B2Distance"];e.collision.B2Distance.b2_gjkCalls=null;e.collision.B2Distance.b2_gjkIters=null;e.collision.B2Distance.b2_gjkMaxIters=null;e.collision.B2Distance.distance=function(a,c,f){++e.collision.B2Distance.b2_gjkCalls;var b=f.proxyA,d=f.proxyB,g=f.transformA,h=f.transformB,i=e.collision.B2Distance.s_simplex;i.readCache(c,b,g,d,h);var j=i.m_vertices,p=e.collision.B2Distance.s_saveA,u=e.collision.B2Distance.s_saveB,k=0;i.getClosestPoint().lengthSquared();for(var l,n=0;20>n;){for(var k=
i.m_count,m=0;m<k;){var q=m++;p[q]=j[q].indexA;u[q]=j[q].indexB}switch(i.m_count){case 1:break;case 2:i.solve2();break;case 3:i.solve3();break;default:e.common.B2Settings.b2Assert(!1)}if(3==i.m_count)break;l=i.getClosestPoint();l.lengthSquared();m=i.getSearchDirection();if(m.lengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;l=j[i.m_count];l.indexA=b.getSupport(e.common.math.B2Math.mulTMV(g.R,m.getNegativePooled(),!0))|0;l.wA=e.common.math.B2Math.mulX(g,b.getVertex(l.indexA),!0);l.indexB=d.getSupport(e.common.math.B2Math.mulTMV(h.R,
m,!0))|0;l.wB=e.common.math.B2Math.mulX(h,d.getVertex(l.indexB),!0);l.w=e.common.math.B2Math.subtractVVPooled(l.wB,l.wA);++n;++e.collision.B2Distance.b2_gjkIters;for(var r=!1,m=0;m<k;)if(q=m++,l.indexA==p[q]&&l.indexB==u[q]){r=!0;break}if(r)break;++i.m_count}e.collision.B2Distance.b2_gjkMaxIters=e.common.math.B2Math.max(e.collision.B2Distance.b2_gjkMaxIters,n)|0;i.getWitnessPoints(a.pointA,a.pointB);a.distance=e.common.math.B2Math.subtractVVPooled(a.pointA,a.pointB).length();a.iterations=n;i.writeCache(c);
f.useRadii&&(c=b.m_radius,d=d.m_radius,a.distance>c+d&&a.distance>Number.MIN_VALUE?(a.distance-=c+d,f=e.common.math.B2Math.subtractVVPooled(a.pointB,a.pointA),f.normalize(),a.pointA.x+=c*f.x,a.pointA.y+=c*f.y,a.pointB.x-=d*f.x,a.pointB.y-=d*f.y):(l=e.common.math.B2Vec2.getFromPool(),l.x=0.5*(a.pointA.x+a.pointB.x),l.y=0.5*(a.pointA.y+a.pointB.y),a.pointA.x=a.pointB.x=l.x,a.pointA.y=a.pointB.y=l.y,a.distance=0))};e.collision.B2DistanceInput=function(){};l["box2D.collision.B2DistanceInput"]=e.collision.B2DistanceInput;
e.collision.B2DistanceInput.__name__=["box2D","collision","B2DistanceInput"];e.collision.B2DistanceInput.prototype={useRadii:null,transformB:null,transformA:null,proxyB:null,proxyA:null,__class__:e.collision.B2DistanceInput};e.collision.B2DistanceOutput=function(){this.pointA=new e.common.math.B2Vec2;this.pointB=new e.common.math.B2Vec2};l["box2D.collision.B2DistanceOutput"]=e.collision.B2DistanceOutput;e.collision.B2DistanceOutput.__name__=["box2D","collision","B2DistanceOutput"];e.collision.B2DistanceOutput.prototype=
{iterations:null,distance:null,pointB:null,pointA:null,__class__:e.collision.B2DistanceOutput};e.collision.B2DistanceProxy=function(){this.m_vertices=[]};l["box2D.collision.B2DistanceProxy"]=e.collision.B2DistanceProxy;e.collision.B2DistanceProxy.__name__=["box2D","collision","B2DistanceProxy"];e.collision.B2DistanceProxy.prototype={m_radius:null,m_count:null,m_vertices:null,getVertex:function(a){e.common.B2Settings.b2Assert(0<=a&&a<this.m_count);return this.m_vertices[a]},getVertexCount:function(){return this.m_count},
getSupportVertex:function(a){for(var c=0,f=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,b=1,d=this.m_count;b<d;){var e=b++,h=this.m_vertices[e].x*a.x+this.m_vertices[e].y*a.y;h>f&&(c=e,f=h)}return this.m_vertices[c]},getSupport:function(a){for(var c=0,f=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,b=1,d=this.m_count;b<d;){var e=b++,h=this.m_vertices[e].x*a.x+this.m_vertices[e].y*a.y;h>f&&(c=e,f=h)}return c},set:function(a){switch(a.getType()){case e.collision.shapes.B2Shape.e_circleShape:a=
n.Boot.__cast(a,e.collision.shapes.B2CircleShape);this.m_vertices=[];this.m_vertices[0]=a.m_p;this.m_count=1;this.m_radius=a.m_radius;break;case e.collision.shapes.B2Shape.e_polygonShape:a=n.Boot.__cast(a,e.collision.shapes.B2PolygonShape);this.m_vertices=a.m_vertices;this.m_count=a.m_vertexCount;this.m_radius=a.m_radius;break;default:e.common.B2Settings.b2Assert(!1)}},__class__:e.collision.B2DistanceProxy};e.collision.B2DynamicTree=function(){this.m_freeList=this.m_root=null;this.m_insertionCount=
this.m_path=0};l["box2D.collision.B2DynamicTree"]=e.collision.B2DynamicTree;e.collision.B2DynamicTree.__name__=["box2D","collision","B2DynamicTree"];e.collision.B2DynamicTree.prototype={m_insertionCount:null,m_path:null,m_freeList:null,m_root:null,removeLeaf:function(a){if(a==this.m_root)this.m_root=null;else{var c=a.parent,f=c.parent,a=c.child1==a?c.child2:c.child1;if(null!=f){f.child1==c?f.child1=a:f.child2=a;a.parent=f;for(this.freeNode(c);null!=f;){c=f.aabb;f.aabb=new e.collision.B2AABB;f.aabb.combine(f.child1.aabb,
f.child2.aabb);if(c.contains(f.aabb))break;f=f.parent}}else this.m_root=a,a.parent=null,this.freeNode(c)}},insertLeaf:function(a){++this.m_insertionCount;if(null==this.m_root)this.m_root=a,this.m_root.parent=null;else{var c=a.aabb.getCenter(),f=this.m_root;if(!1==f.isLeaf()){do var b=f.child1,f=f.child2,d=Math.abs((b.aabb.lowerBound.x+b.aabb.upperBound.x)/2-c.x)+Math.abs((b.aabb.lowerBound.y+b.aabb.upperBound.y)/2-c.y),e=Math.abs((f.aabb.lowerBound.x+f.aabb.upperBound.x)/2-c.x)+Math.abs((f.aabb.lowerBound.y+
f.aabb.upperBound.y)/2-c.y),f=d<e?b:f;while(!1==f.isLeaf())}c=f.parent;b=this.allocateNode();b.parent=c;b.userData=null;b.aabb.combine(a.aabb,f.aabb);if(null!=c){f.parent.child1==f?c.child1=b:c.child2=b;b.child1=f;b.child2=a;f.parent=b;a.parent=b;do{if(c.aabb.contains(b.aabb))break;c.aabb.combine(c.child1.aabb,c.child2.aabb);b=c;c=c.parent}while(null!=c)}else b.child1=f,b.child2=a,f.parent=b,this.m_root=a.parent=b}},freeNode:function(a){a.parent=this.m_freeList;this.m_freeList=a},allocateNode:function(){if(null!=
this.m_freeList){var a=this.m_freeList;this.m_freeList=a.parent;a.parent=null;a.child1=null;a.child2=null;return a}return new e.collision.B2DynamicTreeNode},rayCast:function(a,c){if(null!=this.m_root){var f=c.p1,b=c.p2,d=e.common.math.B2Math.subtractVVPooled(f,b);d.normalize();var d=e.common.math.B2Math.crossFV(1,d),g=e.common.math.B2Math.absV(d),h=c.maxFraction,i=new e.collision.B2AABB,j;j=f.x+h*(b.x-f.x);h=f.y+h*(b.y-f.y);i.lowerBound.x=Math.min(f.x,j);i.lowerBound.y=Math.min(f.y,h);i.upperBound.x=
Math.max(f.x,j);i.upperBound.y=Math.max(f.y,h);var p=[],u=0;for(p[u++]=this.m_root;0<u;)if(j=p[--u],!1!=j.aabb.testOverlap(i)){var h=j.aabb.getCenter(),k=j.aabb.getExtents();if(!(0<Math.abs(d.x*(f.x-h.x)+d.y*(f.y-h.y))-g.x*k.x-g.y*k.y))if(j.isLeaf()){h=new e.collision.B2RayCastInput;h.p1=c.p1;h.p2=c.p2;h.maxFraction=c.maxFraction;h=a(h,j);if(0==h)break;j=f.x+h*(b.x-f.x);h=f.y+h*(b.y-f.y);i.lowerBound.x=Math.min(f.x,j);i.lowerBound.y=Math.min(f.y,h);i.upperBound.x=Math.max(f.x,j);i.upperBound.y=Math.max(f.y,
h)}else p[u++]=j.child1,p[u++]=j.child2}}},query:function(a,c){if(null!=this.m_root){var f=[],b=0;for(f[b++]=this.m_root;0<b;){var d=f[--b];if(d.aabb.testOverlap(c))if(d.isLeaf()){if(!a(d))break}else f[b++]=d.child1,f[b++]=d.child2}}},getUserData:function(a){return a.userData},getFatAABB:function(a){return a.aabb},rebalance:function(a){if(null!=this.m_root)for(var c=0;c<a;){c++;for(var f=this.m_root,b=0;!1==f.isLeaf();)f=0!=(this.m_path>>b&1)?f.child2:f.child1,b=b+1&31;++this.m_path;this.removeLeaf(f);
this.insertLeaf(f)}},moveProxy:function(a,c,f){e.common.B2Settings.b2Assert(a.isLeaf());if(a.aabb.contains(c))return!1;this.removeLeaf(a);var b=e.common.B2Settings.b2_aabbExtension+e.common.B2Settings.b2_aabbMultiplier*(0<f.x?f.x:-f.x),f=e.common.B2Settings.b2_aabbExtension+e.common.B2Settings.b2_aabbMultiplier*(0<f.y?f.y:-f.y);a.aabb.lowerBound.x=c.lowerBound.x-b;a.aabb.lowerBound.y=c.lowerBound.y-f;a.aabb.upperBound.x=c.upperBound.x+b;a.aabb.upperBound.y=c.upperBound.y+f;this.insertLeaf(a);return!0},
destroyProxy:function(a){this.removeLeaf(a);this.freeNode(a)},createProxy:function(a,c){var f=this.allocateNode(),b=e.common.B2Settings.b2_aabbExtension,d=e.common.B2Settings.b2_aabbExtension;f.aabb.lowerBound.x=a.lowerBound.x-b;f.aabb.lowerBound.y=a.lowerBound.y-d;f.aabb.upperBound.x=a.upperBound.x+b;f.aabb.upperBound.y=a.upperBound.y+d;f.userData=c;this.insertLeaf(f);return f},__class__:e.collision.B2DynamicTree};e.collision.IBroadPhase=function(){};l["box2D.collision.IBroadPhase"]=e.collision.IBroadPhase;
e.collision.IBroadPhase.__name__=["box2D","collision","IBroadPhase"];e.collision.IBroadPhase.prototype={rebalance:null,validate:null,rayCast:null,query:null,updatePairs:null,getProxyCount:null,getFatAABB:null,getUserData:null,testOverlap:null,moveProxy:null,destroyProxy:null,createProxy:null,__class__:e.collision.IBroadPhase};e.collision.B2DynamicTreeBroadPhase=function(){this.m_tree=new e.collision.B2DynamicTree;this.m_moveBuffer=[];this.m_pairBuffer=[];this.m_pairCount=0};l["box2D.collision.B2DynamicTreeBroadPhase"]=
e.collision.B2DynamicTreeBroadPhase;e.collision.B2DynamicTreeBroadPhase.__name__=["box2D","collision","B2DynamicTreeBroadPhase"];e.collision.B2DynamicTreeBroadPhase.__interfaces__=[e.collision.IBroadPhase];e.collision.B2DynamicTreeBroadPhase.prototype={m_pairCount:null,m_pairBuffer:null,m_moveBuffer:null,m_proxyCount:null,m_tree:null,comparePairs:function(){return 0},unBufferMove:function(a){x.remove(this.m_moveBuffer,a)},bufferMove:function(a){this.m_moveBuffer[this.m_moveBuffer.length]=a},rebalance:function(a){this.m_tree.rebalance(a)},
validate:function(){},rayCast:function(a,c){this.m_tree.rayCast(a,c)},query:function(a,c){this.m_tree.query(a,c)},updatePairs:function(a){for(var c=this,f=this.m_pairCount=0,b=this.m_moveBuffer;f<b.length;){var d=[b[f]];++f;var g=function(a){return function(f){if(f==a[0])return!0;c.m_pairCount==c.m_pairBuffer.length&&(c.m_pairBuffer[c.m_pairCount]=new e.collision.B2DynamicTreePair);var b=c.m_pairBuffer[c.m_pairCount];f.id<a[0].id?(b.proxyA=f,b.proxyB=a[0]):(b.proxyA=a[0],b.proxyB=f);++c.m_pairCount;
return!0}}(d),d=this.m_tree.getFatAABB(d[0]);this.m_tree.query(g,d)}this.m_moveBuffer=[];f=!0;for(b=0;f;)if(b>=this.m_pairCount)f=!1;else{var g=this.m_pairBuffer[b],d=this.m_tree.getUserData(g.proxyA),h=this.m_tree.getUserData(g.proxyB);a(d,h);for(++b;b<this.m_pairCount;){d=this.m_pairBuffer[b];if(d.proxyA!=g.proxyA||d.proxyB!=g.proxyB)break;++b}}},getProxyCount:function(){return this.m_proxyCount},getFatAABB:function(a){return this.m_tree.getFatAABB(a)},getUserData:function(a){return this.m_tree.getUserData(a)},
testOverlap:function(a,c){var f=this.m_tree.getFatAABB(a),b=this.m_tree.getFatAABB(c);return f.testOverlap(b)},moveProxy:function(a,c,f){this.m_tree.moveProxy(a,c,f)&&this.bufferMove(a)},destroyProxy:function(a){this.unBufferMove(a);--this.m_proxyCount;this.m_tree.destroyProxy(a)},createProxy:function(a,c){var f=this.m_tree.createProxy(a,c);++this.m_proxyCount;this.bufferMove(f);return f},__class__:e.collision.B2DynamicTreeBroadPhase};e.collision.B2DynamicTreeNode=function(){this.aabb=new e.collision.B2AABB;
this.id=e.collision.B2DynamicTreeNode.currentID++};l["box2D.collision.B2DynamicTreeNode"]=e.collision.B2DynamicTreeNode;e.collision.B2DynamicTreeNode.__name__=["box2D","collision","B2DynamicTreeNode"];e.collision.B2DynamicTreeNode.prototype={child2:null,child1:null,parent:null,aabb:null,userData:null,isLeaf:function(){return null==this.child1},id:null,__class__:e.collision.B2DynamicTreeNode};e.collision.B2DynamicTreePair=function(){};l["box2D.collision.B2DynamicTreePair"]=e.collision.B2DynamicTreePair;
e.collision.B2DynamicTreePair.__name__=["box2D","collision","B2DynamicTreePair"];e.collision.B2DynamicTreePair.prototype={proxyB:null,proxyA:null,__class__:e.collision.B2DynamicTreePair};e.collision.B2Manifold=function(){this.m_pointCount=0;this.m_points=[];for(var a=0,c=e.common.B2Settings.b2_maxManifoldPoints;a<c;){var f=a++;this.m_points[f]=new e.collision.B2ManifoldPoint}this.m_localPlaneNormal=new e.common.math.B2Vec2;this.m_localPoint=new e.common.math.B2Vec2};l["box2D.collision.B2Manifold"]=
e.collision.B2Manifold;e.collision.B2Manifold.__name__=["box2D","collision","B2Manifold"];e.collision.B2Manifold.prototype={m_pointCount:null,m_type:null,m_localPoint:null,m_localPlaneNormal:null,m_points:null,copy:function(){var a=new e.collision.B2Manifold;a.set(this);return a},set:function(a){this.m_pointCount=a.m_pointCount;for(var c=0,f=e.common.B2Settings.b2_maxManifoldPoints;c<f;){var b=c++;this.m_points[b].set(a.m_points[b])}this.m_localPlaneNormal.setV(a.m_localPlaneNormal);this.m_localPoint.setV(a.m_localPoint);
this.m_type=a.m_type},reset:function(){for(var a=0,c=e.common.B2Settings.b2_maxManifoldPoints;a<c;){var f=a++;this.m_points[f].reset()}this.m_localPlaneNormal.setZero();this.m_localPoint.setZero();this.m_pointCount=this.m_type=0},__class__:e.collision.B2Manifold};e.collision.B2ManifoldPoint=function(){this.m_localPoint=new e.common.math.B2Vec2;this.m_id=new e.collision.B2ContactID;this.reset()};l["box2D.collision.B2ManifoldPoint"]=e.collision.B2ManifoldPoint;e.collision.B2ManifoldPoint.__name__=["box2D",
"collision","B2ManifoldPoint"];e.collision.B2ManifoldPoint.prototype={m_id:null,m_tangentImpulse:null,m_normalImpulse:null,m_localPoint:null,set:function(a){this.m_localPoint.setV(a.m_localPoint);this.m_normalImpulse=a.m_normalImpulse;this.m_tangentImpulse=a.m_tangentImpulse;this.m_id.set(a.m_id)},reset:function(){this.m_localPoint.setZero();this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.setKey(0)},__class__:e.collision.B2ManifoldPoint};e.collision.B2OBB=function(){this.R=new e.common.math.B2Mat22;
this.center=new e.common.math.B2Vec2;this.extents=new e.common.math.B2Vec2};l["box2D.collision.B2OBB"]=e.collision.B2OBB;e.collision.B2OBB.__name__=["box2D","collision","B2OBB"];e.collision.B2OBB.prototype={extents:null,center:null,R:null,__class__:e.collision.B2OBB};e.collision.B2RayCastInput=function(a,c,f){null==f&&(f=1);this.p1=new e.common.math.B2Vec2;this.p2=new e.common.math.B2Vec2;null!=a&&this.p1.setV(a);null!=c&&this.p2.setV(c);this.maxFraction=f};l["box2D.collision.B2RayCastInput"]=e.collision.B2RayCastInput;
e.collision.B2RayCastInput.__name__=["box2D","collision","B2RayCastInput"];e.collision.B2RayCastInput.prototype={maxFraction:null,p2:null,p1:null,__class__:e.collision.B2RayCastInput};e.collision.B2RayCastOutput=function(){this.normal=new e.common.math.B2Vec2};l["box2D.collision.B2RayCastOutput"]=e.collision.B2RayCastOutput;e.collision.B2RayCastOutput.__name__=["box2D","collision","B2RayCastOutput"];e.collision.B2RayCastOutput.prototype={fraction:null,normal:null,__class__:e.collision.B2RayCastOutput};
e.collision.B2SeparationFunction=function(){this.m_localPoint=new e.common.math.B2Vec2;this.m_axis=new e.common.math.B2Vec2};l["box2D.collision.B2SeparationFunction"]=e.collision.B2SeparationFunction;e.collision.B2SeparationFunction.__name__=["box2D","collision","B2SeparationFunction"];e.collision.B2SeparationFunction.prototype={m_axis:null,m_localPoint:null,m_type:null,m_proxyB:null,m_proxyA:null,evaluate:function(a,c){var f,b,d;switch(this.m_type){case e.collision.B2SeparationFunction.e_points:return f=
e.common.math.B2Math.mulTMV(a.R,this.m_axis),b=e.common.math.B2Math.mulTMV(c.R,this.m_axis.getNegative()),f=this.m_proxyA.getSupportVertex(f),b=this.m_proxyB.getSupportVertex(b),f=e.common.math.B2Math.mulX(a,f,!0),b=e.common.math.B2Math.mulX(c,b,!0),d=(b.x-f.x)*this.m_axis.x+(b.y-f.y)*this.m_axis.y;case e.collision.B2SeparationFunction.e_faceA:return d=e.common.math.B2Math.mulMV(a.R,this.m_axis),f=e.common.math.B2Math.mulX(a,this.m_localPoint,!0),b=e.common.math.B2Math.mulTMV(c.R,d.getNegative()),
b=this.m_proxyB.getSupportVertex(b),b=e.common.math.B2Math.mulX(c,b,!0),d=(b.x-f.x)*d.x+(b.y-f.y)*d.y;case e.collision.B2SeparationFunction.e_faceB:return d=e.common.math.B2Math.mulMV(c.R,this.m_axis),b=e.common.math.B2Math.mulX(c,this.m_localPoint,!0),f=e.common.math.B2Math.mulTMV(a.R,d.getNegative()),f=this.m_proxyA.getSupportVertex(f),f=e.common.math.B2Math.mulX(a,f,!0),d=(f.x-b.x)*d.x+(f.y-b.y)*d.y;default:return e.common.B2Settings.b2Assert(!1),0}},initialize:function(a,c,f,b,d){this.m_proxyA=
c;this.m_proxyB=b;c=a.count;e.common.B2Settings.b2Assert(0<c&&3>c);var g=new e.common.math.B2Vec2,h=new e.common.math.B2Vec2,i,j;if(1==c)this.m_type=e.collision.B2SeparationFunction.e_points,g=this.m_proxyA.getVertex(a.indexA[0]),h=this.m_proxyB.getVertex(a.indexB[0]),j=g,i=f.R,g=f.position.x+(i.col1.x*j.x+i.col2.x*j.y),f=f.position.y+(i.col1.y*j.x+i.col2.y*j.y),j=h,i=d.R,h=d.position.x+(i.col1.x*j.x+i.col2.x*j.y),d=d.position.y+(i.col1.y*j.x+i.col2.y*j.y),this.m_axis.x=h-g,this.m_axis.y=d-f,this.m_axis.normalize();
else{if(a.indexB[0]==a.indexB[1])this.m_type=e.collision.B2SeparationFunction.e_faceA,c=this.m_proxyA.getVertex(a.indexA[0]),b=this.m_proxyA.getVertex(a.indexA[1]),h=this.m_proxyB.getVertex(a.indexB[0]),this.m_localPoint.x=0.5*(c.x+b.x),this.m_localPoint.y=0.5*(c.y+b.y),this.m_axis=e.common.math.B2Math.crossVF(e.common.math.B2Math.subtractVV(b,c),1),this.m_axis.normalize(),j=this.m_axis,i=f.R,c=i.col1.x*j.x+i.col2.x*j.y,b=i.col1.y*j.x+i.col2.y*j.y,j=this.m_localPoint,i=f.R,g=f.position.x+(i.col1.x*
j.x+i.col2.x*j.y),f=f.position.y+(i.col1.y*j.x+i.col2.y*j.y),j=h,i=d.R,h=d.position.x+(i.col1.x*j.x+i.col2.x*j.y),d=d.position.y+(i.col1.y*j.x+i.col2.y*j.y),a=(h-g)*c+(d-f)*b;else if(a.indexA[0]==a.indexA[0])this.m_type=e.collision.B2SeparationFunction.e_faceB,i=this.m_proxyB.getVertex(a.indexB[0]),j=this.m_proxyB.getVertex(a.indexB[1]),g=this.m_proxyA.getVertex(a.indexA[0]),this.m_localPoint.x=0.5*(i.x+j.x),this.m_localPoint.y=0.5*(i.y+j.y),this.m_axis=e.common.math.B2Math.crossVF(e.common.math.B2Math.subtractVV(j,
i),1),this.m_axis.normalize(),j=this.m_axis,i=d.R,c=i.col1.x*j.x+i.col2.x*j.y,b=i.col1.y*j.x+i.col2.y*j.y,j=this.m_localPoint,i=d.R,h=d.position.x+(i.col1.x*j.x+i.col2.x*j.y),d=d.position.y+(i.col1.y*j.x+i.col2.y*j.y),j=g,i=f.R,g=f.position.x+(i.col1.x*j.x+i.col2.x*j.y),f=f.position.y+(i.col1.y*j.x+i.col2.y*j.y),a=(g-h)*c+(f-d)*b;else{c=this.m_proxyA.getVertex(a.indexA[0]);b=this.m_proxyA.getVertex(a.indexA[1]);i=this.m_proxyB.getVertex(a.indexB[0]);j=this.m_proxyB.getVertex(a.indexB[1]);e.common.math.B2Math.mulX(f,
g,!0);g=e.common.math.B2Math.mulMV(f.R,e.common.math.B2Math.subtractVVPooled(b,c),!0);e.common.math.B2Math.mulX(d,h,!0);var a=e.common.math.B2Math.mulMV(d.R,e.common.math.B2Math.subtractVVPooled(j,i),!0),d=g.x*g.x+g.y*g.y,f=a.x*a.x+a.y*a.y,p=e.common.math.B2Math.subtractVVPooled(a,g),h=g.x*p.x+g.y*p.y,p=a.x*p.x+a.y*p.y,g=g.x*a.x+g.y*a.y,u=d*f-g*g,a=0;0!=u&&(a=e.common.math.B2Math.clamp((g*p-h*f)/u,0,1));0>(g*a+p)/f&&(a=e.common.math.B2Math.clamp((g-h)/d,0,1));g=new e.common.math.B2Vec2;g.x=c.x+a*
(b.x-c.x);g.y=c.y+a*(b.y-c.y);h=new e.common.math.B2Vec2;h.x=i.x+a*(j.x-i.x);h.y=i.y+a*(j.y-i.y);0==a||1==a?(this.m_type=e.collision.B2SeparationFunction.e_faceB,this.m_axis=e.common.math.B2Math.crossVF(e.common.math.B2Math.subtractVV(j,i),1),this.m_axis.normalize(),this.m_localPoint=h):(this.m_type=e.collision.B2SeparationFunction.e_faceA,this.m_axis=e.common.math.B2Math.crossVF(e.common.math.B2Math.subtractVV(b,c),1),this.m_localPoint=g)}0>a&&this.m_axis.negativeSelf()}},__class__:e.collision.B2SeparationFunction};
e.collision.B2SimplexCache=function(){this.indexA=[];this.indexB=[]};l["box2D.collision.B2SimplexCache"]=e.collision.B2SimplexCache;e.collision.B2SimplexCache.__name__=["box2D","collision","B2SimplexCache"];e.collision.B2SimplexCache.prototype={indexB:null,indexA:null,count:null,metric:null,__class__:e.collision.B2SimplexCache};e.collision.B2TOIInput=function(){this.proxyA=new e.collision.B2DistanceProxy;this.proxyB=new e.collision.B2DistanceProxy;this.sweepA=new e.common.math.B2Sweep;this.sweepB=
new e.common.math.B2Sweep};l["box2D.collision.B2TOIInput"]=e.collision.B2TOIInput;e.collision.B2TOIInput.__name__=["box2D","collision","B2TOIInput"];e.collision.B2TOIInput.prototype={tolerance:null,sweepB:null,sweepA:null,proxyB:null,proxyA:null,__class__:e.collision.B2TOIInput};e.common.math.B2Transform=function(a,c){this.position=new e.common.math.B2Vec2;this.R=new e.common.math.B2Mat22;null!=a&&(this.position.setV(a),this.R.setM(c))};l["box2D.common.math.B2Transform"]=e.common.math.B2Transform;
e.common.math.B2Transform.__name__=["box2D","common","math","B2Transform"];e.common.math.B2Transform.prototype={R:null,position:null,multiply:function(a){a=this.R.multiplyV(a);a.add(this.position);return a},getAngle:function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},set:function(a){this.position.setV(a.position);this.R.setM(a.R)},setIdentity:function(){this.position.setZero();this.R.setIdentity()},initialize:function(a,c){this.position.setV(a);this.R.setM(c)},__class__:e.common.math.B2Transform};
e.common.math.B2Mat22=function(){this.col1=new e.common.math.B2Vec2(0,1);this.col2=new e.common.math.B2Vec2(0,1)};l["box2D.common.math.B2Mat22"]=e.common.math.B2Mat22;e.common.math.B2Mat22.__name__=["box2D","common","math","B2Mat22"];e.common.math.B2Mat22.fromAngle=function(a){var c=new e.common.math.B2Mat22;c.set(a);return c};e.common.math.B2Mat22.fromVV=function(a,c){var f=new e.common.math.B2Mat22;f.setVV(a,c);return f};e.common.math.B2Mat22.prototype={col2:null,col1:null,abs:function(){this.col1.abs();
this.col2.abs()},solve:function(a,c,f){var b=this.col1.x,d=this.col2.x,e=this.col1.y,h=this.col2.y,i=b*h-d*e;0!=i&&(i=1/i);a.x=i*(h*c-d*f);a.y=i*(b*f-e*c);return a},getInverse:function(a){var c=this.col1.x,f=this.col2.x,b=this.col1.y,d=this.col2.y,e=c*d-f*b;0!=e&&(e=1/e);a.col1.x=e*d;a.col2.x=-e*f;a.col1.y=-e*b;a.col2.y=e*c;return a},getAngle:function(){return Math.atan2(this.col1.y,this.col1.x)},setAngle:function(a){this.col1.x=Math.cos(a);this.col1.y=Math.sin(a);this.col2.x=-this.col1.y;this.col2.y=
this.col1.x},setZero:function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0},setIdentity:function(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1},multiplyV:function(a){return new e.common.math.B2Vec2(this.col1.x*a.x+this.col2.x*a.y,this.col1.y*a.x+this.col2.y*a.y)},addM:function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y},setM:function(a){this.col1.setV(a.col1);this.col2.setV(a.col2)},copy:function(){var a=new e.common.math.B2Mat22;
a.setM(this);return a},setVV:function(a,c){this.col1.setV(a);this.col2.setV(c)},set:function(a){var c=Math.cos(a),a=Math.sin(a);this.col1.x=c;this.col2.x=-a;this.col1.y=a;this.col2.y=c},__class__:e.common.math.B2Mat22};e.collision.B2TimeOfImpact=function(){};l["box2D.collision.B2TimeOfImpact"]=e.collision.B2TimeOfImpact;e.collision.B2TimeOfImpact.__name__=["box2D","collision","B2TimeOfImpact"];e.collision.B2TimeOfImpact.timeOfImpact=function(a){++e.collision.B2TimeOfImpact.b2_toiCalls;var c=a.proxyA,
f=a.proxyB,b=a.sweepA,d=a.sweepB;e.common.B2Settings.b2Assert(b.t0==d.t0);e.common.B2Settings.b2Assert(1-b.t0>Number.MIN_VALUE);var g=c.m_radius+f.m_radius,a=a.tolerance,h=0,i=0,j=0;e.collision.B2TimeOfImpact.s_cache.count=0;for(e.collision.B2TimeOfImpact.s_distanceInput.useRadii=!1;;){b.getTransform(e.collision.B2TimeOfImpact.s_xfA,h);d.getTransform(e.collision.B2TimeOfImpact.s_xfB,h);e.collision.B2TimeOfImpact.s_distanceInput.proxyA=c;e.collision.B2TimeOfImpact.s_distanceInput.proxyB=f;e.collision.B2TimeOfImpact.s_distanceInput.transformA=
e.collision.B2TimeOfImpact.s_xfA;e.collision.B2TimeOfImpact.s_distanceInput.transformB=e.collision.B2TimeOfImpact.s_xfB;e.collision.B2Distance.distance(e.collision.B2TimeOfImpact.s_distanceOutput,e.collision.B2TimeOfImpact.s_cache,e.collision.B2TimeOfImpact.s_distanceInput);if(0>=e.collision.B2TimeOfImpact.s_distanceOutput.distance){h=1;break}e.collision.B2TimeOfImpact.s_fcn.initialize(e.collision.B2TimeOfImpact.s_cache,c,e.collision.B2TimeOfImpact.s_xfA,f,e.collision.B2TimeOfImpact.s_xfB);var p=
e.collision.B2TimeOfImpact.s_fcn.evaluate(e.collision.B2TimeOfImpact.s_xfA,e.collision.B2TimeOfImpact.s_xfB);if(0>=p){h=1;break}0==i&&(j=p>g?e.common.math.B2Math.max(g-a,0.75*g):e.common.math.B2Math.max(p-a,0.02*g));if(p-j<0.5*a){if(0==i){h=1;break}break}var u=h,k=h,l=1;b.getTransform(e.collision.B2TimeOfImpact.s_xfA,l);d.getTransform(e.collision.B2TimeOfImpact.s_xfB,l);var n=e.collision.B2TimeOfImpact.s_fcn.evaluate(e.collision.B2TimeOfImpact.s_xfA,e.collision.B2TimeOfImpact.s_xfB);if(n>=j){h=1;
break}for(var m=0;;){var q;q=0!=(m&1)?k+(j-p)*(l-k)/(n-p):0.5*(k+l);b.getTransform(e.collision.B2TimeOfImpact.s_xfA,q);d.getTransform(e.collision.B2TimeOfImpact.s_xfB,q);var r=e.collision.B2TimeOfImpact.s_fcn.evaluate(e.collision.B2TimeOfImpact.s_xfA,e.collision.B2TimeOfImpact.s_xfB);if(e.common.math.B2Math.abs(r-j)<0.025*a){u=q;break}r>j?(k=q,p=r):(l=q,n=r);++m;++e.collision.B2TimeOfImpact.b2_toiRootIters;if(50==m)break}e.collision.B2TimeOfImpact.b2_toiMaxRootIters=e.common.math.B2Math.max(e.collision.B2TimeOfImpact.b2_toiMaxRootIters,
m)|0;if(u<(1+100*Number.MIN_VALUE)*h)break;h=u;i++;++e.collision.B2TimeOfImpact.b2_toiIters;if(1E3==i)break}e.collision.B2TimeOfImpact.b2_toiMaxIters=e.common.math.B2Math.max(e.collision.B2TimeOfImpact.b2_toiMaxIters,i)|0;return h};e.collision.B2WorldManifold=function(){this.m_normal=new e.common.math.B2Vec2;this.m_points=[];for(var a=0,c=e.common.B2Settings.b2_maxManifoldPoints;a<c;){var f=a++;this.m_points[f]=new e.common.math.B2Vec2}};l["box2D.collision.B2WorldManifold"]=e.collision.B2WorldManifold;
e.collision.B2WorldManifold.__name__=["box2D","collision","B2WorldManifold"];e.collision.B2WorldManifold.prototype={m_points:null,m_normal:null,getPoint:function(){return 0==this.m_points.length?null:1==this.m_points.length?this.m_points[0]:new e.common.math.B2Vec2((this.m_points[0].x+this.m_points[1].x)/2,(this.m_points[0].y+this.m_points[1].y)/2)},initialize:function(a,c,f,b,d){if(0!=a.m_pointCount){this.reset();var g,h,i,j,p,u,k;switch(a.m_type){case e.collision.B2Manifold.e_circles:h=c.R;g=a.m_localPoint;
i=c.position.x+h.col1.x*g.x+h.col2.x*g.y;c=c.position.y+h.col1.y*g.x+h.col2.y*g.y;h=b.R;g=a.m_points[0].m_localPoint;a=b.position.x+h.col1.x*g.x+h.col2.x*g.y;b=b.position.y+h.col1.y*g.x+h.col2.y*g.y;g=a-i;h=b-c;j=g*g+h*h;j>Number.MIN_VALUE*Number.MIN_VALUE?(j=Math.sqrt(j),this.m_normal.x=g/j,this.m_normal.y=h/j):(this.m_normal.x=1,this.m_normal.y=0);g=c+f*this.m_normal.y;b-=d*this.m_normal.y;this.m_points[0].x=0.5*(i+f*this.m_normal.x+(a-d*this.m_normal.x));this.m_points[0].y=0.5*(g+b);break;case e.collision.B2Manifold.e_faceA:h=
c.R;g=a.m_localPlaneNormal;i=h.col1.x*g.x+h.col2.x*g.y;j=h.col1.y*g.x+h.col2.y*g.y;h=c.R;g=a.m_localPoint;p=c.position.x+h.col1.x*g.x+h.col2.x*g.y;u=c.position.y+h.col1.y*g.x+h.col2.y*g.y;this.m_normal.x=i;this.m_normal.y=j;for(var l=0,n=a.m_pointCount;l<n;){var m=l++;h=b.R;g=a.m_points[m].m_localPoint;k=b.position.x+h.col1.x*g.x+h.col2.x*g.y;g=b.position.y+h.col1.y*g.x+h.col2.y*g.y;this.m_points[m].x=k+0.5*(f-(k-p)*i-(g-u)*j-d)*i;this.m_points[m].y=g+0.5*(f-(k-p)*i-(g-u)*j-d)*j}break;case e.collision.B2Manifold.e_faceB:h=
b.R;g=a.m_localPlaneNormal;i=h.col1.x*g.x+h.col2.x*g.y;j=h.col1.y*g.x+h.col2.y*g.y;h=b.R;g=a.m_localPoint;p=b.position.x+h.col1.x*g.x+h.col2.x*g.y;u=b.position.y+h.col1.y*g.x+h.col2.y*g.y;this.m_normal.x=-i;this.m_normal.y=-j;l=0;for(n=a.m_pointCount;l<n;)m=l++,h=c.R,g=a.m_points[m].m_localPoint,k=c.position.x+h.col1.x*g.x+h.col2.x*g.y,g=c.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[m].x=k+0.5*(d-(k-p)*i-(g-u)*j-f)*i,this.m_points[m].y=g+0.5*(d-(k-p)*i-(g-u)*j-f)*j}}},reset:function(){this.m_normal=
new e.common.math.B2Vec2;this.m_points=[];for(var a=0,c=e.common.B2Settings.b2_maxManifoldPoints;a<c;){var f=a++;this.m_points[f]=new e.common.math.B2Vec2}},__class__:e.collision.B2WorldManifold};e.collision.shapes={};e.collision.shapes.B2Shape=function(){this.m_type=e.collision.shapes.B2Shape.e_unknownShape;this.m_radius=e.common.B2Settings.b2_linearSlop};l["box2D.collision.shapes.B2Shape"]=e.collision.shapes.B2Shape;e.collision.shapes.B2Shape.__name__=["box2D","collision","shapes","B2Shape"];e.collision.shapes.B2Shape.testOverlap=
function(a,c,f,b){var d=new e.collision.B2DistanceInput;d.proxyA=new e.collision.B2DistanceProxy;d.proxyA.set(a);d.proxyB=new e.collision.B2DistanceProxy;d.proxyB.set(f);d.transformA=c;d.transformB=b;d.useRadii=!0;a=new e.collision.B2SimplexCache;a.count=0;c=new e.collision.B2DistanceOutput;e.collision.B2Distance.distance(c,a,d);return c.distance<10*Number.MIN_VALUE};e.collision.shapes.B2Shape.prototype={m_radius:null,m_type:null,computeSubmergedArea:function(){return 0},computeMass:function(){},
computeAABB:function(){},rayCast:function(){return!1},testPoint:function(){return!1},getType:function(){return this.m_type},set:function(a){this.m_radius=a.m_radius},copy:function(){return null},__class__:e.collision.shapes.B2Shape};e.collision.shapes.B2CircleShape=function(a){null==a&&(a=0);e.collision.shapes.B2Shape.call(this);this.m_p=new e.common.math.B2Vec2;this.m_type=e.collision.shapes.B2Shape.e_circleShape;this.m_radius=a};l["box2D.collision.shapes.B2CircleShape"]=e.collision.shapes.B2CircleShape;
e.collision.shapes.B2CircleShape.__name__=["box2D","collision","shapes","B2CircleShape"];e.collision.shapes.B2CircleShape.__super__=e.collision.shapes.B2Shape;e.collision.shapes.B2CircleShape.prototype=t(e.collision.shapes.B2Shape.prototype,{m_p:null,setRadius:function(a){this.m_radius=a},getRadius:function(){return this.m_radius},setLocalPosition:function(a){this.m_p.setV(a)},getLocalPosition:function(){return this.m_p},computeSubmergedArea:function(a,c,f,b){var f=e.common.math.B2Math.mulX(f,this.m_p,
!0),d=-(e.common.math.B2Math.dot(a,f)-c);if(d<-this.m_radius+Number.MIN_VALUE)return 0;if(d>this.m_radius)return b.x=f.x,b.y=f.y,Math.PI*this.m_radius*this.m_radius;var c=this.m_radius*this.m_radius,g=d*d,d=c*(Math.asin(d/this.m_radius)+Math.PI/2)+d*Math.sqrt(c-g),c=-2/3*Math.pow(c-g,1.5)/d;b.x=f.x+a.x*c;b.y=f.y+a.y*c;return d},computeMass:function(a,c){a.mass=c*e.common.B2Settings.b2_pi*this.m_radius*this.m_radius;a.center.setV(this.m_p);a.I=a.mass*(0.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+
this.m_p.y*this.m_p.y))},computeAABB:function(a,c){var f=c.R,b=c.position.x+(f.col1.x*this.m_p.x+f.col2.x*this.m_p.y),f=c.position.y+(f.col1.y*this.m_p.x+f.col2.y*this.m_p.y);a.lowerBound.set(b-this.m_radius,f-this.m_radius);a.upperBound.set(b+this.m_radius,f+this.m_radius)},rayCast:function(a,c,f){var b=f.R,d=c.p1.x-(f.position.x+(b.col1.x*this.m_p.x+b.col2.x*this.m_p.y)),f=c.p1.y-(f.position.y+(b.col1.y*this.m_p.x+b.col2.y*this.m_p.y)),b=c.p2.x-c.p1.x,e=c.p2.y-c.p1.y,h=d*b+f*e,i=b*b+e*e,j=h*h-i*
(d*d+f*f-this.m_radius*this.m_radius);if(0>j||i<Number.MIN_VALUE)return!1;h=-(h+Math.sqrt(j));return 0<=h&&h<=c.maxFraction*i?(h/=i,a.fraction=h,a.normal.x=d+h*b,a.normal.y=f+h*e,a.normal.normalize(),!0):!1},testPoint:function(a,c){var f=a.R,b=a.position.x+(f.col1.x*this.m_p.x+f.col2.x*this.m_p.y),f=a.position.y+(f.col1.y*this.m_p.x+f.col2.y*this.m_p.y),b=c.x-b,f=c.y-f;return b*b+f*f<=this.m_radius*this.m_radius},set:function(a){e.collision.shapes.B2Shape.prototype.set.call(this,a);n.Boot.__instanceof(a,
e.collision.shapes.B2CircleShape)&&(a=n.Boot.__cast(a,e.collision.shapes.B2CircleShape),this.m_p.setV(a.m_p))},copy:function(){var a=new e.collision.shapes.B2CircleShape;a.set(this);return a},__class__:e.collision.shapes.B2CircleShape});e.collision.shapes.B2EdgeShape=function(a,c){e.collision.shapes.B2Shape.call(this);this.s_supportVec=new e.common.math.B2Vec2;this.m_v1=new e.common.math.B2Vec2;this.m_v2=new e.common.math.B2Vec2;this.m_coreV1=new e.common.math.B2Vec2;this.m_coreV2=new e.common.math.B2Vec2;
this.m_normal=new e.common.math.B2Vec2;this.m_direction=new e.common.math.B2Vec2;this.m_cornerDir1=new e.common.math.B2Vec2;this.m_cornerDir2=new e.common.math.B2Vec2;this.m_type=e.collision.shapes.B2Shape.e_edgeShape;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=a;this.m_v2=c;this.m_direction.set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y);this.m_length=this.m_direction.normalize();this.m_normal.set(this.m_direction.y,-this.m_direction.x);this.m_coreV1.set(-e.common.B2Settings.b2_toiSlop*(this.m_normal.x-
this.m_direction.x)+this.m_v1.x,-e.common.B2Settings.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.set(-e.common.B2Settings.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-e.common.B2Settings.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.set(-this.m_normal.x,-this.m_normal.y)};l["box2D.collision.shapes.B2EdgeShape"]=e.collision.shapes.B2EdgeShape;e.collision.shapes.B2EdgeShape.__name__=["box2D",
"collision","shapes","B2EdgeShape"];e.collision.shapes.B2EdgeShape.__super__=e.collision.shapes.B2Shape;e.collision.shapes.B2EdgeShape.prototype=t(e.collision.shapes.B2Shape.prototype,{m_prevEdge:null,m_nextEdge:null,m_cornerConvex2:null,m_cornerConvex1:null,m_cornerDir2:null,m_cornerDir1:null,m_direction:null,m_normal:null,m_length:null,m_coreV2:null,m_coreV1:null,m_v2:null,m_v1:null,setNextEdge:function(a,c,f,b){this.m_nextEdge=a;this.m_coreV2=c;this.m_cornerDir2=f;this.m_cornerConvex2=b},setPrevEdge:function(a,
c,f,b){this.m_prevEdge=a;this.m_coreV1=c;this.m_cornerDir1=f;this.m_cornerConvex1=b},copy:function(){var a=new e.collision.shapes.B2EdgeShape(this.m_v1,this.m_v2);a.set(this);return a},support:function(a,c,f){var b=a.R,d=a.position.x+(b.col1.x*this.m_coreV1.x+b.col2.x*this.m_coreV1.y),e=a.position.y+(b.col1.y*this.m_coreV1.x+b.col2.y*this.m_coreV1.y),h=a.position.x+(b.col1.x*this.m_coreV2.x+b.col2.x*this.m_coreV2.y),a=a.position.y+(b.col1.y*this.m_coreV2.x+b.col2.y*this.m_coreV2.y);d*c+e*f>h*c+a*
f?(this.s_supportVec.x=d,this.s_supportVec.y=e):(this.s_supportVec.x=h,this.s_supportVec.y=a);return this.s_supportVec},s_supportVec:null,getPrevEdge:function(){return this.m_prevEdge},getNextEdge:function(){return this.m_nextEdge},getFirstVertex:function(a){var c=a.R;return new e.common.math.B2Vec2(a.position.x+(c.col1.x*this.m_coreV1.x+c.col2.x*this.m_coreV1.y),a.position.y+(c.col1.y*this.m_coreV1.x+c.col2.y*this.m_coreV1.y))},corner2IsConvex:function(){return this.m_cornerConvex2},corner1IsConvex:function(){return this.m_cornerConvex1},
getCorner2Vector:function(){return this.m_cornerDir2},getCorner1Vector:function(){return this.m_cornerDir1},getDirectionVector:function(){return this.m_direction},getNormalVector:function(){return this.m_normal},getCoreVertex2:function(){return this.m_coreV2},getCoreVertex1:function(){return this.m_coreV1},getVertex2:function(){return this.m_v2},getVertex1:function(){return this.m_v1},getLength:function(){return this.m_length},computeSubmergedArea:function(a,c,f,b){var d=new e.common.math.B2Vec2(a.x*
c,a.y*c),g=e.common.math.B2Math.mulX(f,this.m_v1,!0),f=e.common.math.B2Math.mulX(f,this.m_v2,!0),h=e.common.math.B2Math.dot(a,g)-c,a=e.common.math.B2Math.dot(a,f)-c;if(0<h){if(0<a)return 0;g.x=-a/(h-a)*g.x+h/(h-a)*f.x;g.y=-a/(h-a)*g.y+h/(h-a)*f.y}else 0<a&&(f.x=-a/(h-a)*g.x+h/(h-a)*f.x,f.y=-a/(h-a)*g.y+h/(h-a)*f.y);b.x=(d.x+g.x+f.x)/3;b.y=(d.y+g.y+f.y)/3;return 0.5*((g.x-d.x)*(f.y-d.y)-(g.y-d.y)*(f.x-d.x))},computeMass:function(a){a.mass=0;a.center.setV(this.m_v1);a.I=0},computeAABB:function(a,c){var f=
c.R,b=c.position.x+(f.col1.x*this.m_v1.x+f.col2.x*this.m_v1.y),d=c.position.y+(f.col1.y*this.m_v1.x+f.col2.y*this.m_v1.y),e=c.position.x+(f.col1.x*this.m_v2.x+f.col2.x*this.m_v2.y),f=c.position.y+(f.col1.y*this.m_v2.x+f.col2.y*this.m_v2.y);b<e?(a.lowerBound.x=b,a.upperBound.x=e):(a.lowerBound.x=e,a.upperBound.x=b);d<f?(a.lowerBound.y=d,a.upperBound.y=f):(a.lowerBound.y=f,a.upperBound.y=d)},rayCast:function(a,c,f){var b,d=c.p2.x-c.p1.x,e=c.p2.y-c.p1.y;b=f.R;var h=f.position.x+(b.col1.x*this.m_v1.x+
b.col2.x*this.m_v1.y),i=f.position.y+(b.col1.y*this.m_v1.x+b.col2.y*this.m_v1.y),j=f.position.y+(b.col1.y*this.m_v2.x+b.col2.y*this.m_v2.y)-i,f=-(f.position.x+(b.col1.x*this.m_v2.x+b.col2.x*this.m_v2.y)-h);b=100*Number.MIN_VALUE;var p=-(d*j+e*f);if(p>b){var h=c.p1.x-h,u=c.p1.y-i,i=h*j+u*f;if(0<=i&&i<=c.maxFraction*p&&(c=-d*u+e*h,-b*p<=c&&c<=p*(1+b)))return a.fraction=i/p,c=Math.sqrt(j*j+f*f),a.normal.x=j/c,a.normal.y=f/c,!0}return!1},testPoint:function(){return!1},__class__:e.collision.shapes.B2EdgeShape});
e.collision.shapes.B2MassData=function(){this.mass=0;this.center=new e.common.math.B2Vec2(0,0);this.I=0};l["box2D.collision.shapes.B2MassData"]=e.collision.shapes.B2MassData;e.collision.shapes.B2MassData.__name__=["box2D","collision","shapes","B2MassData"];e.collision.shapes.B2MassData.prototype={I:null,center:null,mass:null,__class__:e.collision.shapes.B2MassData};e.collision.shapes.B2PolygonShape=function(){e.collision.shapes.B2Shape.call(this);this.m_type=e.collision.shapes.B2Shape.e_polygonShape;
this.m_centroid=new e.common.math.B2Vec2;this.m_vertices=[];this.m_normals=[]};l["box2D.collision.shapes.B2PolygonShape"]=e.collision.shapes.B2PolygonShape;e.collision.shapes.B2PolygonShape.__name__=["box2D","collision","shapes","B2PolygonShape"];e.collision.shapes.B2PolygonShape.asArray=function(a,c){var f=new e.collision.shapes.B2PolygonShape;f.setAsArray(a,c);return f};e.collision.shapes.B2PolygonShape.asVector=function(a,c){var f=new e.collision.shapes.B2PolygonShape;f.setAsVector(a,c);return f};
e.collision.shapes.B2PolygonShape.asBox=function(a,c){var f=new e.collision.shapes.B2PolygonShape;f.setAsBox(a,c);return f};e.collision.shapes.B2PolygonShape.asOrientedBox=function(a,c,f,b){null==b&&(b=0);var d=new e.collision.shapes.B2PolygonShape;d.setAsOrientedBox(a,c,f,b);return d};e.collision.shapes.B2PolygonShape.asEdge=function(a,c){var f=new e.collision.shapes.B2PolygonShape;f.setAsEdge(a,c);return f};e.collision.shapes.B2PolygonShape.computeCentroid=function(a,c){for(var f=new e.common.math.B2Vec2,
b=0,d=1/3,g=0;g<c;){var h=g++,i=a[h],h=h+1<c?a[h+1|0]:a[0],j=0.5*((i.x-0)*(h.y-0)-(i.y-0)*(h.x-0)),b=b+j;f.x+=j*d*(0+i.x+h.x);f.y+=j*d*(0+i.y+h.y)}f.x*=1/b;f.y*=1/b;return f};e.collision.shapes.B2PolygonShape.computeOBB=function(a,c,f){for(var b=[],d=0;d<f;){var e=d++;b[e]=c[e]}b[f]=b[0];for(var c=Number.MAX_VALUE,h=1,d=f+1;h<d;){for(var e=h++,i=b[e-1|0],j=b[e].x-i.x,p=b[e].y-i.y,e=Math.sqrt(j*j+p*p),j=j/e,p=p/e,u=-p,k=j,l=e=Number.MAX_VALUE,n=-Number.MAX_VALUE,m=-Number.MAX_VALUE,q=0;q<f;){var r=
q++,s=b[r].x-i.x,t=b[r].y-i.y,r=j*s+p*t,s=u*s+k*t;r<e&&(e=r);s<l&&(l=s);r>n&&(n=r);s>m&&(m=s)}q=(n-e)*(m-l);q<0.95*c&&(c=q,a.R.col1.x=j,a.R.col1.y=p,a.R.col2.x=u,a.R.col2.y=k,j=0.5*(e+n),p=0.5*(l+m),u=a.R,a.center.x=i.x+(u.col1.x*j+u.col2.x*p),a.center.y=i.y+(u.col1.y*j+u.col2.y*p),a.extents.x=0.5*(n-e),a.extents.y=0.5*(m-l))}};e.collision.shapes.B2PolygonShape.__super__=e.collision.shapes.B2Shape;e.collision.shapes.B2PolygonShape.prototype=t(e.collision.shapes.B2Shape.prototype,{m_vertexCount:null,
m_normals:null,m_vertices:null,m_centroid:null,reserve:function(a){for(var c=this.m_vertices.length;c<a;){var f=c++;this.m_vertices[f]=new e.common.math.B2Vec2;this.m_normals[f]=new e.common.math.B2Vec2}},validate:function(){return!1},getSupportVertex:function(a){for(var c=0,f=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,b=1,d=this.m_vertexCount;b<d;){var e=b++,h=this.m_vertices[e].x*a.x+this.m_vertices[e].y*a.y;h>f&&(c=e,f=h)}return this.m_vertices[c]},getSupport:function(a){for(var c=0,f=this.m_vertices[0].x*
a.x+this.m_vertices[0].y*a.y,b=1,d=this.m_vertexCount;b<d;){var e=b++,h=this.m_vertices[e].x*a.x+this.m_vertices[e].y*a.y;h>f&&(c=e,f=h)}return c},getNormals:function(){return this.m_normals},getVertices:function(){return this.m_vertices},getVertexCount:function(){return this.m_vertexCount},computeSubmergedArea:function(a,c,f,b){for(var d=e.common.math.B2Math.mulTMV(f.R,a,!0),g=c-e.common.math.B2Math.dot(a,f.position),h=[],i=0,a=c=-1,j=!1,p=0,u=this.m_vertexCount;p<u;){var k=p++;h[k]=e.common.math.B2Math.dot(d,
this.m_vertices[k])-g;var l=h[k]<-Number.MIN_VALUE;0<k&&(l?j||(c=k-1,i++):j&&(a=k-1,i++));j=l}switch(i){case 0:return j?(a=new e.collision.shapes.B2MassData,this.computeMass(a,1),b.setV(e.common.math.B2Math.mulX(f,a.center)),a.mass):0;case 1:-1==c?c=this.m_vertexCount-1:a=this.m_vertexCount-1}g=(c+1)%this.m_vertexCount;d=(a+1)%this.m_vertexCount;i=(0-h[c])/(h[g]-h[c]);h=(0-h[a])/(h[d]-h[a]);c=new e.common.math.B2Vec2(this.m_vertices[c].x*(1-i)+this.m_vertices[g].x*i,this.m_vertices[c].y*(1-i)+this.m_vertices[g].y*
i);a=new e.common.math.B2Vec2(this.m_vertices[a].x*(1-h)+this.m_vertices[d].x*h,this.m_vertices[a].y*(1-h)+this.m_vertices[d].y*h);h=0;i=new e.common.math.B2Vec2;for(j=this.m_vertices[g];g!=d;)g=(g+1)%this.m_vertexCount,p=g==d?a:this.m_vertices[g],u=0.5*((j.x-c.x)*(p.y-c.y)-(j.y-c.y)*(p.x-c.x)),h+=u,i.x+=u*(c.x+j.x+p.x)/3,i.y+=u*(c.y+j.y+p.y)/3,j=p;i.multiply(1/h);b.setV(e.common.math.B2Math.mulX(f,i));return h},computeMass:function(a,c){if(2==this.m_vertexCount)a.center.x=0.5*(this.m_vertices[0].x+
this.m_vertices[1].x),a.center.y=0.5*(this.m_vertices[0].y+this.m_vertices[1].y),a.mass=0,a.I=0;else{for(var f=0,b=0,d=0,e=0,h=1/3,i=0,j=this.m_vertexCount;i<j;)var p=i++,u=this.m_vertices[p],k=p+1<this.m_vertexCount?this.m_vertices[p+1|0]:this.m_vertices[0],l=u.x-0,n=u.y-0,m=k.x-0,q=k.y-0,p=l*q-n*m,r=0.5*p,d=d+r,f=f+r*h*(0+u.x+k.x),b=b+r*h*(0+u.y+k.y),u=l,e=e+p*(h*(0.25*(u*u+m*u+m*m)+(0*u+0*m))+0+(h*(0.25*(n*n+q*n+q*q)+(0*n+0*q))+0));a.mass=c*d;a.center.set(f*(1/d),b*(1/d));a.I=c*e}},computeAABB:function(a,
c){for(var f=c.R,b=this.m_vertices[0],d=c.position.x+(f.col1.x*b.x+f.col2.x*b.y),e=c.position.y+(f.col1.y*b.x+f.col2.y*b.y),h=d,i=e,j=1,p=this.m_vertexCount;j<p;)var u=j++,b=this.m_vertices[u],u=c.position.x+(f.col1.x*b.x+f.col2.x*b.y),b=c.position.y+(f.col1.y*b.x+f.col2.y*b.y),d=d<u?d:u,e=e<b?e:b,h=h>u?h:u,i=i>b?i:b;a.lowerBound.x=d-this.m_radius;a.lowerBound.y=e-this.m_radius;a.upperBound.x=h+this.m_radius;a.upperBound.y=i+this.m_radius},rayCast:function(a,c,f){var b=0,d=c.maxFraction,e,h,i,j;e=
c.p1.x-f.position.x;h=c.p1.y-f.position.y;i=f.R;var p=e*i.col1.x+h*i.col1.y,u=e*i.col2.x+h*i.col2.y;e=c.p2.x-f.position.x;h=c.p2.y-f.position.y;i=f.R;c=e*i.col1.x+h*i.col1.y-p;i=e*i.col2.x+h*i.col2.y-u;for(var k=-1,l=0,n=this.m_vertexCount;l<n;){var m=l++;j=this.m_vertices[m];e=j.x-p;h=j.y-u;j=this.m_normals[m];e=j.x*e+j.y*h;h=j.x*c+j.y*i;if(0==h){if(0>e)return!1}else 0>h&&e<b*h?(b=e/h,k=m):0<h&&e<d*h&&(d=e/h);if(d<b-Number.MIN_VALUE)return!1}return 0<=k?(a.fraction=b,i=f.R,j=this.m_normals[k],a.normal.x=
i.col1.x*j.x+i.col2.x*j.y,a.normal.y=i.col1.y*j.x+i.col2.y*j.y,!0):!1},testPoint:function(a,c){var f;f=a.R;for(var b=c.x-a.position.x,d=c.y-a.position.y,e=b*f.col1.x+d*f.col1.y,h=b*f.col2.x+d*f.col2.y,i=0,j=this.m_vertexCount;i<j;){var p=i++;f=this.m_vertices[p];b=e-f.x;d=h-f.y;f=this.m_normals[p];if(0<f.x*b+f.y*d)return!1}return!0},setAsEdge:function(a,c){this.m_vertexCount=2;this.reserve(2);this.m_vertices[0].setV(a);this.m_vertices[1].setV(c);this.m_centroid.x=0.5*(a.x+c.x);this.m_centroid.y=0.5*
(a.y+c.y);this.m_normals[0]=e.common.math.B2Math.crossVF(e.common.math.B2Math.subtractVV(c,a),1);this.m_normals[0].normalize();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y},setAsOrientedBox:function(a,c,f,b){null==b&&(b=0);this.m_vertexCount=4;this.reserve(4);this.m_vertices[0].set(-a,-c);this.m_vertices[1].set(a,-c);this.m_vertices[2].set(a,c);this.m_vertices[3].set(-a,c);this.m_normals[0].set(0,-1);this.m_normals[1].set(1,0);this.m_normals[2].set(0,1);this.m_normals[3].set(-1,
0);this.m_centroid=f;a=new e.common.math.B2Transform;a.position=f;a.R.set(b);f=0;for(b=this.m_vertexCount;f<b;)c=f++,this.m_vertices[c]=e.common.math.B2Math.mulX(a,this.m_vertices[c]),this.m_normals[c]=e.common.math.B2Math.mulMV(a.R,this.m_normals[c])},setAsBox:function(a,c){this.m_vertexCount=4;this.reserve(4);this.m_vertices[0].set(-a,-c);this.m_vertices[1].set(a,-c);this.m_vertices[2].set(a,c);this.m_vertices[3].set(-a,c);this.m_normals[0].set(0,-1);this.m_normals[1].set(1,0);this.m_normals[2].set(0,
1);this.m_normals[3].set(-1,0);this.m_centroid.setZero()},setAsVector:function(a,c){null==c&&(c=0);0==c&&(c=a.length);e.common.B2Settings.b2Assert(2<=c);this.m_vertexCount=c|0;this.reserve(c|0);for(var f=0,b=this.m_vertexCount;f<b;){var d=f++;this.m_vertices[d].setV(a[d])}f=0;for(b=this.m_vertexCount;f<b;){var d=f++,g=e.common.math.B2Math.subtractVVPooled(this.m_vertices[d+1<this.m_vertexCount?d+1:0],this.m_vertices[d]);e.common.B2Settings.b2Assert(g.lengthSquared()>Number.MIN_VALUE);this.m_normals[d].setV(e.common.math.B2Math.crossVF(g,
1));this.m_normals[d].normalize()}this.m_centroid=e.collision.shapes.B2PolygonShape.computeCentroid(this.m_vertices,this.m_vertexCount)},setAsArray:function(a,c){null==c&&(c=0);for(var f=[],b=0;b<a.length;){var d=a[b];++b;f.push(d)}this.setAsVector(f,c)},set:function(a){e.collision.shapes.B2Shape.prototype.set.call(this,a);if(n.Boot.__instanceof(a,e.collision.shapes.B2PolygonShape)){a=n.Boot.__cast(a,e.collision.shapes.B2PolygonShape);this.m_centroid.setV(a.m_centroid);this.m_vertexCount=a.m_vertexCount;
this.reserve(this.m_vertexCount);for(var c=0,f=this.m_vertexCount;c<f;){var b=c++;this.m_vertices[b].setV(a.m_vertices[b]);this.m_normals[b].setV(a.m_normals[b])}}},copy:function(){var a=new e.collision.shapes.B2PolygonShape;a.set(this);return a},__class__:e.collision.shapes.B2PolygonShape});e.common.B2Color=function(a,c,f){this._r=255*e.common.math.B2Math.clamp(a,0,1)|0;this._g=255*e.common.math.B2Math.clamp(c,0,1)|0;this._b=255*e.common.math.B2Math.clamp(f,0,1)|0};l["box2D.common.B2Color"]=e.common.B2Color;
e.common.B2Color.__name__=["box2D","common","B2Color"];e.common.B2Color.prototype={_b:null,_g:null,_r:null,getColor:function(){return this._r<<16|this._g<<8|this._b},setB:function(a){return this._b=255*e.common.math.B2Math.clamp(a,0,1)|0},setG:function(a){return this._g=255*e.common.math.B2Math.clamp(a,0,1)|0},setR:function(a){return this._r=255*e.common.math.B2Math.clamp(a,0,1)|0},color:null,b:null,g:null,r:null,set:function(a,c,f){this._r=255*e.common.math.B2Math.clamp(a,0,1)|0;this._g=255*e.common.math.B2Math.clamp(c,
0,1)|0;this._b=255*e.common.math.B2Math.clamp(f,0,1)|0},__class__:e.common.B2Color,__properties__:{set_r:"setR",set_g:"setG",set_b:"setB",get_color:"getColor"}};e.common.B2Settings=function(){};l["box2D.common.B2Settings"]=e.common.B2Settings;e.common.B2Settings.__name__=["box2D","common","B2Settings"];e.common.B2Settings.b2MixFriction=function(a,c){return Math.sqrt(a*c)};e.common.B2Settings.b2MixRestitution=function(a,c){return a>c?a:c};e.common.B2Settings.b2Assert=function(a){if(!a)throw"Assertion Failed";
};e.common.math.B2Mat33=function(a,c,f){this.col1=new e.common.math.B2Vec3;this.col2=new e.common.math.B2Vec3;this.col3=new e.common.math.B2Vec3;null==a&&null==c&&null==f?(this.col1.setZero(),this.col2.setZero(),this.col3.setZero()):(this.col1.setV(a),this.col2.setV(c),this.col3.setV(f))};l["box2D.common.math.B2Mat33"]=e.common.math.B2Mat33;e.common.math.B2Mat33.__name__=["box2D","common","math","B2Mat33"];e.common.math.B2Mat33.prototype={col3:null,col2:null,col1:null,solve33:function(a,c,f,b){var d=
this.col1.x,e=this.col1.y,h=this.col1.z,i=this.col2.x,j=this.col2.y,p=this.col2.z,u=this.col3.x,k=this.col3.y,l=this.col3.z,n=d*(j*l-p*k)+e*(p*u-i*l)+h*(i*k-j*u);0!=n&&(n=1/n);a.x=n*(c*(j*l-p*k)+f*(p*u-i*l)+b*(i*k-j*u));a.y=n*(d*(f*l-b*k)+e*(b*u-c*l)+h*(c*k-f*u));a.z=n*(d*(j*b-p*f)+e*(p*c-i*b)+h*(i*f-j*c));return a},solve22:function(a,c,f){var b=this.col1.x,d=this.col2.x,e=this.col1.y,h=this.col2.y,i=b*h-d*e;0!=i&&(i=1/i);a.x=i*(h*c-d*f);a.y=i*(b*f-e*c);return a},setZero:function(){this.col1.x=0;
this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0},setIdentity:function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=1},addM:function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col1.z+=a.col1.z;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y;this.col2.z+=a.col2.z;this.col3.x+=a.col3.x;this.col3.y+=a.col3.y;this.col3.z+=a.col3.z},setM:function(a){this.col1.setV(a.col1);
this.col2.setV(a.col2);this.col3.setV(a.col3)},copy:function(){return new e.common.math.B2Mat33(this.col1,this.col2,this.col3)},setVVV:function(a,c,f){this.col1.setV(a);this.col2.setV(c);this.col3.setV(f)},__class__:e.common.math.B2Mat33};e.common.math.B2Math=function(){};l["box2D.common.math.B2Math"]=e.common.math.B2Math;e.common.math.B2Math.__name__=["box2D","common","math","B2Math"];e.common.math.B2Math.isValid=function(a){return Math.isNaN(a)||a==Math.NEGATIVE_INFINITY||a==Math.POSITIVE_INFINITY?
!1:!0};e.common.math.B2Math.dot=function(a,c){return a.x*c.x+a.y*c.y};e.common.math.B2Math.crossVV=function(a,c){return a.x*c.y-a.y*c.x};e.common.math.B2Math.crossVF=function(a,c,f){null==f&&(f=!1);f?(f=e.common.math.B2Vec2.getFromPool(),f.x=c*a.y,f.y=-c*a.x):f=new e.common.math.B2Vec2(c*a.y,-c*a.x);return f};e.common.math.B2Math.crossFV=function(a,c,f){null==f&&(f=!1);f?(f=e.common.math.B2Vec2.getFromPool(),f.x=-a*c.y,f.y=a*c.x):f=new e.common.math.B2Vec2(-a*c.y,a*c.x);return f};e.common.math.B2Math.mulMV=
function(a,c,f){null==f&&(f=!1);f?(f=e.common.math.B2Vec2.getFromPool(),f.x=a.col1.x*c.x+a.col2.x*c.y,f.y=a.col1.y*c.x+a.col2.y*c.y):f=new e.common.math.B2Vec2(a.col1.x*c.x+a.col2.x*c.y,a.col1.y*c.x+a.col2.y*c.y);return f};e.common.math.B2Math.mulTMV=function(a,c,f){null==f&&(f=!1);f?(f=e.common.math.B2Vec2.getFromPool(),f.x=e.common.math.B2Math.dot(c,a.col1),f.y=e.common.math.B2Math.dot(c,a.col2)):f=new e.common.math.B2Vec2(e.common.math.B2Math.dot(c,a.col1),e.common.math.B2Math.dot(c,a.col2));return f};
e.common.math.B2Math.mulX=function(a,c,f){null==f&&(f=!1);c=e.common.math.B2Math.mulMV(a.R,c,f);c.x+=a.position.x;c.y+=a.position.y;return c};e.common.math.B2Math.mulXT=function(a,c){var f=e.common.math.B2Math.subtractVVPooled(c,a.position),b=f.x*a.R.col1.x+f.y*a.R.col1.y;f.y=f.x*a.R.col2.x+f.y*a.R.col2.y;f.x=b;return f};e.common.math.B2Math.addVV=function(a,c){return new e.common.math.B2Vec2(a.x+c.x,a.y+c.y)};e.common.math.B2Math.subtractVV=function(a,c){return new e.common.math.B2Vec2(a.x-c.x,a.y-
c.y)};e.common.math.B2Math.subtractVVPooled=function(a,c){var f=e.common.math.B2Vec2.getFromPool();f.x=a.x-c.x;f.y=a.y-c.y;return f};e.common.math.B2Math.distance=function(a,c){var f=a.x-c.x,b=a.y-c.y;return Math.sqrt(f*f+b*b)};e.common.math.B2Math.distanceSquared=function(a,c){var f=a.x-c.x,b=a.y-c.y;return f*f+b*b};e.common.math.B2Math.mulFV=function(a,c){return new e.common.math.B2Vec2(a*c.x,a*c.y)};e.common.math.B2Math.addMM=function(a,c){return e.common.math.B2Mat22.fromVV(e.common.math.B2Math.addVV(a.col1,
c.col1),e.common.math.B2Math.addVV(a.col2,c.col2))};e.common.math.B2Math.mulMM=function(a,c){return e.common.math.B2Mat22.fromVV(e.common.math.B2Math.mulMV(a,c.col1),e.common.math.B2Math.mulMV(a,c.col2))};e.common.math.B2Math.mulTMM=function(a,c){var f=new e.common.math.B2Vec2(e.common.math.B2Math.dot(a.col1,c.col1),e.common.math.B2Math.dot(a.col2,c.col1)),b=new e.common.math.B2Vec2(e.common.math.B2Math.dot(a.col1,c.col2),e.common.math.B2Math.dot(a.col2,c.col2));return e.common.math.B2Mat22.fromVV(f,
b)};e.common.math.B2Math.abs=function(a){return 0<a?a:-a};e.common.math.B2Math.absV=function(a){return new e.common.math.B2Vec2(e.common.math.B2Math.abs(a.x),e.common.math.B2Math.abs(a.y))};e.common.math.B2Math.absM=function(a){return e.common.math.B2Mat22.fromVV(e.common.math.B2Math.absV(a.col1),e.common.math.B2Math.absV(a.col2))};e.common.math.B2Math.min=function(a,c){return a<c?a:c};e.common.math.B2Math.minV=function(a,c){return new e.common.math.B2Vec2(e.common.math.B2Math.min(a.x,c.x),e.common.math.B2Math.min(a.y,
c.y))};e.common.math.B2Math.max=function(a,c){return a>c?a:c};e.common.math.B2Math.maxV=function(a,c){return new e.common.math.B2Vec2(e.common.math.B2Math.max(a.x,c.x),e.common.math.B2Math.max(a.y,c.y))};e.common.math.B2Math.clamp=function(a,c,f){return a<c?c:a>f?f:a};e.common.math.B2Math.clampV=function(a,c,f){return e.common.math.B2Math.maxV(c,e.common.math.B2Math.minV(a,f))};e.common.math.B2Math.swap=function(a,c){var f=a[0];a[0]=c[0];c[0]=f};e.common.math.B2Math.random=function(){return 2*Math.random()-
1};e.common.math.B2Math.randomRange=function(a,c){var f=Math.random();return(c-a)*f+a};e.common.math.B2Math.nextPowerOfTwo=function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};e.common.math.B2Math.isPowerOfTwo=function(a){return 0<a&&0==(a&a-1)};e.common.math.B2Sweep=function(){this.localCenter=new e.common.math.B2Vec2;this.c0=new e.common.math.B2Vec2;this.c=new e.common.math.B2Vec2};l["box2D.common.math.B2Sweep"]=e.common.math.B2Sweep;e.common.math.B2Sweep.__name__=
["box2D","common","math","B2Sweep"];e.common.math.B2Sweep.prototype={t0:null,a:null,a0:null,c:null,c0:null,localCenter:null,advance:function(a){if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var c=(a-this.t0)/(1-this.t0);this.c0.x=(1-c)*this.c0.x+c*this.c.x;this.c0.y=(1-c)*this.c0.y+c*this.c.y;this.a0=(1-c)*this.a0+c*this.a;this.t0=a}},getTransform:function(a,c){a.position.x=(1-c)*this.c0.x+c*this.c.x;a.position.y=(1-c)*this.c0.y+c*this.c.y;a.R.set((1-c)*this.a0+c*this.a);var f=a.R;a.position.x-=f.col1.x*
this.localCenter.x+f.col2.x*this.localCenter.y;a.position.y-=f.col1.y*this.localCenter.x+f.col2.y*this.localCenter.y},copy:function(){var a=new e.common.math.B2Sweep;a.localCenter.setV(this.localCenter);a.c0.setV(this.c0);a.c.setV(this.c);a.a0=this.a0;a.a=this.a;a.t0=this.t0;return a},set:function(a){this.localCenter.setV(a.localCenter);this.c0.setV(a.c0);this.c.setV(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0},__class__:e.common.math.B2Sweep};e.common.math.B2Vec3=function(a,c,f){null==f&&(f=0);null==
c&&(c=0);null==a&&(a=0);this.x=a;this.y=c;this.z=f};l["box2D.common.math.B2Vec3"]=e.common.math.B2Vec3;e.common.math.B2Vec3.__name__=["box2D","common","math","B2Vec3"];e.common.math.B2Vec3.prototype={z:null,y:null,x:null,multiply:function(a){this.x*=a;this.y*=a;this.z*=a},subtract:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},copy:function(){return new e.common.math.B2Vec3(this.x,this.y,this.z)},negativeSelf:function(){this.x=-this.x;this.y=
-this.y;this.z=-this.z},getNegative:function(){return new e.common.math.B2Vec3(-this.x,-this.y,-this.z)},setV:function(a){this.x=a.x;this.y=a.y;this.z=a.z},set:function(a,c,f){this.x=a;this.y=c;this.z=f},setZero:function(){this.x=this.y=this.z=0},__class__:e.common.math.B2Vec3};e.dynamics={};e.dynamics.B2Body=function(a,c){this.m_xf=new e.common.math.B2Transform;this.m_sweep=new e.common.math.B2Sweep;this.m_linearVelocity=new e.common.math.B2Vec2;this.m_force=new e.common.math.B2Vec2;this.m_flags=
0;a.bullet&&(this.m_flags|=e.dynamics.B2Body.e_bulletFlag);a.fixedRotation&&(this.m_flags|=e.dynamics.B2Body.e_fixedRotationFlag);a.allowSleep&&(this.m_flags|=e.dynamics.B2Body.e_allowSleepFlag);a.awake&&(this.m_flags|=e.dynamics.B2Body.e_awakeFlag);a.active&&(this.m_flags|=e.dynamics.B2Body.e_activeFlag);a.ignoreGravity&&(this.m_flags|=e.dynamics.B2Body.e_ignoreGravityFlag);this.m_world=c;this.m_xf.position.setV(a.position);this.m_xf.R.set(a.angle);this.m_sweep.localCenter.setZero();this.m_sweep.t0=
1;this.m_sweep.a0=this.m_sweep.a=a.angle;var f=this.m_xf.R,b=this.m_sweep.localCenter;this.m_sweep.c.x=f.col1.x*b.x+f.col2.x*b.y;this.m_sweep.c.y=f.col1.y*b.x+f.col2.y*b.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.setV(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.setV(a.linearVelocity);this.m_angularVelocity=a.angularVelocity;this.m_linearDamping=
a.linearDamping;this.m_angularDamping=a.angularDamping;this.m_force.set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=a.type;this.m_invMass=this.m_type==e.dynamics.B2Body.b2_dynamicBody?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=0;this.m_inertiaScale=a.inertiaScale;this.m_userData=a.userData;this.m_fixtureList=null;this.m_fixtureCount=0;this.groupID=a.groupID;this.origin=new e.common.math.B2Vec2;this.size=new e.common.math.B2Vec2};l["box2D.dynamics.B2Body"]=e.dynamics.B2Body;e.dynamics.B2Body.__name__=
["box2D","dynamics","B2Body"];e.dynamics.B2Body.prototype={size:null,origin:null,groupID:null,m_userData:null,m_sleepTime:null,m_angularDamping:null,m_linearDamping:null,m_inertiaScale:null,m_invI:null,m_I:null,m_invMass:null,m_mass:null,m_contactList:null,m_jointList:null,m_controllerCount:null,m_controllerList:null,m_fixtureCount:null,m_fixtureList:null,m_next:null,m_prev:null,m_world:null,m_torque:null,m_force:null,m_angularVelocity:null,m_linearVelocity:null,m_sweep:null,m_xf:null,m_islandIndex:null,
m_type:null,m_flags:null,advance:function(a){this.m_sweep.advance(a);this.m_sweep.c.setV(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.synchronizeTransform()},shouldCollide:function(a){if(this.m_type!=e.dynamics.B2Body.b2_dynamicBody&&a.m_type!=e.dynamics.B2Body.b2_dynamicBody)return!1;for(var c=this.m_jointList;null!=c;){if(c.other==a&&!1==c.joint.m_collideConnected)return!1;c=c.next}return!0},synchronizeTransform:function(){this.m_xf.R.set(this.m_sweep.a);var a=this.m_xf.R,c=this.m_sweep.localCenter;
this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*c.x+a.col2.x*c.y);this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*c.x+a.col2.y*c.y)},synchronizeFixtures:function(){var a=e.dynamics.B2Body.s_xf1;a.R.set(this.m_sweep.a0);var c=a.R,f=this.m_sweep.localCenter;a.position.x=this.m_sweep.c0.x-(c.col1.x*f.x+c.col2.x*f.y);a.position.y=this.m_sweep.c0.y-(c.col1.y*f.x+c.col2.y*f.y);f=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;null!=c;)c.synchronize(f,a,this.m_xf),c=c.m_next},isAlwaysActive:function(){return(this.m_flags&
e.dynamics.B2Body.e_alwaysActiveFlag)==e.dynamics.B2Body.e_alwaysActiveFlag},setAlwaysActive:function(a){this.m_flags=a?this.m_flags|e.dynamics.B2Body.e_alwaysActiveFlag:this.m_flags&~e.dynamics.B2Body.e_alwaysActiveFlag},isIgnoringGravity:function(){return(this.m_flags&e.dynamics.B2Body.e_ignoreGravityFlag)==e.dynamics.B2Body.e_ignoreGravityFlag},setIgnoreGravity:function(a){this.m_flags=a?this.m_flags|e.dynamics.B2Body.e_ignoreGravityFlag:this.m_flags&~e.dynamics.B2Body.e_ignoreGravityFlag},isPaused:function(){return(this.m_flags&
e.dynamics.B2Body.e_pausedFlag)==e.dynamics.B2Body.e_pausedFlag},setPaused:function(a){this.m_flags=a?this.m_flags|e.dynamics.B2Body.e_pausedFlag:this.m_flags&~e.dynamics.B2Body.e_pausedFlag},setBounciness:function(a){for(var c=this.m_fixtureList;null!=c;)c.m_restitution=a,c=c.m_next},setFriction:function(a){for(var c=this.m_fixtureList;null!=c;)c.m_friction=a,c=c.m_next},getWorld:function(){return this.m_world},setUserData:function(a){this.m_userData=a},getUserData:function(){return this.m_userData},
getNext:function(){return this.m_next},getContactList:function(){return this.m_contactList},getControllerList:function(){return this.m_controllerList},getJointList:function(){return this.m_jointList},getFixtureList:function(){return this.m_fixtureList},isSleepingAllowed:function(){return(this.m_flags&e.dynamics.B2Body.e_allowSleepFlag)==e.dynamics.B2Body.e_allowSleepFlag},isActive:function(){return(this.m_flags&e.dynamics.B2Body.e_activeFlag)==e.dynamics.B2Body.e_activeFlag},setActive:function(a){if(a!=
this.isActive()){var c;if(a){this.m_flags|=e.dynamics.B2Body.e_activeFlag;a=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;null!=c;)c.createProxy(a,this.m_xf),c=c.m_next}else{this.m_flags&=~e.dynamics.B2Body.e_activeFlag;a=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;null!=c;)c.destroyProxy(a),c=c.m_next;for(a=this.m_contactList;null!=a;)c=a,a=a.next,this.m_world.m_contactManager.destroy(c.contact);this.m_contactList=null}}},isFixedRotation:function(){return(this.m_flags&
e.dynamics.B2Body.e_fixedRotationFlag)==e.dynamics.B2Body.e_fixedRotationFlag},setFixedRotation:function(a){this.m_flags=a?this.m_flags|e.dynamics.B2Body.e_fixedRotationFlag:this.m_flags&~e.dynamics.B2Body.e_fixedRotationFlag;this.resetMassData()},isAwake:function(){return(this.m_flags&e.dynamics.B2Body.e_awakeFlag)==e.dynamics.B2Body.e_awakeFlag},setAwake:function(a){a?(this.m_flags|=e.dynamics.B2Body.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~e.dynamics.B2Body.e_awakeFlag,this.m_sleepTime=
0,this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_force.setZero(),this.m_torque=0)},setSleepingAllowed:function(a){a?this.m_flags|=e.dynamics.B2Body.e_allowSleepFlag:(this.m_flags&=~e.dynamics.B2Body.e_allowSleepFlag,this.setAwake(!0))},isBullet:function(){return(this.m_flags&e.dynamics.B2Body.e_bulletFlag)==e.dynamics.B2Body.e_bulletFlag},setBullet:function(a){this.m_flags=a?this.m_flags|e.dynamics.B2Body.e_bulletFlag:this.m_flags&~e.dynamics.B2Body.e_bulletFlag},getType:function(){return this.m_type},
setType:function(a){if(this.m_type!=a){this.m_type=a;this.resetMassData();this.m_type==e.dynamics.B2Body.b2_staticBody&&(this.m_linearVelocity.setZero(),this.m_angularVelocity=0);this.setAwake(!0);this.m_force.setZero();this.m_torque=0;for(a=this.m_contactList;null!=a;)a.contact.flagForFiltering(),a=a.next}},setAngularDamping:function(a){this.m_angularDamping=a},getAngularDamping:function(){return this.m_angularDamping},setLinearDamping:function(a){this.m_linearDamping=a},getLinearDamping:function(){return this.m_linearDamping},
getLinearVelocityFromLocalPoint:function(a){var c=this.m_xf.R,a=new e.common.math.B2Vec2(c.col1.x*a.x+c.col2.x*a.y,c.col1.y*a.x+c.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return new e.common.math.B2Vec2(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))},getLinearVelocityFromWorldPoint:function(a){return new e.common.math.B2Vec2(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),
this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))},getLocalVector:function(a){return e.common.math.B2Math.mulTMV(this.m_xf.R,a)},getLocalPoint:function(a){return e.common.math.B2Math.mulXT(this.m_xf,a)},getWorldVector:function(a){return e.common.math.B2Math.mulMV(this.m_xf.R,a)},getWorldPoint:function(a){var c=this.m_xf.R,a=new e.common.math.B2Vec2(c.col1.x*a.x+c.col2.x*a.y,c.col1.y*a.x+c.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return a},resetMassData:function(){this.m_invI=
this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.setZero();if(!(this.m_type==e.dynamics.B2Body.b2_staticBody||this.m_type==e.dynamics.B2Body.b2_kinematicBody)){for(var a=e.common.math.B2Vec2.make(0,0),c=this.m_fixtureList;null!=c;)if(0!=c.m_density){var f=c.getMassData();this.m_mass+=f.mass;a.x+=f.center.x*f.mass;a.y+=f.center.y*f.mass;this.m_I+=f.I;c=c.m_next}0<this.m_mass?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&
0==(this.m_flags&e.dynamics.B2Body.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(a.x*a.x+a.y*a.y),this.m_I*=this.m_inertiaScale,e.common.B2Settings.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0;c=this.m_sweep.c.copy();this.m_sweep.localCenter.setV(a);this.m_sweep.c0.setV(e.common.math.B2Math.mulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.setV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-c.y);this.m_linearVelocity.y+=this.m_angularVelocity*
(this.m_sweep.c.x-c.x)}},setMassData:function(a){e.common.B2Settings.b2Assert(!1==this.m_world.isLocked());if(!0!=this.m_world.isLocked()&&this.m_type==e.dynamics.B2Body.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=a.mass;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<a.I&&0==(this.m_flags&e.dynamics.B2Body.e_fixedRotationFlag)&&(this.m_I=a.I-this.m_mass*(a.center.x*a.center.x+a.center.y*a.center.y),this.m_invI=1/this.m_I);var c=this.m_sweep.c.copy();this.m_sweep.localCenter.setV(a.center);
this.m_sweep.c0.setV(e.common.math.B2Math.mulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.setV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-c.y);this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-c.x)}},getMassData:function(a){a.mass=this.m_mass;a.I=this.m_I;a.center.setV(this.m_sweep.localCenter)},getInertia:function(){return this.m_I},getMass:function(){return this.m_mass},merge:function(a){var c;for(c=a.m_fixtureList;null!=c;){var f=
c.m_next;a.m_fixtureCount--;c.m_next=this.m_fixtureList;this.m_fixtureList=c;this.m_fixtureCount++;c.m_body=a;c=f}this.m_fixtureCount=0;this.getWorldCenter();a.getWorldCenter();this.getLinearVelocity().copy();a.getLinearVelocity().copy();this.getAngularVelocity();a.getAngularVelocity();this.resetMassData();this.synchronizeFixtures()},split:function(a){for(var c=this.getLinearVelocity().copy(),f=this.getAngularVelocity(),b=this.getWorldCenter(),d=this.m_world.createBody(this.getDefinition()),g=null,
h=this.m_fixtureList;null!=h;)if(a(h)){var i=h.m_next;null!=g?g.m_next=i:this.m_fixtureList=i;this.m_fixtureCount--;h.m_next=d.m_fixtureList;d.m_fixtureList=h;d.m_fixtureCount++;h.m_body=d;h=i}else g=h,h=h.m_next;this.resetMassData();d.resetMassData();g=this.getWorldCenter();a=d.getWorldCenter();g=e.common.math.B2Math.addVV(c,e.common.math.B2Math.crossFV(f,e.common.math.B2Math.subtractVV(g,b)));c=e.common.math.B2Math.addVV(c,e.common.math.B2Math.crossFV(f,e.common.math.B2Math.subtractVV(a,b)));this.setLinearVelocity(g);
d.setLinearVelocity(c);this.setAngularVelocity(f);d.setAngularVelocity(f);this.synchronizeFixtures();d.synchronizeFixtures();return d},applyImpulse:function(a,c){this.m_type==e.dynamics.B2Body.b2_dynamicBody&&(!1==this.isAwake()&&this.setAwake(!0),this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((c.x-this.m_sweep.c.x)*a.y-(c.y-this.m_sweep.c.y)*a.x))},applyTorque:function(a){this.m_type==e.dynamics.B2Body.b2_dynamicBody&&
(!1==this.isAwake()&&this.setAwake(!0),this.m_torque+=a)},applyForce:function(a,c){this.m_type==e.dynamics.B2Body.b2_dynamicBody&&(!1==this.isAwake()&&this.setAwake(!0),this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(c.x-this.m_sweep.c.x)*a.y-(c.y-this.m_sweep.c.y)*a.x)},getDefinition:function(){var a=new e.dynamics.B2BodyDef;a.type=this.getType();a.allowSleep=(this.m_flags&e.dynamics.B2Body.e_allowSleepFlag)==e.dynamics.B2Body.e_allowSleepFlag;a.angle=this.getAngle();a.angularDamping=this.m_angularDamping;
a.angularVelocity=this.m_angularVelocity;a.fixedRotation=(this.m_flags&e.dynamics.B2Body.e_fixedRotationFlag)==e.dynamics.B2Body.e_fixedRotationFlag;a.bullet=(this.m_flags&e.dynamics.B2Body.e_bulletFlag)==e.dynamics.B2Body.e_bulletFlag;a.awake=(this.m_flags&e.dynamics.B2Body.e_awakeFlag)==e.dynamics.B2Body.e_awakeFlag;a.linearDamping=this.m_linearDamping;a.linearVelocity.setV(this.getLinearVelocity());a.position=this.getPosition();a.userData=this.getUserData();return a},getAngularVelocity:function(){return this.m_angularVelocity},
setAngularVelocity:function(a){this.m_type!=e.dynamics.B2Body.b2_staticBody&&(this.m_angularVelocity=a)},getLinearVelocity:function(){return this.m_linearVelocity},setLinearVelocity:function(a){this.m_type!=e.dynamics.B2Body.b2_staticBody&&this.m_linearVelocity.setV(a)},getLocalCenter:function(){return this.m_sweep.localCenter},getWorldCenter:function(){return this.m_sweep.c},setAngle:function(a){this.setPositionAndAngle(this.getPosition(),a)},getAngle:function(){return this.m_sweep.a},setPosition:function(a){this.setPositionAndAngle(a,
this.getAngle())},getPosition:function(){return this.m_xf.position},getTransform:function(){return this.m_xf},setTransform:function(a){this.setPositionAndAngle(a.position,a.getAngle())},setPositionFast:function(a){if(!0!=this.m_world.isLocked()){this.m_xf.position.setV(a);var a=this.m_xf.R,c=this.m_sweep.localCenter;this.m_sweep.c.x=a.col1.x*c.x+a.col2.x*c.y;this.m_sweep.c.y=a.col1.y*c.x+a.col2.y*c.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.setV(this.m_sweep.c)}},
setPositionAndAngle:function(a,c){var f;if(!0!=this.m_world.isLocked()){this.m_xf.R.set(c);this.m_xf.position.setV(a);f=this.m_xf.R;var b=this.m_sweep.localCenter;this.m_sweep.c.x=f.col1.x*b.x+f.col2.x*b.y;this.m_sweep.c.y=f.col1.y*b.x+f.col2.y*b.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.setV(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=c;b=this.m_world.m_contactManager.m_broadPhase;for(f=this.m_fixtureList;null!=f;)f.synchronize(b,this.m_xf,
this.m_xf),f=f.m_next;this.m_world.m_contactManager.findNewContacts()}},DestroyFixture:function(a){if(!0!=this.m_world.isLocked()){for(var c=this.m_fixtureList,f=null;null!=c;){if(c==a){null!=f?f.m_next=a.m_next:this.m_fixtureList=a.m_next;break}f=c;c=c.m_next}for(c=this.m_contactList;null!=c;){var f=c.contact,c=c.next,b=f.getFixtureA(),d=f.getFixtureB();(a==b||a==d)&&this.m_world.m_contactManager.destroy(f)}0!=(this.m_flags&e.dynamics.B2Body.e_activeFlag)&&a.destroyProxy(this.m_world.m_contactManager.m_broadPhase);
a.destroy();a.m_body=null;a.m_next=null;--this.m_fixtureCount;this.resetMassData()}},createFixture2:function(a,c){null==c&&(c=0);var f=new e.dynamics.B2FixtureDef;f.shape=a;f.density=c;return this.createFixture(f)},createFixture:function(a){if(!0==this.m_world.isLocked())return null;var c=new e.dynamics.B2Fixture;c.create(this,this.m_xf,a);0!=(this.m_flags&e.dynamics.B2Body.e_activeFlag)&&c.createProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf);c.m_next=this.m_fixtureList;this.m_fixtureList=
c;++this.m_fixtureCount;c.m_body=this;0<c.m_density&&this.resetMassData();this.m_world.m_flags|=e.dynamics.B2World.e_newFixture;return c},connectEdges:function(a,c,f){var b=Math.atan2(c.getDirectionVector().y,c.getDirectionVector().x),f=Math.tan(0.5*(b-f)),f=e.common.math.B2Math.mulFV(f,c.getDirectionVector()),f=e.common.math.B2Math.subtractVV(f,c.getNormalVector()),f=e.common.math.B2Math.mulFV(e.common.B2Settings.b2_toiSlop,f),f=e.common.math.B2Math.addVV(f,c.getVertex1()),d=e.common.math.B2Math.addVV(a.getDirectionVector(),
c.getDirectionVector());d.normalize();var g=0<e.common.math.B2Math.dot(a.getDirectionVector(),c.getNormalVector());a.setNextEdge(c,f,d,g);c.setPrevEdge(a,f,d,g);return b},__class__:e.dynamics.B2Body};e.dynamics.B2BodyDef=function(){this.position=new e.common.math.B2Vec2;this.linearVelocity=new e.common.math.B2Vec2;this.userData=null;this.angularDamping=this.linearDamping=this.angularVelocity=this.angle=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=e.dynamics.B2Body.b2_staticBody;
this.active=!0;this.inertiaScale=1;this.groupID=3};l["box2D.dynamics.B2BodyDef"]=e.dynamics.B2BodyDef;e.dynamics.B2BodyDef.__name__=["box2D","dynamics","B2BodyDef"];e.dynamics.B2BodyDef.prototype={aMass:null,mass:null,bounciness:null,friction:null,ignoreGravity:null,groupID:null,inertiaScale:null,userData:null,active:null,bullet:null,fixedRotation:null,awake:null,allowSleep:null,angularDamping:null,linearDamping:null,angularVelocity:null,linearVelocity:null,angle:null,position:null,type:null,__class__:e.dynamics.B2BodyDef};
e.dynamics.B2ContactFilter=function(){};l["box2D.dynamics.B2ContactFilter"]=e.dynamics.B2ContactFilter;e.dynamics.B2ContactFilter.__name__=["box2D","dynamics","B2ContactFilter"];e.dynamics.B2ContactFilter.prototype={rayCollide:function(a,c){return null==a?!0:this.shouldCollide(n.Boot.__cast(a,e.dynamics.B2Fixture),c)},shouldCollide:function(a,c){var f=a.m_body.groupID,z=c.m_body.groupID,d=a.groupID,e=c.groupID;-1E3!=d&&(f=d);-1E3!=e&&(z=e);return-1==f||-1==z?!1:-2==f||-2==z?!0:b.stencyl.models.GameModel.collisionMap[f][z]},
__class__:e.dynamics.B2ContactFilter};e.dynamics.B2ContactImpulse=function(){this.normalImpulses=[];this.tangentImpulses=[]};l["box2D.dynamics.B2ContactImpulse"]=e.dynamics.B2ContactImpulse;e.dynamics.B2ContactImpulse.__name__=["box2D","dynamics","B2ContactImpulse"];e.dynamics.B2ContactImpulse.prototype={tangentImpulses:null,normalImpulses:null,__class__:e.dynamics.B2ContactImpulse};e.dynamics.B2ContactListener=function(){};l["box2D.dynamics.B2ContactListener"]=e.dynamics.B2ContactListener;e.dynamics.B2ContactListener.__name__=
["box2D","dynamics","B2ContactListener"];e.dynamics.B2ContactListener.prototype={postSolve:function(){},preSolve:function(){},endContact:function(a){var c=n.Boot.__cast(a.getFixtureA().getUserData(),b.stencyl.models.Actor),f=n.Boot.__cast(a.getFixtureB().getUserData(),b.stencyl.models.Actor),z=n.Boot.__instanceof(c,b.stencyl.models.Region),d=n.Boot.__instanceof(f,b.stencyl.models.Region);if(z&&!d){z=!1;null!=f.regionContacts&&f.regionContacts.remove(a.key);for(d=f.regionContacts.iterator();d.hasNext();){a=
d.next();if(n.Boot.__instanceof(a.getFixtureA().getUserData(),b.stencyl.models.Region)&&a.getFixtureA().getUserData()==c){z=!0;break}if(n.Boot.__instanceof(a.getFixtureB().getUserData(),b.stencyl.models.Region)&&a.getFixtureB().getUserData()==c){z=!0;break}}(!z||f.recycled)&&n.Boot.__cast(c,b.stencyl.models.Region).removeActor(f)}else if(d&&!z){z=!1;null!=c.regionContacts&&c.regionContacts.remove(a.key);for(d=c.regionContacts.iterator();d.hasNext();){a=d.next();if(n.Boot.__instanceof(a.getFixtureA().getUserData(),
b.stencyl.models.Region)&&a.getFixtureA().getUserData()==f){z=!0;break}if(n.Boot.__instanceof(a.getFixtureB().getUserData(),b.stencyl.models.Region)&&a.getFixtureB().getUserData()==f){z=!0;break}}(!z||c.recycled)&&n.Boot.__cast(f,b.stencyl.models.Region).removeActor(c)}else null!=c.collisions&&c.collisions.remove(a.key)&&c.collisionsCount--,null!=c.contacts&&c.contacts.remove(a.key)&&c.contactCount--,null!=f.collisions&&f.collisions.remove(a.key)&&f.collisionsCount--,null!=f.contacts&&f.contacts.remove(a.key)&&
f.contactCount--},beginContact:function(a){var c=d.Lib.getTimer();a.key=c;var c=n.Boot.__cast(a.getFixtureA().getUserData(),b.stencyl.models.Actor),f=n.Boot.__cast(a.getFixtureB().getUserData(),b.stencyl.models.Actor),z=n.Boot.__instanceof(c,b.stencyl.models.Region),e=n.Boot.__instanceof(f,b.stencyl.models.Region);if(z&&!e&&!n.Boot.__instanceof(f,b.stencyl.models.Terrain))n.Boot.__cast(c,b.stencyl.models.Region).addActor(f),null!=f.regionContacts&&f.regionContacts.set(a.key,a);else if(e&&!z&&!n.Boot.__instanceof(c,
b.stencyl.models.Terrain))n.Boot.__cast(f,b.stencyl.models.Region).addActor(c),null!=c.regionContacts&&c.regionContacts.set(a.key,a);else if(null!=c.contacts&&(c.contacts.set(a.key,a),c.contactCount++,c.collisions.remove(a.key)&&c.collisionsCount--),null!=f.contacts)f.contacts.set(a.key,a),f.contactCount++,f.collisions.remove(a.key)&&f.collisionsCount--},__class__:e.dynamics.B2ContactListener};e.dynamics.B2ContactManager=function(){this.m_world=null;this.m_contactCount=0;this.m_contactFilter=e.dynamics.B2ContactFilter.b2_defaultFilter;
this.m_contactListener=e.dynamics.B2ContactListener.b2_defaultListener;this.m_contactFactory=new e.dynamics.contacts.B2ContactFactory(this.m_allocator);this.m_broadPhase=new e.collision.B2DynamicTreeBroadPhase};l["box2D.dynamics.B2ContactManager"]=e.dynamics.B2ContactManager;e.dynamics.B2ContactManager.__name__=["box2D","dynamics","B2ContactManager"];e.dynamics.B2ContactManager.prototype={m_allocator:null,m_contactFactory:null,m_contactListener:null,m_contactFilter:null,m_contactCount:null,m_contactList:null,
m_broadPhase:null,m_world:null,collide:function(){for(var a=this.m_world.m_contactList;null!=a;){var c=a.getFixtureA(),f=a.getFixtureB(),b=c.getBody(),d=f.getBody();if(!1==b.isAwake()&&!1==d.isAwake())a=a.getNext();else{if(0!=(a.m_flags&e.dynamics.contacts.B2Contact.e_filterFlag)){if(!1==d.shouldCollide(b)){c=a;a=c.getNext();this.destroy(c);continue}if(!1==this.m_contactFilter.shouldCollide(c,f)){c=a;a=c.getNext();this.destroy(c);continue}a.m_flags&=~e.dynamics.contacts.B2Contact.e_filterFlag}!1==
this.m_broadPhase.testOverlap(c.m_proxy,f.m_proxy)?(c=a,a=c.getNext(),this.destroy(c)):(a.update(this.m_contactListener),a=a.getNext())}}},destroy:function(a){var c=a.getFixtureA(),f=a.getFixtureB(),c=c.getBody(),f=f.getBody();a.isTouching()&&this.m_contactListener.endContact(a);null!=a.m_prev&&(a.m_prev.m_next=a.m_next);null!=a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_world.m_contactList&&(this.m_world.m_contactList=a.m_next);null!=a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next);null!=a.m_nodeA.next&&
(a.m_nodeA.next.prev=a.m_nodeA.prev);a.m_nodeA==c.m_contactList&&(c.m_contactList=a.m_nodeA.next);null!=a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next);null!=a.m_nodeB.next&&(a.m_nodeB.next.prev=a.m_nodeB.prev);a.m_nodeB==f.m_contactList&&(f.m_contactList=a.m_nodeB.next);this.m_contactFactory.destroy(a);--this.m_contactCount},findNewContacts:function(){this.m_broadPhase.updatePairs(A(this,this.addPair))},addPair:function(a,c){var f=n.Boot.__cast(a,e.dynamics.B2Fixture),b=n.Boot.__cast(c,e.dynamics.B2Fixture),
d=f.getBody(),g=b.getBody();if(d!=g){for(var h=g.getContactList();null!=h;){if(h.other==d){var i=h.contact.getFixtureA(),j=h.contact.getFixtureB();if(i==f&&j==b||i==b&&j==f)return}h=h.next}!1!=g.shouldCollide(d)&&!1!=this.m_contactFilter.shouldCollide(f,b)&&(h=this.m_contactFactory.create(f,b),f=h.getFixtureA(),b=h.getFixtureB(),d=f.m_body,g=b.m_body,h.m_prev=null,h.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=h),this.m_world.m_contactList=
h,h.m_nodeA.contact=h,h.m_nodeA.other=g,h.m_nodeA.prev=null,h.m_nodeA.next=d.m_contactList,null!=d.m_contactList&&(d.m_contactList.prev=h.m_nodeA),d.m_contactList=h.m_nodeA,h.m_nodeB.contact=h,h.m_nodeB.other=d,h.m_nodeB.prev=null,h.m_nodeB.next=g.m_contactList,null!=g.m_contactList&&(g.m_contactList.prev=h.m_nodeB),g.m_contactList=h.m_nodeB,++this.m_world.m_contactCount)}},__class__:e.dynamics.B2ContactManager};e.dynamics.B2DebugDraw=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=
this.m_drawScale=1;this.m_drawFlags=0};l["box2D.dynamics.B2DebugDraw"]=e.dynamics.B2DebugDraw;e.dynamics.B2DebugDraw.__name__=["box2D","dynamics","B2DebugDraw"];e.dynamics.B2DebugDraw.prototype={m_xformScale:null,m_fillAlpha:null,m_alpha:null,m_lineThickness:null,m_drawScale:null,m_sprite:null,m_drawFlags:null,drawTransform:function(a){this.m_sprite.jeashGetGraphics().lineStyle(this.m_lineThickness,16711680,this.m_alpha);this.m_sprite.jeashGetGraphics().moveTo(a.position.x*this.m_drawScale,a.position.y*
this.m_drawScale);this.m_sprite.jeashGetGraphics().lineTo((a.position.x+this.m_xformScale*a.R.col1.x)*this.m_drawScale,(a.position.y+this.m_xformScale*a.R.col1.y)*this.m_drawScale);this.m_sprite.jeashGetGraphics().lineStyle(this.m_lineThickness,65280,this.m_alpha);this.m_sprite.jeashGetGraphics().moveTo(a.position.x*this.m_drawScale,a.position.y*this.m_drawScale);this.m_sprite.jeashGetGraphics().lineTo((a.position.x+this.m_xformScale*a.R.col2.x)*this.m_drawScale,(a.position.y+this.m_xformScale*a.R.col2.y)*
this.m_drawScale)},drawSegment:function(a,c,f){this.m_sprite.jeashGetGraphics().lineStyle(this.m_lineThickness,f.getColor(),this.m_alpha);this.m_sprite.jeashGetGraphics().moveTo(a.x*this.m_drawScale,a.y*this.m_drawScale);this.m_sprite.jeashGetGraphics().lineTo(c.x*this.m_drawScale,c.y*this.m_drawScale)},drawSolidCircle:function(a,c,f,b){this.m_sprite.jeashGetGraphics().lineStyle(this.m_lineThickness,b.getColor(),this.m_alpha);this.m_sprite.jeashGetGraphics().moveTo(0,0);this.m_sprite.jeashGetGraphics().beginFill(b.getColor(),
this.m_fillAlpha);this.m_sprite.jeashGetGraphics().drawCircle(a.x*this.m_drawScale,a.y*this.m_drawScale,c*this.m_drawScale);this.m_sprite.jeashGetGraphics().endFill();this.m_sprite.jeashGetGraphics().moveTo(a.x*this.m_drawScale,a.y*this.m_drawScale);this.m_sprite.jeashGetGraphics().lineTo((a.x+f.x*c)*this.m_drawScale,(a.y+f.y*c)*this.m_drawScale)},drawCircle:function(a,c,f){this.m_sprite.jeashGetGraphics().lineStyle(this.m_lineThickness,f.getColor(),this.m_alpha);this.m_sprite.jeashGetGraphics().drawCircle(a.x*
this.m_drawScale,a.y*this.m_drawScale,c*this.m_drawScale)},drawSolidPolygon:function(a,c,f){this.m_sprite.jeashGetGraphics().lineStyle(this.m_lineThickness,f.getColor(),this.m_alpha);this.m_sprite.jeashGetGraphics().moveTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale);this.m_sprite.jeashGetGraphics().beginFill(f.getColor(),this.m_fillAlpha);for(f=1;f<c;){var b=f++;this.m_sprite.jeashGetGraphics().lineTo(a[b].x*this.m_drawScale,a[b].y*this.m_drawScale)}this.m_sprite.jeashGetGraphics().lineTo(a[0].x*
this.m_drawScale,a[0].y*this.m_drawScale);this.m_sprite.jeashGetGraphics().endFill()},drawPolygon:function(a,c,f){this.m_sprite.jeashGetGraphics().lineStyle(this.m_lineThickness,f.getColor(),this.m_alpha);this.m_sprite.jeashGetGraphics().moveTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale);for(f=1;f<c;){var b=f++;this.m_sprite.jeashGetGraphics().lineTo(a[b].x*this.m_drawScale,a[b].y*this.m_drawScale)}this.m_sprite.jeashGetGraphics().lineTo(a[0].x*this.m_drawScale,a[0].y*this.m_drawScale)},getXFormScale:function(){return this.m_xformScale},
setXFormScale:function(a){this.m_xformScale=a},getFillAlpha:function(){return this.m_fillAlpha},setFillAlpha:function(a){this.m_fillAlpha=a},getAlpha:function(){return this.m_alpha},setAlpha:function(a){this.m_alpha=a},getLineThickness:function(){return this.m_lineThickness},setLineThickness:function(a){this.m_lineThickness=a},getDrawScale:function(){return this.m_drawScale},setDrawScale:function(a){this.m_drawScale=a},getSprite:function(){return this.m_sprite},setSprite:function(a){this.m_sprite=
a},clearFlags:function(a){this.m_drawFlags&=~a},appendFlags:function(a){this.m_drawFlags|=a},getFlags:function(){return this.m_drawFlags},setFlags:function(a){this.m_drawFlags=a},__class__:e.dynamics.B2DebugDraw};e.dynamics.B2DestructionListener=function(){};l["box2D.dynamics.B2DestructionListener"]=e.dynamics.B2DestructionListener;e.dynamics.B2DestructionListener.__name__=["box2D","dynamics","B2DestructionListener"];e.dynamics.B2DestructionListener.prototype={sayGoodbyeFixture:function(){},sayGoodbyeJoint:function(){},
__class__:e.dynamics.B2DestructionListener};e.dynamics.B2FilterData=function(){this.categoryBits=1;this.maskBits=65535;this.groupIndex=0};l["box2D.dynamics.B2FilterData"]=e.dynamics.B2FilterData;e.dynamics.B2FilterData.__name__=["box2D","dynamics","B2FilterData"];e.dynamics.B2FilterData.prototype={groupIndex:null,maskBits:null,categoryBits:null,copy:function(){var a=new e.dynamics.B2FilterData;a.categoryBits=this.categoryBits;a.maskBits=this.maskBits;a.groupIndex=this.groupIndex;return a},__class__:e.dynamics.B2FilterData};
e.dynamics.B2Fixture=function(){this.m_filter=new e.dynamics.B2FilterData;this.m_aabb=new e.collision.B2AABB;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0;this.groupID=3};l["box2D.dynamics.B2Fixture"]=e.dynamics.B2Fixture;e.dynamics.B2Fixture.__name__=["box2D","dynamics","B2Fixture"];e.dynamics.B2Fixture.prototype={groupID:null,m_userData:null,m_isSensor:null,m_filter:null,m_proxy:null,m_restitution:null,m_friction:null,m_shape:null,
m_body:null,m_next:null,m_density:null,m_aabb:null,m_massData:null,synchronize:function(a,c,f){null!=this.m_proxy&&(this.m_shape.computeAABB(e.dynamics.B2Fixture.tempAABB1,c),this.m_shape.computeAABB(e.dynamics.B2Fixture.tempAABB2,f),this.m_aabb.combine(e.dynamics.B2Fixture.tempAABB1,e.dynamics.B2Fixture.tempAABB2),c=e.common.math.B2Math.subtractVVPooled(f.position,c.position),a.moveProxy(this.m_proxy,this.m_aabb,c))},destroyProxy:function(a){null!=this.m_proxy&&(a.destroyProxy(this.m_proxy),this.m_proxy=
null)},createProxy:function(a,c){this.m_shape.computeAABB(this.m_aabb,c);this.m_proxy=a.createProxy(this.m_aabb,this)},destroy:function(){this.m_shape=null},create:function(a,c,f){this.m_userData=f.userData;this.m_friction=f.friction;this.m_restitution=f.restitution;this.m_body=a;this.m_next=null;this.m_filter=f.filter.copy();this.m_isSensor=f.isSensor;this.m_shape=f.shape.copy();this.m_density=f.density;this.groupID=f.groupID},getAABB:function(){return this.m_aabb},setRestitution:function(a){this.m_restitution=
a},getRestitution:function(){return this.m_restitution},setFriction:function(a){this.m_friction=a},getFriction:function(){return this.m_friction},getDensity:function(){return this.m_density},setDensity:function(a){this.m_density=a},getMassData:function(a){null==a&&(a=new e.collision.shapes.B2MassData);this.m_shape.computeMass(a,this.m_density);return a},rayCast:function(a,c){return this.m_shape.rayCast(a,c,this.m_body.getTransform())},testPoint:function(a){return this.m_shape.testPoint(this.m_body.getTransform(),
a)},SetUserData:function(a){this.m_userData=a},getUserData:function(){return this.m_userData},getNext:function(){return this.m_next},getBody:function(){return this.m_body},getFilterData:function(){return this.m_filter.copy()},setFilterData:function(a){this.m_filter=a.copy();if(null==this.m_body)for(a=this.m_body.getContactList();null!=a;){var c=a.contact,f=c.getFixtureA(),b=c.getFixtureB();(f==this||b==this)&&c.flagForFiltering();a=a.next}},isSensor:function(){return this.m_isSensor},setSensor:function(a){if(this.m_isSensor!=
a&&(this.m_isSensor=a,null!=this.m_body))for(a=this.m_body.getContactList();null!=a;){var c=a.contact,f=c.getFixtureA(),b=c.getFixtureB();if(f==this||b==this)c.setSensor(f.isSensor()||b.isSensor());a=a.next}},getShape:function(){return this.m_shape},getType:function(){return this.m_shape.getType()},__class__:e.dynamics.B2Fixture};e.dynamics.B2FixtureDef=function(){this.filter=new e.dynamics.B2FilterData;this.userData=this.shape=null;this.friction=0.2;this.density=this.restitution=0;this.filter.categoryBits=
1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=!1;this.groupID=3};l["box2D.dynamics.B2FixtureDef"]=e.dynamics.B2FixtureDef;e.dynamics.B2FixtureDef.__name__=["box2D","dynamics","B2FixtureDef"];e.dynamics.B2FixtureDef.prototype={groupID:null,filter:null,isSensor:null,density:null,restitution:null,friction:null,userData:null,shape:null,__class__:e.dynamics.B2FixtureDef};e.dynamics.B2Island=function(){this.m_bodies=[];this.m_contacts=[];this.m_joints=[]};l["box2D.dynamics.B2Island"]=
e.dynamics.B2Island;e.dynamics.B2Island.__name__=["box2D","dynamics","B2Island"];e.dynamics.B2Island.prototype={m_jointCapacity:null,m_contactCapacity:null,m_bodyCapacity:null,m_contactCount:null,m_jointCount:null,m_bodyCount:null,m_joints:null,m_contacts:null,m_bodies:null,m_contactSolver:null,m_listener:null,m_allocator:null,addJoint:function(a){this.m_joints[this.m_jointCount++]=a},addContact:function(a){this.m_contacts[this.m_contactCount++]=a},addBody:function(a){a.m_islandIndex=this.m_bodyCount;
this.m_bodies[this.m_bodyCount++]=a},report:function(a){if(null!=this.m_listener)for(var c=0,f=this.m_contactCount;c<f;){for(var b=c++,d=this.m_contacts[b],b=a[b],g=0,h=b.pointCount;g<h;){var i=g++;e.dynamics.B2Island.s_impulse.normalImpulses[i]=b.points[i].normalImpulse;e.dynamics.B2Island.s_impulse.tangentImpulses[i]=b.points[i].tangentImpulse}this.m_listener.postSolve(d,e.dynamics.B2Island.s_impulse)}},solveTOI:function(a){this.m_contactSolver.initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);
for(var c=this.m_contactSolver,f=0,b=this.m_jointCount;f<b;){var d=f++;this.m_joints[d].initVelocityConstraints(a)}f=0;for(b=a.velocityIterations;f<b;){f++;c.solveVelocityConstraints();for(var d=0,g=this.m_jointCount;d<g;){var h=d++;this.m_joints[h].solveVelocityConstraints(a)}}f=0;for(b=this.m_bodyCount;f<b;)if(d=f++,d=this.m_bodies[d],d.getType()!=e.dynamics.B2Body.b2_staticBody)g=a.dt*d.m_linearVelocity.x,h=a.dt*d.m_linearVelocity.y,g*g+h*h>e.common.B2Settings.b2_maxTranslationSquared&&(d.m_linearVelocity.normalize(),
d.m_linearVelocity.x*=e.common.B2Settings.b2_maxTranslation*a.inv_dt,d.m_linearVelocity.y*=e.common.B2Settings.b2_maxTranslation*a.inv_dt),g=a.dt*d.m_angularVelocity,g*g>e.common.B2Settings.b2_maxRotationSquared&&(d.m_angularVelocity=0>d.m_angularVelocity?-e.common.B2Settings.b2_maxRotation*a.inv_dt:e.common.B2Settings.b2_maxRotation*a.inv_dt),d.m_sweep.c0.setV(d.m_sweep.c),d.m_sweep.a0=d.m_sweep.a,d.m_sweep.c.x+=a.dt*d.m_linearVelocity.x,d.m_sweep.c.y+=a.dt*d.m_linearVelocity.y,d.m_sweep.a+=a.dt*
d.m_angularVelocity,d.synchronizeTransform();f=0;for(b=a.positionIterations;f<b;){f++;for(var a=c.solvePositionConstraints(0.75),i=!0,d=0,g=this.m_jointCount;d<g;)h=d++,h=this.m_joints[h].solvePositionConstraints(e.common.B2Settings.b2_contactBaumgarte),i=i&&h;if(a&&i)break}this.report(c.m_constraints)},solve:function(a,c,f){for(var b,d,g=0,h=this.m_bodyCount;g<h;)b=g++,b=this.m_bodies[b],b.getType()==e.dynamics.B2Body.b2_dynamicBody&&(b.isIgnoringGravity()?(b.m_linearVelocity.x+=a.dt*b.m_invMass*
b.m_force.x,b.m_linearVelocity.y+=a.dt*b.m_invMass*b.m_force.y):(b.m_linearVelocity.x+=a.dt*(c.x+b.m_invMass*b.m_force.x),b.m_linearVelocity.y+=a.dt*(c.y+b.m_invMass*b.m_force.y)),b.m_angularVelocity+=a.dt*b.m_invI*b.m_torque,b.m_linearVelocity.multiply(e.common.math.B2Math.clamp(1-a.dt*b.m_linearDamping,0,1)),b.m_angularVelocity*=e.common.math.B2Math.clamp(1-a.dt*b.m_angularDamping,0,1));this.m_contactSolver.initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);c=this.m_contactSolver;
c.initVelocityConstraints(a);g=0;for(h=this.m_jointCount;g<h;)b=g++,d=this.m_joints[b],d.initVelocityConstraints(a);g=0;for(h=a.velocityIterations;g<h;){g++;b=0;for(var i=this.m_jointCount;b<i;)d=b++,d=this.m_joints[d],d.solveVelocityConstraints(a);c.solveVelocityConstraints()}g=0;for(h=this.m_jointCount;g<h;)b=g++,d=this.m_joints[b],d.finalizeVelocityConstraints();c.finalizeVelocityConstraints();g=0;for(h=this.m_bodyCount;g<h;)if(b=g++,b=this.m_bodies[b],b.getType()!=e.dynamics.B2Body.b2_staticBody){var i=
a.dt*b.m_linearVelocity.x,j=a.dt*b.m_linearVelocity.y;i*i+j*j>e.common.B2Settings.b2_maxTranslationSquared&&(b.m_linearVelocity.normalize(),b.m_linearVelocity.x*=e.common.B2Settings.b2_maxTranslation*a.inv_dt,b.m_linearVelocity.y*=e.common.B2Settings.b2_maxTranslation*a.inv_dt);i=a.dt*b.m_angularVelocity;i*i>e.common.B2Settings.b2_maxRotationSquared&&(b.m_angularVelocity=0>b.m_angularVelocity?-e.common.B2Settings.b2_maxRotation*a.inv_dt:e.common.B2Settings.b2_maxRotation*a.inv_dt);b.m_sweep.c0.setV(b.m_sweep.c);
b.m_sweep.a0=b.m_sweep.a;b.m_sweep.c.x+=a.dt*b.m_linearVelocity.x;b.m_sweep.c.y+=a.dt*b.m_linearVelocity.y;b.m_sweep.a+=a.dt*b.m_angularVelocity;b.synchronizeTransform()}g=0;for(h=a.positionIterations;g<h;){g++;var j=c.solvePositionConstraints(e.common.B2Settings.b2_contactBaumgarte),p=!0;b=0;for(i=this.m_jointCount;b<i;)d=b++,d=this.m_joints[d],d=d.solvePositionConstraints(e.common.B2Settings.b2_contactBaumgarte),p=p&&d;if(j&&p)break}this.report(c.m_constraints);if(f){f=Number.MAX_VALUE;c=e.common.B2Settings.b2_linearSleepTolerance*
e.common.B2Settings.b2_linearSleepTolerance;i=e.common.B2Settings.b2_angularSleepTolerance*e.common.B2Settings.b2_angularSleepTolerance;g=0;for(h=this.m_bodyCount;g<h;)if(b=g++,b=this.m_bodies[b],b.getType()!=e.dynamics.B2Body.b2_staticBody)(0==(b.m_flags&e.dynamics.B2Body.e_allowSleepFlag)&&(f=b.m_sleepTime=0),0==(b.m_flags&e.dynamics.B2Body.e_allowSleepFlag)||b.m_angularVelocity*b.m_angularVelocity>i||e.common.math.B2Math.dot(b.m_linearVelocity,b.m_linearVelocity)>c)?f=b.m_sleepTime=0:(b.m_sleepTime+=
a.dt,f=e.common.math.B2Math.min(f,b.m_sleepTime));if(f>=e.common.B2Settings.b2_timeToSleep){g=0;for(h=this.m_bodyCount;g<h;)b=g++,b=this.m_bodies[b],b.setAwake(!1)}}},clear:function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0},initialize:function(a,c,f,b,d,e){this.m_bodyCapacity=a;this.m_contactCapacity=c;this.m_jointCapacity=f;this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;this.m_allocator=b;this.m_listener=d;this.m_contactSolver=e;for(b=this.m_bodies.length;b<a;)d=b++,this.m_bodies[d]=
null;for(b=this.m_contacts.length;b<c;)d=b++,this.m_contacts[d]=null;for(b=this.m_joints.length;b<f;)d=b++,this.m_joints[d]=null},__class__:e.dynamics.B2Island};e.dynamics.B2TimeStep=function(){};l["box2D.dynamics.B2TimeStep"]=e.dynamics.B2TimeStep;e.dynamics.B2TimeStep.__name__=["box2D","dynamics","B2TimeStep"];e.dynamics.B2TimeStep.prototype={warmStarting:null,positionIterations:null,velocityIterations:null,dtRatio:null,inv_dt:null,dt:null,set:function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.positionIterations=
a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=a.warmStarting},__class__:e.dynamics.B2TimeStep};e.dynamics.B2World=function(a,c){this.s_stack=[];this.m_contactManager=new e.dynamics.B2ContactManager;this.m_contactSolver=new e.dynamics.contacts.B2ContactSolver;this.m_island=new e.dynamics.B2Island;this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=
this.m_bodyCount=0;e.dynamics.B2World.m_warmStarting=!0;e.dynamics.B2World.m_continuousPhysics=!1;this.m_allowSleep=c;this.m_gravity=a;this.m_inv_dt0=0;this.m_contactManager.m_world=this;var f=new e.dynamics.B2BodyDef;this.m_groundBody=this.createBody(f)};l["box2D.dynamics.B2World"]=e.dynamics.B2World;e.dynamics.B2World.__name__=["box2D","dynamics","B2World"];e.dynamics.B2World.prototype={m_inv_dt0:null,m_debugDraw:null,m_destructionListener:null,m_groundBody:null,m_allowSleep:null,m_gravity:null,
m_controllerCount:null,m_controllerList:null,m_jointCount:null,m_contactCount:null,m_bodyCount:null,m_contactList:null,m_jointList:null,m_bodyList:null,m_island:null,m_contactSolver:null,m_contactManager:null,m_flags:null,getScreenBounds:function(){return this.m_aabb},setScreenBounds:function(a){this.m_aabb=a},m_aabb:null,drawShape:function(a,c,f){switch(a.m_type){case e.collision.shapes.B2Shape.e_circleShape:var a=n.Boot.__cast(a,e.collision.shapes.B2CircleShape),b=e.common.math.B2Math.mulX(c,a.m_p);
this.m_debugDraw.drawSolidCircle(b,a.m_radius,c.R.col1,f);break;case e.collision.shapes.B2Shape.e_polygonShape:for(var b=n.Boot.__cast(a,e.collision.shapes.B2PolygonShape),a=b.getVertexCount(),b=b.getVertices(),d=[],g=0;g<a;){var h=g++;d[h]=e.common.math.B2Math.mulX(c,b[h])}this.m_debugDraw.drawSolidPolygon(d,a,f);break;case e.collision.shapes.B2Shape.e_edgeShape:a=n.Boot.__cast(a,e.collision.shapes.B2EdgeShape),this.m_debugDraw.drawSegment(e.common.math.B2Math.mulX(c,a.getVertex1()),e.common.math.B2Math.mulX(c,
a.getVertex2()),f)}},drawJoint:function(a){var c=a.getBodyA(),f=a.getBodyB(),b=c.m_xf.position,d=f.m_xf.position,g=a.getAnchorA(),h=a.getAnchorB(),i=e.dynamics.B2World.s_jointColor;switch(a.m_type){case e.dynamics.joints.B2Joint.e_distanceJoint:this.m_debugDraw.drawSegment(g,h,i);break;case e.dynamics.joints.B2Joint.e_pulleyJoint:c=n.Boot.__cast(a,e.dynamics.joints.B2PulleyJoint);a=c.getGroundAnchorA();c=c.getGroundAnchorB();this.m_debugDraw.drawSegment(a,g,i);this.m_debugDraw.drawSegment(c,h,i);
this.m_debugDraw.drawSegment(a,c,i);break;case e.dynamics.joints.B2Joint.e_mouseJoint:this.m_debugDraw.drawSegment(g,h,i);break;default:c!=this.m_groundBody&&this.m_debugDraw.drawSegment(b,g,i),this.m_debugDraw.drawSegment(g,h,i),f!=this.m_groundBody&&this.m_debugDraw.drawSegment(d,h,i)}},solveTOI:function(a){var c,f,b,d,g=this.m_island;g.initialize(this.m_bodyCount,e.common.B2Settings.b2_maxTOIContactsPerIsland,e.common.B2Settings.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,
this.m_contactSolver);var h=e.dynamics.B2World.s_queue;for(c=this.m_bodyList;null!=c;)c.m_flags&=~e.dynamics.B2Body.e_islandFlag,c.m_sweep.t0=0,c=c.m_next;for(c=this.m_contactList;null!=c;)c.m_flags&=~(e.dynamics.contacts.B2Contact.e_toiFlag|e.dynamics.contacts.B2Contact.e_islandFlag),c=c.m_next;for(c=this.m_jointList;null!=c;)c.m_islandFlag=!1,c=c.m_next;for(;;){d=null;var i=1;for(c=this.m_contactList;null!=c;){if(!(!0==c.isSensor()||!1==c.isEnabled()||!1==c.isContinuous())){f=1;if(0!=(c.m_flags&
e.dynamics.contacts.B2Contact.e_toiFlag))f=c.m_toi;else{f=c.m_fixtureA;b=c.m_fixtureB;f=f.m_body;b=b.m_body;if((f.getType()!=e.dynamics.B2Body.b2_dynamicBody||!1==f.isAwake())&&(b.getType()!=e.dynamics.B2Body.b2_dynamicBody||!1==b.isAwake())){c=c.m_next;continue}var j=f.m_sweep.t0;f.m_sweep.t0<b.m_sweep.t0?(j=b.m_sweep.t0,f.m_sweep.advance(j)):b.m_sweep.t0<f.m_sweep.t0&&(j=f.m_sweep.t0,b.m_sweep.advance(j));f=c.computeTOI(f.m_sweep,b.m_sweep);e.common.B2Settings.b2Assert(0<=f&&1>=f);0<f&&1>f&&(f=
(1-f)*j+f,1<f&&(f=1));c.m_toi=f;c.m_flags|=e.dynamics.contacts.B2Contact.e_toiFlag}Number.MIN_VALUE<f&&f<i&&(d=c,i=f)}c=c.m_next}if(null==d||1-100*Number.MIN_VALUE<i)break;f=d.m_fixtureA;b=d.m_fixtureB;f=f.m_body;b=b.m_body;e.dynamics.B2World.s_backupA.set(f.m_sweep);e.dynamics.B2World.s_backupB.set(b.m_sweep);f.advance(i);b.advance(i);d.update(this.m_contactManager.m_contactListener);d.m_flags&=~e.dynamics.contacts.B2Contact.e_toiFlag;if(!0==d.isSensor()||!1==d.isEnabled())f.m_sweep.set(e.dynamics.B2World.s_backupA),
b.m_sweep.set(e.dynamics.B2World.s_backupB),f.synchronizeTransform(),b.synchronizeTransform();else if(!1!=d.isTouching()){c=f;c.getType()!=e.dynamics.B2Body.b2_dynamicBody&&(c=b);g.clear();b=f=0;h[f+b++]=c;for(c.m_flags|=e.dynamics.B2Body.e_islandFlag;0<b;)if(c=h[f++],--b,g.addBody(c),!1==c.isAwake()&&c.setAwake(!0),c.getType()==e.dynamics.B2Body.b2_dynamicBody){for(d=c.m_contactList;null!=d&&g.m_contactCount!=g.m_contactCapacity;){if(0==(d.contact.m_flags&e.dynamics.contacts.B2Contact.e_islandFlag)&&
!(!0==d.contact.isSensor()||!1==d.contact.isEnabled()||!1==d.contact.isTouching()))g.addContact(d.contact),d.contact.m_flags|=e.dynamics.contacts.B2Contact.e_islandFlag,j=d.other,0==(j.m_flags&e.dynamics.B2Body.e_islandFlag)&&(j.getType()!=e.dynamics.B2Body.b2_staticBody&&(j.advance(i),j.setAwake(!0)),h[f+b]=j,++b,j.m_flags|=e.dynamics.B2Body.e_islandFlag);d=d.next}for(c=c.m_jointList;null!=c;)g.m_jointCount!=g.m_jointCapacity&&!0!=c.joint.m_islandFlag&&(j=c.other,!1!=j.isActive()&&(g.addJoint(c.joint),
c.joint.m_islandFlag=!0,0==(j.m_flags&e.dynamics.B2Body.e_islandFlag)&&(j.getType()!=e.dynamics.B2Body.b2_staticBody&&(j.advance(i),j.setAwake(!0)),h[f+b]=j,++b,j.m_flags|=e.dynamics.B2Body.e_islandFlag))),c=c.next}c=e.dynamics.B2World.s_timestep;c.warmStarting=!1;c.dt=(1-i)*a.dt;c.inv_dt=1/c.dt;c.dtRatio=0;c.velocityIterations=a.velocityIterations;c.positionIterations=a.positionIterations;g.solveTOI(c);i=0;for(f=g.m_bodyCount;i<f;)if(c=i++,c=g.m_bodies[c],c.m_flags&=~e.dynamics.B2Body.e_islandFlag,
!1!=c.isAwake()&&c.getType()==e.dynamics.B2Body.b2_dynamicBody){c.synchronizeFixtures();for(d=c.m_contactList;null!=d;)d.contact.m_flags&=~e.dynamics.contacts.B2Contact.e_toiFlag,d=d.next}i=0;for(f=g.m_contactCount;i<f;)c=i++,c=g.m_contacts[c],c.m_flags&=~(e.dynamics.contacts.B2Contact.e_toiFlag|e.dynamics.contacts.B2Contact.e_islandFlag);i=0;for(f=g.m_jointCount;i<f;)c=i++,c=g.m_joints[c],c.m_islandFlag=!1;this.m_contactManager.findNewContacts()}}},solve:function(a){for(var c,f=this.m_controllerList;null!=
f;)f.step(a),f=f.m_next;f=this.m_island;f.initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(c=this.m_bodyList;null!=c;)c.m_flags&=~e.dynamics.B2Body.e_islandFlag,c=c.m_next;for(var b=this.m_contactList;null!=b;)b.m_flags&=~e.dynamics.contacts.B2Contact.e_islandFlag,b=b.m_next;for(b=this.m_jointList;null!=b;)b.m_islandFlag=!1,b=b.m_next;for(var b=this.s_stack,d=this.m_bodyList;null!=d;){if(0==(d.m_flags&e.dynamics.B2Body.e_islandFlag)){if(!d.isActive()&&
!d.isAlwaysActive()&&(d.m_xf.position.x+d.origin.x+d.size.x>=this.m_aabb.lowerBound.x||d.m_xf.position.y+d.origin.y+d.size.y>=this.m_aabb.lowerBound.y||d.m_xf.position.x+d.origin.x<=this.m_aabb.upperBound.x||d.m_xf.position.y+d.origin.y<=this.m_aabb.upperBound.y))d.setActive(!0),d.setAwake(!0);if(!(!1==d.isAwake()||!1==d.isActive()||d.isPaused())&&d.getType()!=e.dynamics.B2Body.b2_staticBody)if(d.isActive()&&!d.isAlwaysActive()&&(d.m_xf.position.x+d.origin.x+d.size.x<=this.m_aabb.lowerBound.x||d.m_xf.position.y+
d.origin.y+d.size.y<=this.m_aabb.lowerBound.y||d.m_xf.position.x+d.origin.x>=this.m_aabb.upperBound.x||d.m_xf.position.y+d.origin.y>=this.m_aabb.upperBound.y))d.setAwake(!1),d.setActive(!1);else{f.clear();var g=0;b[g++]=d;for(d.m_flags|=e.dynamics.B2Body.e_islandFlag;0<g;)if(c=b[--g],f.addBody(c),!1==c.isAwake()&&c.setAwake(!0),c.getType()!=e.dynamics.B2Body.b2_staticBody){for(var h,i=c.m_contactList;null!=i;){if(0==(i.contact.m_flags&e.dynamics.contacts.B2Contact.e_islandFlag)&&!(!0==i.contact.isSensor()||
!1==i.contact.isEnabled()||!1==i.contact.isTouching()))f.addContact(i.contact),i.contact.m_flags|=e.dynamics.contacts.B2Contact.e_islandFlag,h=i.other,0==(h.m_flags&e.dynamics.B2Body.e_islandFlag)&&(b[g++]=h,h.m_flags|=e.dynamics.B2Body.e_islandFlag);i=i.next}for(c=c.m_jointList;null!=c;)!0!=c.joint.m_islandFlag&&(h=c.other,!1!=h.isActive()&&(f.addJoint(c.joint),c.joint.m_islandFlag=!0,0==(h.m_flags&e.dynamics.B2Body.e_islandFlag)&&(b[g++]=h,h.m_flags|=e.dynamics.B2Body.e_islandFlag))),c=c.next}f.solve(a,
this.m_gravity,this.m_allowSleep);g=0;for(h=f.m_bodyCount;g<h;)c=g++,c=f.m_bodies[c],c.getType()==e.dynamics.B2Body.b2_staticBody&&(c.m_flags&=~e.dynamics.B2Body.e_islandFlag)}}d=d.m_next}g=0;for(h=b.length;g<h;){c=g++;if(null==b[c])break;b[c]=null}for(c=this.m_bodyList;null!=c;)!1==c.isAwake()||!1==c.isActive()||c.getType()!=e.dynamics.B2Body.b2_staticBody&&c.synchronizeFixtures(),c=c.m_next;this.m_contactManager.findNewContacts()},s_stack:null,isLocked:function(){return 0<(this.m_flags&e.dynamics.B2World.e_locked)},
getContactList:function(){return this.m_contactList},getJointList:function(){return this.m_jointList},getBodyList:function(){return this.m_bodyList},rayCastAll:function(a,c){var f=[];this.rayCast(function(a){f[f.length]=a;return 1},a,c);return f},rayCastOne:function(a,c){var f;this.rayCast(function(a,c,b,d){f=a;return d},a,c);return f},rayCast:function(a,c,f){var b=this.m_contactManager.m_broadPhase,d=new e.collision.B2RayCastOutput,g=new e.collision.B2RayCastInput(c,f);b.rayCast(function(g,i){var j=
b.getUserData(i),j=n.Boot.__cast(j,e.dynamics.B2Fixture);if(j.rayCast(d,g)){var p=d.fraction,u=new e.common.math.B2Vec2((1-p)*c.x+p*f.x,(1-p)*c.y+p*f.y);return a(j,u,d.normal,p)}return g.maxFraction},g)},queryPoint:function(a,c){var f=this.m_contactManager.m_broadPhase,b=new e.collision.B2AABB;b.lowerBound.set(c.x-e.common.B2Settings.b2_linearSlop,c.y-e.common.B2Settings.b2_linearSlop);b.upperBound.set(c.x+e.common.B2Settings.b2_linearSlop,c.y+e.common.B2Settings.b2_linearSlop);f.query(function(b){b=
n.Boot.__cast(f.getUserData(b),e.dynamics.B2Fixture);return b.testPoint(c)?a(b):!0},b)},queryShape:function(a,c,f){null==f&&(f=new e.common.math.B2Transform,f.setIdentity());var b=this.m_contactManager.m_broadPhase,d=new e.collision.B2AABB;c.computeAABB(d,f);b.query(function(d){d=n.Boot.__cast(b.getUserData(d),e.dynamics.B2Fixture);return e.collision.shapes.B2Shape.testOverlap(c,f,d.getShape(),d.getBody().getTransform())?a(d):true},d)},queryAABB:function(a,c){var f=this.m_contactManager.m_broadPhase;
f.query(function(c){return a(f.getUserData(c))},c)},drawDebugData:function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.jeashGetGraphics().clear();var a=this.m_debugDraw.getFlags(),c,f,b;new e.common.math.B2Vec2;new e.common.math.B2Vec2;new e.common.math.B2Vec2;var d;new e.collision.B2AABB;new e.collision.B2AABB;d=[new e.common.math.B2Vec2,new e.common.math.B2Vec2,new e.common.math.B2Vec2,new e.common.math.B2Vec2];var g=new e.common.B2Color(0,0,0);if(0!=(a&e.dynamics.B2DebugDraw.e_shapeBit))for(c=
this.m_bodyList;null!=c;){d=c.m_xf;for(f=c.getFixtureList();null!=f;)b=f.getShape(),!1==c.isActive()?g.set(0.5,0.5,0.3):c.getType()==e.dynamics.B2Body.b2_staticBody?g.set(0.5,0.9,0.5):c.getType()==e.dynamics.B2Body.b2_kinematicBody?g.set(0.5,0.5,0.9):!1==c.isAwake()?g.set(0.6,0.6,0.6):g.set(0.9,0.7,0.7),this.drawShape(b,d,g),f=f.m_next;c=c.m_next}if(0!=(a&e.dynamics.B2DebugDraw.e_jointBit))for(c=this.m_jointList;null!=c;)this.drawJoint(c),c=c.m_next;if(0!=(a&e.dynamics.B2DebugDraw.e_controllerBit))for(c=
this.m_controllerList;null!=c;)c.draw(this.m_debugDraw),c=c.m_next;if(0!=(a&e.dynamics.B2DebugDraw.e_pairBit)){g.set(0.3,0.9,0.9);for(c=this.m_contactManager.m_contactList;null!=c;)b=c.getFixtureA(),f=c.getFixtureB(),b=b.getAABB().getCenter(),f=f.getAABB().getCenter(),this.m_debugDraw.drawSegment(b,f,g),c=c.getNext()}if(0!=(a&e.dynamics.B2DebugDraw.e_aabbBit)){b=this.m_contactManager.m_broadPhase;d=[new e.common.math.B2Vec2,new e.common.math.B2Vec2,new e.common.math.B2Vec2,new e.common.math.B2Vec2];
for(c=this.m_bodyList;null!=c;){if(!1!=c.isActive())for(f=c.getFixtureList();null!=f;){var h=b.getFatAABB(f.m_proxy);d[0].set(h.lowerBound.x,h.lowerBound.y);d[1].set(h.upperBound.x,h.lowerBound.y);d[2].set(h.upperBound.x,h.upperBound.y);d[3].set(h.lowerBound.x,h.upperBound.y);this.m_debugDraw.drawPolygon(d,4,g);f=f.getNext()}c=c.getNext()}}if(0!=(a&e.dynamics.B2DebugDraw.e_centerOfMassBit))for(c=this.m_bodyList;null!=c;)d=e.dynamics.B2World.s_xf,d.R=c.m_xf.R,d.position=c.getWorldCenter(),this.m_debugDraw.drawTransform(d),
c=c.m_next}},clearForces:function(){for(var a=this.m_bodyList;null!=a;)a.m_force.setZero(),a.m_torque=0,a=a.m_next},step:function(a,c,f){e.common.math.B2Vec2.freePool();0!=(this.m_flags&e.dynamics.B2World.e_newFixture)&&(this.m_contactManager.findNewContacts(),this.m_flags&=~e.dynamics.B2World.e_newFixture);this.m_flags|=e.dynamics.B2World.e_locked;var b=e.dynamics.B2World.s_timestep2;b.dt=a;b.velocityIterations=c;b.positionIterations=f;b.inv_dt=0<a?1/a:0;b.dtRatio=this.m_inv_dt0*a;b.warmStarting=
e.dynamics.B2World.m_warmStarting;this.m_contactManager.collide();0<b.dt&&this.solve(b);e.dynamics.B2World.m_continuousPhysics&&0<b.dt&&this.solveTOI(b);0<b.dt&&(this.m_inv_dt0=b.inv_dt);this.m_flags&=~e.dynamics.B2World.e_locked},getGroundBody:function(){return this.m_groundBody},getGravity:function(){return this.m_gravity},setGravity:function(a){this.m_gravity=a},getContactCount:function(){return this.m_contactCount},getJointCount:function(){return this.m_jointCount},getBodyCount:function(){return this.m_bodyCount},
setContinuousPhysics:function(a){e.dynamics.B2World.m_continuousPhysics=a},setWarmStarting:function(a){e.dynamics.B2World.m_warmStarting=a},destroyController:function(a){a.clear();null!=a.m_next&&(a.m_next.m_prev=a.m_prev);null!=a.m_prev&&(a.m_prev.m_next=a.m_next);a==this.m_controllerList&&(this.m_controllerList=a.m_next);--this.m_controllerCount},createController:function(a){if(a.m_world!=this)throw"Controller can only be a member of one world";a.m_next=this.m_controllerList;a.m_prev=null;null!=
this.m_controllerList&&(this.m_controllerList.m_prev=a);this.m_controllerList=a;++this.m_controllerCount;a.m_world=this;return a},removeController:function(a){null!=a.m_prev&&(a.m_prev.m_next=a.m_next);null!=a.m_next&&(a.m_next.m_prev=a.m_prev);this.m_controllerList==a&&(this.m_controllerList=a.m_next);this.m_controllerCount--},addController:function(a){a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList=a;a.m_world=this;this.m_controllerCount++;return a},destroyJoint:function(a){var c=
a.m_collideConnected;null!=a.m_prev&&(a.m_prev.m_next=a.m_next);null!=a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_jointList&&(this.m_jointList=a.m_next);var f=a.m_bodyA,b=a.m_bodyB;f.setAwake(!0);b.setAwake(!0);null!=a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next);null!=a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev);a.m_edgeA==f.m_jointList&&(f.m_jointList=a.m_edgeA.next);a.m_edgeA.prev=null;a.m_edgeA.next=null;null!=a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next);null!=a.m_edgeB.next&&
(a.m_edgeB.next.prev=a.m_edgeB.prev);a.m_edgeB==b.m_jointList&&(b.m_jointList=a.m_edgeB.next);a.m_edgeB.prev=null;a.m_edgeB.next=null;e.dynamics.joints.B2Joint.destroy(a,null);--this.m_jointCount;if(!1==c)for(a=b.getContactList();null!=a;)a.other==f&&a.contact.flagForFiltering(),a=a.next},createJoint:function(a){var c=e.dynamics.joints.B2Joint.create(a,null);c.m_prev=null;c.m_next=this.m_jointList;null!=this.m_jointList&&(this.m_jointList.m_prev=c);this.m_jointList=c;++this.m_jointCount;c.m_edgeA.joint=
c;c.m_edgeA.other=c.m_bodyB;c.m_edgeA.prev=null;c.m_edgeA.next=c.m_bodyA.m_jointList;null!=c.m_bodyA.m_jointList&&(c.m_bodyA.m_jointList.prev=c.m_edgeA);c.m_bodyA.m_jointList=c.m_edgeA;c.m_edgeB.joint=c;c.m_edgeB.other=c.m_bodyA;c.m_edgeB.prev=null;c.m_edgeB.next=c.m_bodyB.m_jointList;null!=c.m_bodyB.m_jointList&&(c.m_bodyB.m_jointList.prev=c.m_edgeB);c.m_bodyB.m_jointList=c.m_edgeB;var f=a.bodyA,b=a.bodyB;if(!1==a.collideConnected)for(a=b.getContactList();null!=a;)a.other==f&&a.contact.flagForFiltering(),
a=a.next;return c},destroyBody:function(a){if(!0!=this.isLocked()){for(var c=a.m_jointList;null!=c;){var f=c,c=c.next;null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeJoint(f.joint);this.destroyJoint(f.joint)}for(c=a.m_controllerList;null!=c;)f=c,c=c.nextController,f.controller.removeBody(a);for(c=a.m_contactList;null!=c;)f=c,c=c.next,this.m_contactManager.destroy(f.contact);a.m_contactList=null;for(c=a.m_fixtureList;null!=c;)f=c,c=c.m_next,null!=this.m_destructionListener&&
this.m_destructionListener.sayGoodbyeFixture(f),f.destroyProxy(this.m_contactManager.m_broadPhase),f.destroy();a.m_fixtureList=null;a.m_fixtureCount=0;null!=a.m_prev&&(a.m_prev.m_next=a.m_next);null!=a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_bodyList&&(this.m_bodyList=a.m_next);--this.m_bodyCount}},createBody:function(a){if(!0==this.isLocked())return null;a=new e.dynamics.B2Body(a,this);a.m_prev=null;a.m_next=this.m_bodyList;null!=this.m_bodyList&&(this.m_bodyList.m_prev=a);this.m_bodyList=a;
++this.m_bodyCount;return a},getProxyCount:function(){return this.m_contactManager.m_broadPhase.getProxyCount()},validate:function(){this.m_contactManager.m_broadPhase.validate()},setBroadPhase:function(a){var c=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var f=this.m_bodyList;null!=f;){for(var b=f.m_fixtureList;null!=b;)b.m_proxy=a.createProxy(c.getFatAABB(b.m_proxy),b),b=b.m_next;f=f.m_next}},setDebugDraw:function(a){this.m_debugDraw=a},setContactListener:function(a){this.m_contactManager.m_contactListener=
a},setContactFilter:function(a){this.m_contactManager.m_contactFilter=a},setDestructionListener:function(a){this.m_destructionListener=a},__class__:e.dynamics.B2World};e.dynamics.contacts={};e.dynamics.contacts.B2Contact=function(){this.m_nodeA=new e.dynamics.contacts.B2ContactEdge;this.m_nodeB=new e.dynamics.contacts.B2ContactEdge;this.m_manifold=new e.collision.B2Manifold;this.m_oldManifold=new e.collision.B2Manifold};l["box2D.dynamics.contacts.B2Contact"]=e.dynamics.contacts.B2Contact;e.dynamics.contacts.B2Contact.__name__=
["box2D","dynamics","contacts","B2Contact"];e.dynamics.contacts.B2Contact.prototype={key:null,m_toi:null,m_oldManifold:null,m_manifold:null,m_fixtureB:null,m_fixtureA:null,m_nodeB:null,m_nodeA:null,m_next:null,m_prev:null,m_flags:null,computeTOI:function(a,c){e.dynamics.contacts.B2Contact.s_input.proxyA.set(this.m_fixtureA.getShape());e.dynamics.contacts.B2Contact.s_input.proxyB.set(this.m_fixtureB.getShape());e.dynamics.contacts.B2Contact.s_input.sweepA=a;e.dynamics.contacts.B2Contact.s_input.sweepB=
c;e.dynamics.contacts.B2Contact.s_input.tolerance=e.common.B2Settings.b2_linearSlop;return e.collision.B2TimeOfImpact.timeOfImpact(e.dynamics.contacts.B2Contact.s_input)},evaluate:function(){},update:function(a){var c=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=c;this.m_flags|=e.dynamics.contacts.B2Contact.e_enabledFlag;var f=!1,c=(this.m_flags&e.dynamics.contacts.B2Contact.e_touchingFlag)==e.dynamics.contacts.B2Contact.e_touchingFlag,b=this.m_fixtureA.m_body,d=this.m_fixtureB.m_body,
g=this.m_fixtureA.m_aabb.testOverlap(this.m_fixtureB.m_aabb);if(0!=(this.m_flags&e.dynamics.contacts.B2Contact.e_sensorFlag))g&&(f=this.m_fixtureA.getShape(),g=this.m_fixtureB.getShape(),b=b.getTransform(),d=d.getTransform(),f=e.collision.shapes.B2Shape.testOverlap(f,b,g,d)),this.m_manifold.m_pointCount=0;else{this.m_flags=b.getType()!=e.dynamics.B2Body.b2_dynamicBody||b.isBullet()||d.getType()!=e.dynamics.B2Body.b2_dynamicBody||d.isBullet()?this.m_flags|e.dynamics.contacts.B2Contact.e_continuousFlag:
this.m_flags&~e.dynamics.contacts.B2Contact.e_continuousFlag;if(g){this.evaluate();for(var f=0<this.m_manifold.m_pointCount,g=0,h=this.m_manifold.m_pointCount;g<h;){var i=g++,i=this.m_manifold.m_points[i];i.m_normalImpulse=0;i.m_tangentImpulse=0;for(var j=i.m_id,p=0,u=this.m_oldManifold.m_pointCount;p<u;){var k=p++,k=this.m_oldManifold.m_points[k];if(k.m_id.getKey()==j.getKey()){i.m_normalImpulse=k.m_normalImpulse;i.m_tangentImpulse=k.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;
f!=c&&(b.setAwake(!0),d.setAwake(!0))}this.m_flags=f?this.m_flags|e.dynamics.contacts.B2Contact.e_touchingFlag:this.m_flags&~e.dynamics.contacts.B2Contact.e_touchingFlag;!1==c&&!0==f&&a.beginContact(this);!0==c&&!1==f&&a.endContact(this);0==(this.m_flags&e.dynamics.contacts.B2Contact.e_sensorFlag)&&a.preSolve(this,this.m_oldManifold)},reset:function(a,c){this.m_flags=e.dynamics.contacts.B2Contact.e_enabledFlag;if(null==a||null==c)this.m_fixtureB=this.m_fixtureA=null;else{if(a.isSensor()||c.isSensor())this.m_flags|=
e.dynamics.contacts.B2Contact.e_sensorFlag;var f=a.getBody(),b=c.getBody();if(f.getType()!=e.dynamics.B2Body.b2_dynamicBody||f.isBullet()||b.getType()!=e.dynamics.B2Body.b2_dynamicBody||b.isBullet())this.m_flags|=e.dynamics.contacts.B2Contact.e_continuousFlag;this.m_fixtureA=a;this.m_fixtureB=c;this.m_manifold.m_pointCount=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;
this.m_nodeB.next=null;this.m_nodeB.other=null}},flagForFiltering:function(){this.m_flags|=e.dynamics.contacts.B2Contact.e_filterFlag},getFixtureB:function(){return this.m_fixtureB},getFixtureA:function(){return this.m_fixtureA},getNext:function(){return this.m_next},isEnabled:function(){return(this.m_flags&e.dynamics.contacts.B2Contact.e_enabledFlag)==e.dynamics.contacts.B2Contact.e_enabledFlag},setEnabled:function(a){this.m_flags=a?this.m_flags|e.dynamics.contacts.B2Contact.e_enabledFlag:this.m_flags&
~e.dynamics.contacts.B2Contact.e_enabledFlag},isSensor:function(){return(this.m_flags&e.dynamics.contacts.B2Contact.e_sensorFlag)==e.dynamics.contacts.B2Contact.e_sensorFlag},setSensor:function(a){this.m_flags=a?this.m_flags|e.dynamics.contacts.B2Contact.e_sensorFlag:this.m_flags&~e.dynamics.contacts.B2Contact.e_sensorFlag},isContinuous:function(){return(this.m_flags&e.dynamics.contacts.B2Contact.e_continuousFlag)==e.dynamics.contacts.B2Contact.e_continuousFlag},isTouching:function(){return(this.m_flags&
e.dynamics.contacts.B2Contact.e_touchingFlag)==e.dynamics.contacts.B2Contact.e_touchingFlag},getWorldManifold:function(a){var c=this.m_fixtureA.getBody(),f=this.m_fixtureB.getBody(),b=this.m_fixtureA.getShape(),d=this.m_fixtureB.getShape();a.initialize(this.m_manifold,c.getTransform(),b.m_radius,f.getTransform(),d.m_radius)},getManifold:function(){return this.m_manifold},__class__:e.dynamics.contacts.B2Contact};e.dynamics.contacts.B2CircleContact=function(){e.dynamics.contacts.B2Contact.call(this)};
l["box2D.dynamics.contacts.B2CircleContact"]=e.dynamics.contacts.B2CircleContact;e.dynamics.contacts.B2CircleContact.__name__=["box2D","dynamics","contacts","B2CircleContact"];e.dynamics.contacts.B2CircleContact.create=function(){return new e.dynamics.contacts.B2CircleContact};e.dynamics.contacts.B2CircleContact.destroy=function(){};e.dynamics.contacts.B2CircleContact.__super__=e.dynamics.contacts.B2Contact;e.dynamics.contacts.B2CircleContact.prototype=t(e.dynamics.contacts.B2Contact.prototype,{evaluate:function(){var a=
this.m_fixtureA.getBody(),c=this.m_fixtureB.getBody();e.collision.B2Collision.collideCircles(this.m_manifold,n.Boot.__cast(this.m_fixtureA.getShape(),e.collision.shapes.B2CircleShape),a.m_xf,n.Boot.__cast(this.m_fixtureB.getShape(),e.collision.shapes.B2CircleShape),c.m_xf)},reset:function(a,c){e.dynamics.contacts.B2Contact.prototype.reset.call(this,a,c)},__class__:e.dynamics.contacts.B2CircleContact});e.dynamics.contacts.B2ContactConstraint=function(){this.localPlaneNormal=new e.common.math.B2Vec2;
this.localPoint=new e.common.math.B2Vec2;this.normal=new e.common.math.B2Vec2;this.normalMass=new e.common.math.B2Mat22;this.K=new e.common.math.B2Mat22;this.points=[];for(var a=0,c=e.common.B2Settings.b2_maxManifoldPoints;a<c;){var f=a++;this.points[f]=new e.dynamics.contacts.B2ContactConstraintPoint}};l["box2D.dynamics.contacts.B2ContactConstraint"]=e.dynamics.contacts.B2ContactConstraint;e.dynamics.contacts.B2ContactConstraint.__name__=["box2D","dynamics","contacts","B2ContactConstraint"];e.dynamics.contacts.B2ContactConstraint.prototype=
{manifold:null,pointCount:null,restitution:null,friction:null,radius:null,type:null,bodyB:null,bodyA:null,K:null,normalMass:null,normal:null,localPoint:null,localPlaneNormal:null,points:null,__class__:e.dynamics.contacts.B2ContactConstraint};e.dynamics.contacts.B2ContactConstraintPoint=function(){this.localPoint=new e.common.math.B2Vec2;this.rA=new e.common.math.B2Vec2;this.rB=new e.common.math.B2Vec2};l["box2D.dynamics.contacts.B2ContactConstraintPoint"]=e.dynamics.contacts.B2ContactConstraintPoint;
e.dynamics.contacts.B2ContactConstraintPoint.__name__=["box2D","dynamics","contacts","B2ContactConstraintPoint"];e.dynamics.contacts.B2ContactConstraintPoint.prototype={velocityBias:null,equalizedMass:null,tangentMass:null,normalMass:null,tangentImpulse:null,normalImpulse:null,rB:null,rA:null,localPoint:null,__class__:e.dynamics.contacts.B2ContactConstraintPoint};e.dynamics.contacts.B2ContactEdge=function(){};l["box2D.dynamics.contacts.B2ContactEdge"]=e.dynamics.contacts.B2ContactEdge;e.dynamics.contacts.B2ContactEdge.__name__=
["box2D","dynamics","contacts","B2ContactEdge"];e.dynamics.contacts.B2ContactEdge.prototype={next:null,prev:null,contact:null,other:null,__class__:e.dynamics.contacts.B2ContactEdge};e.dynamics.contacts.B2ContactFactory=function(a){this.m_allocator=a;this.initializeRegisters()};l["box2D.dynamics.contacts.B2ContactFactory"]=e.dynamics.contacts.B2ContactFactory;e.dynamics.contacts.B2ContactFactory.__name__=["box2D","dynamics","contacts","B2ContactFactory"];e.dynamics.contacts.B2ContactFactory.prototype=
{m_allocator:null,m_registers:null,destroy:function(a){0<a.m_manifold.m_pointCount&&(a.m_fixtureA.m_body.setAwake(!0),a.m_fixtureB.m_body.setAwake(!0));var c=a.m_fixtureA.getType(),f=a.m_fixtureB.getType(),c=this.m_registers[c][f];c.poolCount++;a.m_next=c.pool;c.pool=a;c=c.destroyFcn;c(a,this.m_allocator)},create:function(a,c){var f=a.getType(),b=c.getType(),f=this.m_registers[f][b];if(null!=f.pool)return b=f.pool,f.pool=b.m_next,f.poolCount--,b.reset(a,c),b;b=f.createFcn;return null!=b?(f.primary?
(b=b(this.m_allocator),b.reset(a,c)):(b=b(this.m_allocator),b.reset(c,a)),b):null},initializeRegisters:function(){this.m_registers=[];for(var a=0,c=e.collision.shapes.B2Shape.e_shapeTypeCount;a<c;){var f=a++;this.m_registers[f]=[];for(var b=0,d=e.collision.shapes.B2Shape.e_shapeTypeCount;b<d;){var g=b++;this.m_registers[f][g]=new e.dynamics.contacts.B2ContactRegister}}this.addType(e.dynamics.contacts.B2CircleContact.create,e.dynamics.contacts.B2CircleContact.destroy,e.collision.shapes.B2Shape.e_circleShape,
e.collision.shapes.B2Shape.e_circleShape);this.addType(e.dynamics.contacts.B2PolyAndCircleContact.create,e.dynamics.contacts.B2PolyAndCircleContact.destroy,e.collision.shapes.B2Shape.e_polygonShape,e.collision.shapes.B2Shape.e_circleShape);this.addType(e.dynamics.contacts.B2PolygonContact.create,e.dynamics.contacts.B2PolygonContact.destroy,e.collision.shapes.B2Shape.e_polygonShape,e.collision.shapes.B2Shape.e_polygonShape);this.addType(e.dynamics.contacts.B2EdgeAndCircleContact.create,e.dynamics.contacts.B2EdgeAndCircleContact.destroy,
e.collision.shapes.B2Shape.e_edgeShape,e.collision.shapes.B2Shape.e_circleShape);this.addType(e.dynamics.contacts.B2PolyAndEdgeContact.create,e.dynamics.contacts.B2PolyAndEdgeContact.destroy,e.collision.shapes.B2Shape.e_polygonShape,e.collision.shapes.B2Shape.e_edgeShape)},addType:function(a,c,f,b){this.m_registers[f][b].createFcn=a;this.m_registers[f][b].destroyFcn=c;this.m_registers[f][b].primary=!0;f!=b&&(this.m_registers[b][f].createFcn=a,this.m_registers[b][f].destroyFcn=c,this.m_registers[b][f].primary=
!1)},__class__:e.dynamics.contacts.B2ContactFactory};e.dynamics.contacts.B2ContactRegister=function(){};l["box2D.dynamics.contacts.B2ContactRegister"]=e.dynamics.contacts.B2ContactRegister;e.dynamics.contacts.B2ContactRegister.__name__=["box2D","dynamics","contacts","B2ContactRegister"];e.dynamics.contacts.B2ContactRegister.prototype={poolCount:null,pool:null,primary:null,destroyFcn:null,createFcn:null,__class__:e.dynamics.contacts.B2ContactRegister};e.dynamics.contacts.B2PositionSolverManifold=function(){this.m_normal=
new e.common.math.B2Vec2;this.m_separations=[];this.m_points=[];for(var a=0,c=e.common.B2Settings.b2_maxManifoldPoints;a<c;){var f=a++;this.m_points[f]=new e.common.math.B2Vec2}};l["box2D.dynamics.contacts.B2PositionSolverManifold"]=e.dynamics.contacts.B2PositionSolverManifold;e.dynamics.contacts.B2PositionSolverManifold.__name__=["box2D","dynamics","contacts","B2PositionSolverManifold"];e.dynamics.contacts.B2PositionSolverManifold.prototype={m_separations:null,m_points:null,m_normal:null,initialize:function(a){e.common.B2Settings.b2Assert(0<
a.pointCount);var c,f,b,d,g;switch(a.type){case e.collision.B2Manifold.e_circles:b=a.bodyA.m_xf.R;f=a.localPoint;c=a.bodyA.m_xf.position.x+(b.col1.x*f.x+b.col2.x*f.y);d=a.bodyA.m_xf.position.y+(b.col1.y*f.x+b.col2.y*f.y);b=a.bodyB.m_xf.R;f=a.points[0].localPoint;g=a.bodyB.m_xf.position.x+(b.col1.x*f.x+b.col2.x*f.y);b=a.bodyB.m_xf.position.y+(b.col1.y*f.x+b.col2.y*f.y);f=g-c;var h=b-d,i=f*f+h*h;i>Number.MIN_VALUE*Number.MIN_VALUE?(i=Math.sqrt(i),this.m_normal.x=f/i,this.m_normal.y=h/i):(this.m_normal.x=
1,this.m_normal.y=0);this.m_points[0].x=0.5*(c+g);this.m_points[0].y=0.5*(d+b);this.m_separations[0]=f*this.m_normal.x+h*this.m_normal.y-a.radius;break;case e.collision.B2Manifold.e_faceA:b=a.bodyA.m_xf.R;f=a.localPlaneNormal;this.m_normal.x=b.col1.x*f.x+b.col2.x*f.y;this.m_normal.y=b.col1.y*f.x+b.col2.y*f.y;b=a.bodyA.m_xf.R;f=a.localPoint;d=a.bodyA.m_xf.position.x+(b.col1.x*f.x+b.col2.x*f.y);g=a.bodyA.m_xf.position.y+(b.col1.y*f.x+b.col2.y*f.y);b=a.bodyB.m_xf.R;h=0;for(i=a.pointCount;h<i;){var j=
h++;f=a.points[j].localPoint;c=a.bodyB.m_xf.position.x+(b.col1.x*f.x+b.col2.x*f.y);f=a.bodyB.m_xf.position.y+(b.col1.y*f.x+b.col2.y*f.y);this.m_separations[j]=(c-d)*this.m_normal.x+(f-g)*this.m_normal.y-a.radius;this.m_points[j].x=c;this.m_points[j].y=f}break;case e.collision.B2Manifold.e_faceB:b=a.bodyB.m_xf.R;f=a.localPlaneNormal;this.m_normal.x=b.col1.x*f.x+b.col2.x*f.y;this.m_normal.y=b.col1.y*f.x+b.col2.y*f.y;b=a.bodyB.m_xf.R;f=a.localPoint;d=a.bodyB.m_xf.position.x+(b.col1.x*f.x+b.col2.x*f.y);
g=a.bodyB.m_xf.position.y+(b.col1.y*f.x+b.col2.y*f.y);b=a.bodyA.m_xf.R;h=0;for(i=a.pointCount;h<i;)j=h++,f=a.points[j].localPoint,c=a.bodyA.m_xf.position.x+(b.col1.x*f.x+b.col2.x*f.y),f=a.bodyA.m_xf.position.y+(b.col1.y*f.x+b.col2.y*f.y),this.m_separations[j]=(c-d)*this.m_normal.x+(f-g)*this.m_normal.y-a.radius,this.m_points[j].set(c,f);this.m_normal.x*=-1;this.m_normal.y*=-1}},__class__:e.dynamics.contacts.B2PositionSolverManifold};e.dynamics.contacts.B2ContactSolver=function(){this.m_step=new e.dynamics.B2TimeStep;
this.m_constraints=[]};l["box2D.dynamics.contacts.B2ContactSolver"]=e.dynamics.contacts.B2ContactSolver;e.dynamics.contacts.B2ContactSolver.__name__=["box2D","dynamics","contacts","B2ContactSolver"];e.dynamics.contacts.B2ContactSolver.prototype={m_constraintCount:null,m_constraints:null,m_allocator:null,m_step:null,solvePositionConstraints:function(a){for(var c=0,f=0,b=this.m_constraintCount;f<b;){var d=f++,d=this.m_constraints[d],g=d.bodyA,h=d.bodyB,i=g.m_mass*g.m_invMass,j=g.m_mass*g.m_invI,p=h.m_mass*
h.m_invMass,u=h.m_mass*h.m_invI;e.dynamics.contacts.B2ContactSolver.s_psm.initialize(d);for(var k=e.dynamics.contacts.B2ContactSolver.s_psm.m_normal,l=0,n=d.pointCount;l<n;){var m=l++,q=d.points[m],r=e.dynamics.contacts.B2ContactSolver.s_psm.m_points[m],s=e.dynamics.contacts.B2ContactSolver.s_psm.m_separations[m],m=r.x-g.m_sweep.c.x,t=r.y-g.m_sweep.c.y,v=r.x-h.m_sweep.c.x,r=r.y-h.m_sweep.c.y,c=c<s?c:s,s=e.common.math.B2Math.clamp(a*(s+e.common.B2Settings.b2_linearSlop),-e.common.B2Settings.b2_maxLinearCorrection,
0),s=-q.equalizedMass*s,q=s*k.x,s=s*k.y;g.m_sweep.c.x-=i*q;g.m_sweep.c.y-=i*s;g.m_sweep.a-=j*(m*s-t*q);g.synchronizeTransform();h.m_sweep.c.x+=p*q;h.m_sweep.c.y+=p*s;h.m_sweep.a+=u*(v*s-r*q);h.synchronizeTransform()}}return c>-1.5*e.common.B2Settings.b2_linearSlop},finalizeVelocityConstraints:function(){for(var a=0,c=this.m_constraintCount;a<c;)for(var f=a++,f=this.m_constraints[f],b=f.manifold,d=0,e=f.pointCount;d<e;){var h=d++,i=b.m_points[h],h=f.points[h];i.m_normalImpulse=h.normalImpulse;i.m_tangentImpulse=
h.tangentImpulse}},solveVelocityConstraints:function(){for(var a,c,f,b,d,g,h,i,j,p,u=0,k=this.m_constraintCount;u<k;){var l=u++;b=this.m_constraints[l];var l=b.bodyA,n=b.bodyB,m=l.m_angularVelocity,q=n.m_angularVelocity,r=l.m_linearVelocity,s=n.m_linearVelocity,t=l.m_invMass,v=l.m_invI,x=n.m_invMass,y=n.m_invI;i=b.normal.x;var w=j=b.normal.y;p=-i;h=b.friction;g=0;for(var A=b.pointCount;g<A;)a=g++,a=b.points[a],c=s.x-q*a.rB.y-r.x+m*a.rA.y,f=s.y+q*a.rB.x-r.y-m*a.rA.x,c=c*w+f*p,c=a.tangentMass*-c,f=
h*a.normalImpulse,f=e.common.math.B2Math.clamp(a.tangentImpulse+c,-f,f),c=f-a.tangentImpulse,d=c*w,c*=p,r.x-=t*d,r.y-=t*c,m-=v*(a.rA.x*c-a.rA.y*d),s.x+=x*d,s.y+=x*c,q+=y*(a.rB.x*c-a.rB.y*d),a.tangentImpulse=f;if(1==b.pointCount)a=b.points[0],c=s.x+-q*a.rB.y-r.x- -m*a.rA.y,f=s.y+q*a.rB.x-r.y-m*a.rA.x,b=c*i+f*j,c=-a.normalMass*(b-a.velocityBias),f=a.normalImpulse+c,f=0<f?f:0,c=f-a.normalImpulse,d=c*i,c*=j,r.x-=t*d,r.y-=t*c,m-=v*(a.rA.x*c-a.rA.y*d),s.x+=x*d,s.y+=x*c,q+=y*(a.rB.x*c-a.rB.y*d),a.normalImpulse=
f;else{a=b.points[0];w=b.points[1];g=a.normalImpulse;h=w.normalImpulse;d=(s.x-q*a.rB.y-r.x+m*a.rA.y)*i+(s.y+q*a.rB.x-r.y-m*a.rA.x)*j;var B=(s.x-q*w.rB.y-r.x+m*w.rA.y)*i+(s.y+q*w.rB.x-r.y-m*w.rA.x)*j;c=d-a.velocityBias;f=B-w.velocityBias;p=b.K;c-=p.col1.x*g+p.col2.x*h;f-=p.col1.y*g+p.col2.y*h;for(A=0;1>A;){p=b.normalMass;A=-(p.col1.x*c+p.col2.x*f);p=-(p.col1.y*c+p.col2.y*f);if(0<=A&&0<=p){g=A-g;h=p-h;b=g*i;g*=j;i*=h;j*=h;r.x-=t*(b+i);r.y-=t*(g+j);m-=v*(a.rA.x*g-a.rA.y*b+w.rA.x*j-w.rA.y*i);s.x+=x*(b+
i);s.y+=x*(g+j);q+=y*(a.rB.x*g-a.rB.y*b+w.rB.x*j-w.rB.y*i);a.normalImpulse=A;w.normalImpulse=p;break}A=-a.normalMass*c;p=0;B=b.K.col1.y*A+f;if(0<=A&&0<=B){g=A-g;h=p-h;b=g*i;g*=j;i*=h;j*=h;r.x-=t*(b+i);r.y-=t*(g+j);m-=v*(a.rA.x*g-a.rA.y*b+w.rA.x*j-w.rA.y*i);s.x+=x*(b+i);s.y+=x*(g+j);q+=y*(a.rB.x*g-a.rB.y*b+w.rB.x*j-w.rB.y*i);a.normalImpulse=A;w.normalImpulse=p;break}A=0;p=-w.normalMass*f;d=b.K.col2.x*p+c;if(0<=p&&0<=d){g=A-g;h=p-h;b=g*i;g*=j;i*=h;j*=h;r.x-=t*(b+i);r.y-=t*(g+j);m-=v*(a.rA.x*g-a.rA.y*
b+w.rA.x*j-w.rA.y*i);s.x+=x*(b+i);s.y+=x*(g+j);q+=y*(a.rB.x*g-a.rB.y*b+w.rB.x*j-w.rB.y*i);a.normalImpulse=A;w.normalImpulse=p;break}p=A=0;d=c;B=f;if(0<=d&&0<=B){g=A-g;h=p-h;b=g*i;g*=j;i*=h;j*=h;r.x-=t*(b+i);r.y-=t*(g+j);m-=v*(a.rA.x*g-a.rA.y*b+w.rA.x*j-w.rA.y*i);s.x+=x*(b+i);s.y+=x*(g+j);q+=y*(a.rB.x*g-a.rB.y*b+w.rB.x*j-w.rB.y*i);a.normalImpulse=A;w.normalImpulse=p;break}break}}l.m_angularVelocity=m;n.m_angularVelocity=q}},initVelocityConstraints:function(a){for(var c=0,f=this.m_constraintCount;c<
f;){var b=c++,b=this.m_constraints[b],d=b.bodyA,e=b.bodyB,h=d.m_invMass,i=d.m_invI,j=e.m_invMass,p=e.m_invI,u=b.normal.x,k=b.normal.y,l=k,n=-u,m;if(a.warmStarting){m=b.pointCount;for(var q=0;q<m;){var r=q++,r=b.points[r];r.normalImpulse*=a.dtRatio;r.tangentImpulse*=a.dtRatio;var s=r.normalImpulse*u+r.tangentImpulse*l,t=r.normalImpulse*k+r.tangentImpulse*n;d.m_angularVelocity-=i*(r.rA.x*t-r.rA.y*s);d.m_linearVelocity.x-=h*s;d.m_linearVelocity.y-=h*t;e.m_angularVelocity+=p*(r.rB.x*t-r.rB.y*s);e.m_linearVelocity.x+=
j*s;e.m_linearVelocity.y+=j*t}}else{m=b.pointCount;for(q=0;q<m;)r=q++,d=b.points[r],d.normalImpulse=0,d.tangentImpulse=0}}},initialize:function(a,c,f,b){var d;this.m_step.set(a);this.m_allocator=b;for(this.m_constraintCount=f;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new e.dynamics.contacts.B2ContactConstraint;for(a=0;a<f;){b=a++;d=c[b];var g=d.m_fixtureA,h=d.m_fixtureB,i=g.m_shape.m_radius,j=h.m_shape.m_radius,p=g.m_body,u=h.m_body;d=d.getManifold();
var k=e.common.B2Settings.b2MixFriction(g.getFriction(),h.getFriction()),l=e.common.B2Settings.b2MixRestitution(g.getRestitution(),h.getRestitution()),n=p.m_linearVelocity.x,m=p.m_linearVelocity.y,q=u.m_linearVelocity.x,r=u.m_linearVelocity.y,s=p.m_angularVelocity,t=u.m_angularVelocity;e.common.B2Settings.b2Assert(0<d.m_pointCount);e.dynamics.contacts.B2ContactSolver.s_worldManifold.initialize(d,p.m_xf,i,u.m_xf,j);g=e.dynamics.contacts.B2ContactSolver.s_worldManifold.m_normal.x;h=e.dynamics.contacts.B2ContactSolver.s_worldManifold.m_normal.y;
b=this.m_constraints[b];b.bodyA=p;b.bodyB=u;b.manifold=d;b.normal.x=g;b.normal.y=h;b.pointCount=d.m_pointCount;b.friction=k;b.restitution=l;b.localPlaneNormal.x=d.m_localPlaneNormal.x;b.localPlaneNormal.y=d.m_localPlaneNormal.y;b.localPoint.x=d.m_localPoint.x;b.localPoint.y=d.m_localPoint.y;b.radius=i+j;b.type=d.m_type;i=0;for(j=b.pointCount;i<j;){var v=i++,l=d.m_points[v],k=b.points[v];k.normalImpulse=l.m_normalImpulse;k.tangentImpulse=l.m_tangentImpulse;k.localPoint.setV(l.m_localPoint);var l=k.rA.x=
e.dynamics.contacts.B2ContactSolver.s_worldManifold.m_points[v].x-p.m_sweep.c.x,w=k.rA.y=e.dynamics.contacts.B2ContactSolver.s_worldManifold.m_points[v].y-p.m_sweep.c.y,x=k.rB.x=e.dynamics.contacts.B2ContactSolver.s_worldManifold.m_points[v].x-u.m_sweep.c.x,v=k.rB.y=e.dynamics.contacts.B2ContactSolver.s_worldManifold.m_points[v].y-u.m_sweep.c.y,y=l*h-w*g,A=x*h-v*g,y=y*y,A=A*A;k.normalMass=1/(p.m_invMass+u.m_invMass+p.m_invI*y+u.m_invI*A);var B=p.m_mass*p.m_invMass+u.m_mass*u.m_invMass,B=B+(p.m_mass*
p.m_invI*y+u.m_mass*u.m_invI*A);k.equalizedMass=1/B;A=h;B=-g;y=l*B-w*A;A=x*B-v*A;y*=y;A*=A;k.tangentMass=1/(p.m_invMass+u.m_invMass+p.m_invI*y+u.m_invI*A);k.velocityBias=0;l=b.normal.x*(q+-t*v-n- -s*w)+b.normal.y*(r+t*x-m-s*l);l<-e.common.B2Settings.b2_velocityThreshold&&(k.velocityBias+=-b.restitution*l)}2==b.pointCount&&(r=b.points[0],q=b.points[1],d=p.m_invMass,p=p.m_invI,n=u.m_invMass,u=u.m_invI,m=r.rA.x*h-r.rA.y*g,r=r.rB.x*h-r.rB.y*g,s=q.rA.x*h-q.rA.y*g,q=q.rB.x*h-q.rB.y*g,g=d+n+p*m*m+u*r*r,
h=d+n+p*s*s+u*q*q,u=d+n+p*m*s+u*r*q,g*g<100*(g*h-u*u)?(b.K.col1.set(g,u),b.K.col2.set(u,h),b.K.getInverse(b.normalMass)):b.pointCount=1)}},__class__:e.dynamics.contacts.B2ContactSolver};e.dynamics.contacts.B2EdgeAndCircleContact=function(){e.dynamics.contacts.B2Contact.call(this)};l["box2D.dynamics.contacts.B2EdgeAndCircleContact"]=e.dynamics.contacts.B2EdgeAndCircleContact;e.dynamics.contacts.B2EdgeAndCircleContact.__name__=["box2D","dynamics","contacts","B2EdgeAndCircleContact"];e.dynamics.contacts.B2EdgeAndCircleContact.create=
function(){return new e.dynamics.contacts.B2EdgeAndCircleContact};e.dynamics.contacts.B2EdgeAndCircleContact.destroy=function(){};e.dynamics.contacts.B2EdgeAndCircleContact.__super__=e.dynamics.contacts.B2Contact;e.dynamics.contacts.B2EdgeAndCircleContact.prototype=t(e.dynamics.contacts.B2Contact.prototype,{b2CollideEdgeAndCircle:function(){},evaluate:function(){var a=this.m_fixtureA.getBody(),c=this.m_fixtureB.getBody();this.b2CollideEdgeAndCircle(this.m_manifold,n.Boot.__cast(this.m_fixtureA.getShape(),
e.collision.shapes.B2EdgeShape),a.m_xf,n.Boot.__cast(this.m_fixtureB.getShape(),e.collision.shapes.B2CircleShape),c.m_xf)},reset:function(a,c){e.dynamics.contacts.B2Contact.prototype.reset.call(this,a,c)},__class__:e.dynamics.contacts.B2EdgeAndCircleContact});e.dynamics.contacts.B2PolyAndCircleContact=function(){e.dynamics.contacts.B2Contact.call(this)};l["box2D.dynamics.contacts.B2PolyAndCircleContact"]=e.dynamics.contacts.B2PolyAndCircleContact;e.dynamics.contacts.B2PolyAndCircleContact.__name__=
["box2D","dynamics","contacts","B2PolyAndCircleContact"];e.dynamics.contacts.B2PolyAndCircleContact.create=function(){return new e.dynamics.contacts.B2PolyAndCircleContact};e.dynamics.contacts.B2PolyAndCircleContact.destroy=function(){};e.dynamics.contacts.B2PolyAndCircleContact.__super__=e.dynamics.contacts.B2Contact;e.dynamics.contacts.B2PolyAndCircleContact.prototype=t(e.dynamics.contacts.B2Contact.prototype,{evaluate:function(){var a=this.m_fixtureA.m_body,c=this.m_fixtureB.m_body;e.collision.B2Collision.collidePolygonAndCircle(this.m_manifold,
n.Boot.__cast(this.m_fixtureA.getShape(),e.collision.shapes.B2PolygonShape),a.m_xf,n.Boot.__cast(this.m_fixtureB.getShape(),e.collision.shapes.B2CircleShape),c.m_xf)},reset:function(a,c){e.dynamics.contacts.B2Contact.prototype.reset.call(this,a,c);e.common.B2Settings.b2Assert(a.getType()==e.collision.shapes.B2Shape.e_polygonShape);e.common.B2Settings.b2Assert(c.getType()==e.collision.shapes.B2Shape.e_circleShape)},__class__:e.dynamics.contacts.B2PolyAndCircleContact});e.dynamics.contacts.B2PolyAndEdgeContact=
function(){e.dynamics.contacts.B2Contact.call(this)};l["box2D.dynamics.contacts.B2PolyAndEdgeContact"]=e.dynamics.contacts.B2PolyAndEdgeContact;e.dynamics.contacts.B2PolyAndEdgeContact.__name__=["box2D","dynamics","contacts","B2PolyAndEdgeContact"];e.dynamics.contacts.B2PolyAndEdgeContact.create=function(){return new e.dynamics.contacts.B2PolyAndEdgeContact};e.dynamics.contacts.B2PolyAndEdgeContact.destroy=function(){};e.dynamics.contacts.B2PolyAndEdgeContact.__super__=e.dynamics.contacts.B2Contact;
e.dynamics.contacts.B2PolyAndEdgeContact.prototype=t(e.dynamics.contacts.B2Contact.prototype,{b2CollidePolyAndEdge:function(){},evaluate:function(){var a=this.m_fixtureA.getBody(),c=this.m_fixtureB.getBody();this.b2CollidePolyAndEdge(this.m_manifold,n.Boot.__cast(this.m_fixtureA.getShape(),e.collision.shapes.B2PolygonShape),a.m_xf,n.Boot.__cast(this.m_fixtureB.getShape(),e.collision.shapes.B2EdgeShape),c.m_xf)},reset:function(a,c){e.dynamics.contacts.B2Contact.prototype.reset.call(this,a,c);e.common.B2Settings.b2Assert(a.getType()==
e.collision.shapes.B2Shape.e_polygonShape);e.common.B2Settings.b2Assert(c.getType()==e.collision.shapes.B2Shape.e_edgeShape)},__class__:e.dynamics.contacts.B2PolyAndEdgeContact});e.dynamics.contacts.B2PolygonContact=function(){e.dynamics.contacts.B2Contact.call(this)};l["box2D.dynamics.contacts.B2PolygonContact"]=e.dynamics.contacts.B2PolygonContact;e.dynamics.contacts.B2PolygonContact.__name__=["box2D","dynamics","contacts","B2PolygonContact"];e.dynamics.contacts.B2PolygonContact.create=function(){return new e.dynamics.contacts.B2PolygonContact};
e.dynamics.contacts.B2PolygonContact.destroy=function(){};e.dynamics.contacts.B2PolygonContact.__super__=e.dynamics.contacts.B2Contact;e.dynamics.contacts.B2PolygonContact.prototype=t(e.dynamics.contacts.B2Contact.prototype,{evaluate:function(){var a=this.m_fixtureA.getBody(),c=this.m_fixtureB.getBody();e.collision.B2Collision.collidePolygons(this.m_manifold,n.Boot.__cast(this.m_fixtureA.getShape(),e.collision.shapes.B2PolygonShape),a.m_xf,n.Boot.__cast(this.m_fixtureB.getShape(),e.collision.shapes.B2PolygonShape),
c.m_xf)},reset:function(a,c){e.dynamics.contacts.B2Contact.prototype.reset.call(this,a,c)},__class__:e.dynamics.contacts.B2PolygonContact});e.dynamics.controllers={};e.dynamics.controllers.B2Controller=function(){};l["box2D.dynamics.controllers.B2Controller"]=e.dynamics.controllers.B2Controller;e.dynamics.controllers.B2Controller.__name__=["box2D","dynamics","controllers","B2Controller"];e.dynamics.controllers.B2Controller.prototype={m_world:null,m_bodyCount:null,m_bodyList:null,m_prev:null,m_next:null,
getBodyList:function(){return this.m_bodyList},getWorld:function(){return this.m_world},getNext:function(){return this.m_next},clear:function(){for(;null!=this.m_bodyList;)this.removeBody(this.m_bodyList.body)},removeBody:function(a){for(var c=a.m_controllerList;null!=c&&c.controller!=this;)c=c.nextController;null!=c.prevBody&&(c.prevBody.nextBody=c.nextBody);null!=c.nextBody&&(c.nextBody.prevBody=c.prevBody);null!=c.nextController&&(c.nextController.prevController=c.prevController);null!=c.prevController&&
(c.prevController.nextController=c.nextController);this.m_bodyList==c&&(this.m_bodyList=c.nextBody);a.m_controllerList==c&&(a.m_controllerList=c.nextController);a.m_controllerCount--;this.m_bodyCount--},addBody:function(a){var c=new e.dynamics.controllers.B2ControllerEdge;c.controller=this;c.body=a;c.nextBody=this.m_bodyList;c.prevBody=null;this.m_bodyList=c;null!=c.nextBody&&(c.nextBody.prevBody=c);this.m_bodyCount++;c.nextController=a.m_controllerList;c.prevController=null;a.m_controllerList=c;
null!=c.nextController&&(c.nextController.prevController=c);a.m_controllerCount++},draw:function(){},step:function(){},__class__:e.dynamics.controllers.B2Controller};e.dynamics.controllers.B2ControllerEdge=function(){};l["box2D.dynamics.controllers.B2ControllerEdge"]=e.dynamics.controllers.B2ControllerEdge;e.dynamics.controllers.B2ControllerEdge.__name__=["box2D","dynamics","controllers","B2ControllerEdge"];e.dynamics.controllers.B2ControllerEdge.prototype={nextController:null,prevController:null,
nextBody:null,prevBody:null,body:null,controller:null,__class__:e.dynamics.controllers.B2ControllerEdge};e.dynamics.joints={};e.dynamics.joints.B2Joint=function(a){this.m_edgeA=new e.dynamics.joints.B2JointEdge;this.m_edgeB=new e.dynamics.joints.B2JointEdge;this.m_localCenterA=new e.common.math.B2Vec2;this.m_localCenterB=new e.common.math.B2Vec2;e.common.B2Settings.b2Assert(a.bodyA!=a.bodyB);this.m_type=a.type;this.m_next=this.m_prev=null;this.m_bodyA=a.bodyA;this.m_bodyB=a.bodyB;this.m_collideConnected=
a.collideConnected;this.m_islandFlag=!1;this.m_userData=a.userData};l["box2D.dynamics.joints.B2Joint"]=e.dynamics.joints.B2Joint;e.dynamics.joints.B2Joint.__name__=["box2D","dynamics","joints","B2Joint"];e.dynamics.joints.B2Joint.create=function(a){var c=null;switch(a.type){case e.dynamics.joints.B2Joint.e_distanceJoint:c=new e.dynamics.joints.B2DistanceJoint(n.Boot.__cast(a,e.dynamics.joints.B2DistanceJointDef));break;case e.dynamics.joints.B2Joint.e_mouseJoint:c=new e.dynamics.joints.B2MouseJoint(n.Boot.__cast(a,
e.dynamics.joints.B2MouseJointDef));break;case e.dynamics.joints.B2Joint.e_prismaticJoint:c=new e.dynamics.joints.B2PrismaticJoint(n.Boot.__cast(a,e.dynamics.joints.B2PrismaticJointDef));break;case e.dynamics.joints.B2Joint.e_revoluteJoint:c=new e.dynamics.joints.B2RevoluteJoint(n.Boot.__cast(a,e.dynamics.joints.B2RevoluteJointDef));break;case e.dynamics.joints.B2Joint.e_pulleyJoint:c=new e.dynamics.joints.B2PulleyJoint(n.Boot.__cast(a,e.dynamics.joints.B2PulleyJointDef));break;case e.dynamics.joints.B2Joint.e_gearJoint:c=
new e.dynamics.joints.B2GearJoint(n.Boot.__cast(a,e.dynamics.joints.B2GearJointDef));break;case e.dynamics.joints.B2Joint.e_lineJoint:c=new e.dynamics.joints.B2LineJoint(n.Boot.__cast(a,e.dynamics.joints.B2LineJointDef));break;case e.dynamics.joints.B2Joint.e_weldJoint:c=new e.dynamics.joints.B2WeldJoint(n.Boot.__cast(a,e.dynamics.joints.B2WeldJointDef));break;case e.dynamics.joints.B2Joint.e_frictionJoint:c=new e.dynamics.joints.B2FrictionJoint(n.Boot.__cast(a,e.dynamics.joints.B2FrictionJointDef))}return c};
e.dynamics.joints.B2Joint.destroy=function(){};e.dynamics.joints.B2Joint.prototype={ID:null,m_invIB:null,m_invIA:null,m_invMassB:null,m_invMassA:null,m_localCenterB:null,m_localCenterA:null,m_userData:null,m_collideConnected:null,m_islandFlag:null,m_bodyB:null,m_bodyA:null,m_edgeB:null,m_edgeA:null,m_next:null,m_prev:null,m_type:null,solvePositionConstraints:function(){return!1},finalizeVelocityConstraints:function(){},solveVelocityConstraints:function(){},initVelocityConstraints:function(){},isActive:function(){return this.m_bodyA.isActive()&&
this.m_bodyB.isActive()},setUserData:function(a){this.m_userData=a},getUserData:function(){return this.m_userData},getNext:function(){return this.m_next},getBodyB:function(){return this.m_bodyB},getBodyA:function(){return this.m_bodyA},getReactionTorque:function(){return 0},getReactionForce:function(){return null},getAnchorB:function(){return null},getAnchorA:function(){return null},getType:function(){return this.m_type},__class__:e.dynamics.joints.B2Joint};e.dynamics.joints.B2DistanceJoint=function(a){e.dynamics.joints.B2Joint.call(this,
a);this.m_localAnchor1=new e.common.math.B2Vec2;this.m_localAnchor2=new e.common.math.B2Vec2;this.m_u=new e.common.math.B2Vec2;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_length=a.length;this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_bias=this.m_gamma=this.m_impulse=0};l["box2D.dynamics.joints.B2DistanceJoint"]=e.dynamics.joints.B2DistanceJoint;e.dynamics.joints.B2DistanceJoint.__name__=["box2D","dynamics","joints","B2DistanceJoint"];
e.dynamics.joints.B2DistanceJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2DistanceJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,{m_length:null,m_mass:null,m_impulse:null,m_bias:null,m_gamma:null,m_dampingRatio:null,m_frequencyHz:null,m_u:null,m_localAnchor2:null,m_localAnchor1:null,solvePositionConstraints:function(){var a;if(0<this.m_frequencyHz)return!0;var c=this.m_bodyA,f=this.m_bodyB;a=c.m_xf.R;var b=this.m_localAnchor1.x-c.m_sweep.localCenter.x,d=this.m_localAnchor1.y-
c.m_sweep.localCenter.y,g=a.col1.x*b+a.col2.x*d,d=a.col1.y*b+a.col2.y*d,b=g;a=f.m_xf.R;var h=this.m_localAnchor2.x-f.m_sweep.localCenter.x,i=this.m_localAnchor2.y-f.m_sweep.localCenter.y,g=a.col1.x*h+a.col2.x*i,i=a.col1.y*h+a.col2.y*i,h=g,g=f.m_sweep.c.x+h-c.m_sweep.c.x-b,j=f.m_sweep.c.y+i-c.m_sweep.c.y-d;a=Math.sqrt(g*g+j*j);g/=a;j/=a;a-=this.m_length;a=e.common.math.B2Math.clamp(a,-e.common.B2Settings.b2_maxLinearCorrection,e.common.B2Settings.b2_maxLinearCorrection);var p=-this.m_mass*a;this.m_u.set(g,
j);g=p*this.m_u.x;j=p*this.m_u.y;c.m_sweep.c.x-=c.m_invMass*g;c.m_sweep.c.y-=c.m_invMass*j;c.m_sweep.a-=c.m_invI*(b*j-d*g);f.m_sweep.c.x+=f.m_invMass*g;f.m_sweep.c.y+=f.m_invMass*j;f.m_sweep.a+=f.m_invI*(h*j-i*g);c.synchronizeTransform();f.synchronizeTransform();return e.common.math.B2Math.abs(a)<e.common.B2Settings.b2_linearSlop},solveVelocityConstraints:function(){var a,c=this.m_bodyA,f=this.m_bodyB;a=c.m_xf.R;var b=this.m_localAnchor1.x-c.m_sweep.localCenter.x,d=this.m_localAnchor1.y-c.m_sweep.localCenter.y,
e=a.col1.x*b+a.col2.x*d,d=a.col1.y*b+a.col2.y*d,b=e;a=f.m_xf.R;var h=this.m_localAnchor2.x-f.m_sweep.localCenter.x,i=this.m_localAnchor2.y-f.m_sweep.localCenter.y,e=a.col1.x*h+a.col2.x*i,i=a.col1.y*h+a.col2.y*i,h=e,e=-this.m_mass*(this.m_u.x*(f.m_linearVelocity.x+-f.m_angularVelocity*i-(c.m_linearVelocity.x+-c.m_angularVelocity*d))+this.m_u.y*(f.m_linearVelocity.y+f.m_angularVelocity*h-(c.m_linearVelocity.y+c.m_angularVelocity*b))+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=e;a=e*this.m_u.x;
e*=this.m_u.y;c.m_linearVelocity.x-=c.m_invMass*a;c.m_linearVelocity.y-=c.m_invMass*e;c.m_angularVelocity-=c.m_invI*(b*e-d*a);f.m_linearVelocity.x+=f.m_invMass*a;f.m_linearVelocity.y+=f.m_invMass*e;f.m_angularVelocity+=f.m_invI*(h*e-i*a)},initVelocityConstraints:function(a){var c,f,b=this.m_bodyA,d=this.m_bodyB;c=b.m_xf.R;var g=this.m_localAnchor1.x-b.m_sweep.localCenter.x,h=this.m_localAnchor1.y-b.m_sweep.localCenter.y;f=c.col1.x*g+c.col2.x*h;h=c.col1.y*g+c.col2.y*h;g=f;c=d.m_xf.R;var i=this.m_localAnchor2.x-
d.m_sweep.localCenter.x,j=this.m_localAnchor2.y-d.m_sweep.localCenter.y;f=c.col1.x*i+c.col2.x*j;j=c.col1.y*i+c.col2.y*j;i=f;this.m_u.x=d.m_sweep.c.x+i-b.m_sweep.c.x-g;this.m_u.y=d.m_sweep.c.y+j-b.m_sweep.c.y-h;f=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);f>e.common.B2Settings.b2_linearSlop?this.m_u.multiply(1/f):this.m_u.setZero();c=g*this.m_u.y-h*this.m_u.x;var p=i*this.m_u.y-j*this.m_u.x;c=b.m_invMass+b.m_invI*c*c+d.m_invMass+d.m_invI*p*p;this.m_mass=0!=c?1/c:0;if(0<this.m_frequencyHz){f-=
this.m_length;var p=2*Math.PI*this.m_frequencyHz,u=this.m_mass*p*p;this.m_gamma=a.dt*(2*this.m_mass*this.m_dampingRatio*p+a.dt*u);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_bias=f*a.dt*u*this.m_gamma;this.m_mass=c+this.m_gamma;this.m_mass=0!=this.m_mass?1/this.m_mass:0}a.warmStarting?(this.m_impulse*=a.dtRatio,a=this.m_impulse*this.m_u.x,c=this.m_impulse*this.m_u.y,b.m_linearVelocity.x-=b.m_invMass*a,b.m_linearVelocity.y-=b.m_invMass*c,b.m_angularVelocity-=b.m_invI*(g*c-h*a),d.m_linearVelocity.x+=
d.m_invMass*a,d.m_linearVelocity.y+=d.m_invMass*c,d.m_angularVelocity+=d.m_invI*(i*c-j*a)):this.m_impulse=0},setDampingRatio:function(a){this.m_dampingRatio=a},getDampingRatio:function(){return this.m_dampingRatio},setFrequency:function(a){this.m_frequencyHz=a},getFrequency:function(){return this.m_frequencyHz},setLength:function(a){this.m_length=a},getLength:function(){return this.m_length},getReactionTorque:function(){return 0},getReactionForce:function(a){return new e.common.math.B2Vec2(a*this.m_impulse*
this.m_u.x,a*this.m_impulse*this.m_u.y)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},__class__:e.dynamics.joints.B2DistanceJoint});e.dynamics.joints.B2JointDef=function(){this.type=e.dynamics.joints.B2Joint.e_unknownJoint;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1};l["box2D.dynamics.joints.B2JointDef"]=e.dynamics.joints.B2JointDef;e.dynamics.joints.B2JointDef.__name__=
["box2D","dynamics","joints","B2JointDef"];e.dynamics.joints.B2JointDef.prototype={actor2:null,actor1:null,ID:null,collideConnected:null,bodyB:null,bodyA:null,userData:null,type:null,__class__:e.dynamics.joints.B2JointDef};e.dynamics.joints.B2DistanceJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.localAnchorA=new e.common.math.B2Vec2;this.localAnchorB=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_distanceJoint;this.length=1;this.dampingRatio=this.frequencyHz=0};
l["box2D.dynamics.joints.B2DistanceJointDef"]=e.dynamics.joints.B2DistanceJointDef;e.dynamics.joints.B2DistanceJointDef.__name__=["box2D","dynamics","joints","B2DistanceJointDef"];e.dynamics.joints.B2DistanceJointDef.__super__=e.dynamics.joints.B2JointDef;e.dynamics.joints.B2DistanceJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{dampingRatio:null,frequencyHz:null,length:null,localAnchorB:null,localAnchorA:null,initialize:function(a,c,f,b){this.bodyA=a;this.bodyB=c;this.localAnchorA.setV(this.bodyA.getLocalPoint(f));
this.localAnchorB.setV(this.bodyB.getLocalPoint(b));a=b.x-f.x;f=b.y-f.y;this.length=Math.sqrt(a*a+f*f);this.dampingRatio=this.frequencyHz=0},__class__:e.dynamics.joints.B2DistanceJointDef});e.dynamics.joints.B2FrictionJoint=function(a){e.dynamics.joints.B2Joint.call(this,a);this.m_localAnchorA=new e.common.math.B2Vec2;this.m_localAnchorB=new e.common.math.B2Vec2;this.m_linearMass=new e.common.math.B2Mat22;this.m_linearImpulse=new e.common.math.B2Vec2;this.m_localAnchorA.setV(a.localAnchorA);this.m_localAnchorB.setV(a.localAnchorB);
this.m_linearMass.setZero();this.m_angularMass=0;this.m_linearImpulse.setZero();this.m_angularImpulse=0;this.m_maxForce=a.maxForce;this.m_maxTorque=a.maxTorque};l["box2D.dynamics.joints.B2FrictionJoint"]=e.dynamics.joints.B2FrictionJoint;e.dynamics.joints.B2FrictionJoint.__name__=["box2D","dynamics","joints","B2FrictionJoint"];e.dynamics.joints.B2FrictionJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2FrictionJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,{m_maxTorque:null,m_maxForce:null,
m_angularImpulse:null,m_linearImpulse:null,m_angularMass:null,m_linearMass:null,m_localAnchorB:null,m_localAnchorA:null,solvePositionConstraints:function(){return!0},solveVelocityConstraints:function(a){var c,f,b=this.m_bodyA,d=this.m_bodyB,g=b.m_linearVelocity,h=b.m_angularVelocity,i=d.m_linearVelocity,j=d.m_angularVelocity,p=b.m_invMass,u=d.m_invMass,k=b.m_invI,l=d.m_invI;c=b.m_xf.R;var n=this.m_localAnchorA.x-b.m_sweep.localCenter.x,m=this.m_localAnchorA.y-b.m_sweep.localCenter.y;f=c.col1.x*n+
c.col2.x*m;m=c.col1.y*n+c.col2.y*m;n=f;c=d.m_xf.R;var q=this.m_localAnchorB.x-d.m_sweep.localCenter.x,r=this.m_localAnchorB.y-d.m_sweep.localCenter.y;f=c.col1.x*q+c.col2.x*r;r=c.col1.y*q+c.col2.y*r;q=f;f=-this.m_angularMass*(j-h);var s=this.m_angularImpulse;c=a.dt*this.m_maxTorque;this.m_angularImpulse=e.common.math.B2Math.clamp(this.m_angularImpulse+f,-c,c);f=this.m_angularImpulse-s;h-=k*f;j+=l*f;c=e.common.math.B2Math.mulMV(this.m_linearMass,new e.common.math.B2Vec2(-(i.x-j*r-g.x+h*m),-(i.y+j*q-
g.y-h*n)));f=this.m_linearImpulse.copy();this.m_linearImpulse.add(c);c=a.dt*this.m_maxForce;this.m_linearImpulse.lengthSquared()>c*c&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.multiply(c));c=e.common.math.B2Math.subtractVV(this.m_linearImpulse,f);g.x-=p*c.x;g.y-=p*c.y;h-=k*(n*c.y-m*c.x);i.x+=u*c.x;i.y+=u*c.y;j+=l*(q*c.y-r*c.x);b.m_angularVelocity=h;d.m_angularVelocity=j},initVelocityConstraints:function(a){var c,f,b=this.m_bodyA,d=this.m_bodyB;c=b.m_xf.R;var g=this.m_localAnchorA.x-b.m_sweep.localCenter.x,
h=this.m_localAnchorA.y-b.m_sweep.localCenter.y;f=c.col1.x*g+c.col2.x*h;h=c.col1.y*g+c.col2.y*h;g=f;c=d.m_xf.R;var i=this.m_localAnchorB.x-d.m_sweep.localCenter.x,j=this.m_localAnchorB.y-d.m_sweep.localCenter.y;f=c.col1.x*i+c.col2.x*j;j=c.col1.y*i+c.col2.y*j;i=f;c=b.m_invMass;f=d.m_invMass;var p=b.m_invI,u=d.m_invI,k=new e.common.math.B2Mat22;k.col1.x=c+f;k.col2.x=0;k.col1.y=0;k.col2.y=c+f;k.col1.x+=p*h*h;k.col2.x+=-p*g*h;k.col1.y+=-p*g*h;k.col2.y+=p*g*g;k.col1.x+=u*j*j;k.col2.x+=-u*i*j;k.col1.y+=
-u*i*j;k.col2.y+=u*i*i;k.getInverse(this.m_linearMass);this.m_angularMass=p+u;0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);a.warmStarting?(this.m_linearImpulse.x*=a.dtRatio,this.m_linearImpulse.y*=a.dtRatio,this.m_angularImpulse*=a.dtRatio,a=this.m_linearImpulse,b.m_linearVelocity.x-=c*a.x,b.m_linearVelocity.y-=c*a.y,b.m_angularVelocity-=p*(g*a.y-h*a.x+this.m_angularImpulse),d.m_linearVelocity.x+=f*a.x,d.m_linearVelocity.y+=f*a.y,d.m_angularVelocity+=u*(i*a.y-j*a.x+this.m_angularImpulse)):
(this.m_linearImpulse.setZero(),this.m_angularImpulse=0)},getMaxTorque:function(){return this.m_maxTorque},setMaxTorque:function(a){this.m_maxTorque=a},getMaxForce:function(){return this.m_maxForce},setMaxForce:function(a){this.m_maxForce=a},getReactionTorque:function(a){return a*this.m_angularImpulse},getReactionForce:function(a){return new e.common.math.B2Vec2(a*this.m_linearImpulse.x,a*this.m_linearImpulse.y)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},
__class__:e.dynamics.joints.B2FrictionJoint});e.dynamics.joints.B2FrictionJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.localAnchorA=new e.common.math.B2Vec2;this.localAnchorB=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_frictionJoint;this.maxTorque=this.maxForce=0};l["box2D.dynamics.joints.B2FrictionJointDef"]=e.dynamics.joints.B2FrictionJointDef;e.dynamics.joints.B2FrictionJointDef.__name__=["box2D","dynamics","joints","B2FrictionJointDef"];e.dynamics.joints.B2FrictionJointDef.__super__=
e.dynamics.joints.B2JointDef;e.dynamics.joints.B2FrictionJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{maxTorque:null,maxForce:null,localAnchorB:null,localAnchorA:null,initialize:function(a,c,f){this.bodyA=a;this.bodyB=c;this.localAnchorA.setV(this.bodyA.getLocalPoint(f));this.localAnchorB.setV(this.bodyB.getLocalPoint(f))},__class__:e.dynamics.joints.B2FrictionJointDef});e.dynamics.joints.B2GearJoint=function(a){e.dynamics.joints.B2Joint.call(this,a);this.m_groundAnchor1=new e.common.math.B2Vec2;
this.m_groundAnchor2=new e.common.math.B2Vec2;this.m_localAnchor1=new e.common.math.B2Vec2;this.m_localAnchor2=new e.common.math.B2Vec2;this.m_J=new e.dynamics.joints.B2Jacobian;var c=a.joint1.m_type,f=a.joint2.m_type;this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;this.m_ground1=a.joint1.getBodyA();this.m_bodyA=a.joint1.getBodyB();c==e.dynamics.joints.B2Joint.e_revoluteJoint?(this.m_revolute1=n.Boot.__cast(a.joint1,e.dynamics.joints.B2RevoluteJoint),this.m_groundAnchor1.setV(this.m_revolute1.m_localAnchor1),
this.m_localAnchor1.setV(this.m_revolute1.m_localAnchor2),c=this.m_revolute1.getJointAngle()):(this.m_prismatic1=n.Boot.__cast(a.joint1,e.dynamics.joints.B2PrismaticJoint),this.m_groundAnchor1.setV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.setV(this.m_prismatic1.m_localAnchor2),c=this.m_prismatic1.getJointTranslation());this.m_ground2=a.joint2.getBodyA();this.m_bodyB=a.joint2.getBodyB();f==e.dynamics.joints.B2Joint.e_revoluteJoint?(this.m_revolute2=n.Boot.__cast(a.joint2,e.dynamics.joints.B2RevoluteJoint),
this.m_groundAnchor2.setV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.setV(this.m_revolute2.m_localAnchor2),f=this.m_revolute2.getJointAngle()):(this.m_prismatic2=n.Boot.__cast(a.joint2,e.dynamics.joints.B2PrismaticJoint),this.m_groundAnchor2.setV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.setV(this.m_prismatic2.m_localAnchor2),f=this.m_prismatic2.getJointTranslation());this.m_ratio=a.ratio;this.m_constant=c+this.m_ratio*f;this.m_impulse=0};l["box2D.dynamics.joints.B2GearJoint"]=
e.dynamics.joints.B2GearJoint;e.dynamics.joints.B2GearJoint.__name__=["box2D","dynamics","joints","B2GearJoint"];e.dynamics.joints.B2GearJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2GearJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,{m_impulse:null,m_mass:null,m_ratio:null,m_constant:null,m_J:null,m_localAnchor2:null,m_localAnchor1:null,m_groundAnchor2:null,m_groundAnchor1:null,m_prismatic2:null,m_revolute2:null,m_prismatic1:null,m_revolute1:null,m_ground2:null,m_ground1:null,
solvePositionConstraints:function(){var a=this.m_bodyA,c=this.m_bodyB,f,b;f=null!=this.m_revolute1?this.m_revolute1.getJointAngle():this.m_prismatic1.getJointTranslation();b=null!=this.m_revolute2?this.m_revolute2.getJointAngle():this.m_prismatic2.getJointTranslation();f=-this.m_mass*(this.m_constant-(f+this.m_ratio*b));a.m_sweep.c.x+=a.m_invMass*f*this.m_J.linearA.x;a.m_sweep.c.y+=a.m_invMass*f*this.m_J.linearA.y;a.m_sweep.a+=a.m_invI*f*this.m_J.angularA;c.m_sweep.c.x+=c.m_invMass*f*this.m_J.linearB.x;
c.m_sweep.c.y+=c.m_invMass*f*this.m_J.linearB.y;c.m_sweep.a+=c.m_invI*f*this.m_J.angularB;a.synchronizeTransform();c.synchronizeTransform();return 0<e.common.B2Settings.b2_linearSlop},solveVelocityConstraints:function(){var a=this.m_bodyA,c=this.m_bodyB,f=this.m_J.compute(a.m_linearVelocity,a.m_angularVelocity,c.m_linearVelocity,c.m_angularVelocity),f=-this.m_mass*f;this.m_impulse+=f;a.m_linearVelocity.x+=a.m_invMass*f*this.m_J.linearA.x;a.m_linearVelocity.y+=a.m_invMass*f*this.m_J.linearA.y;a.m_angularVelocity+=
a.m_invI*f*this.m_J.angularA;c.m_linearVelocity.x+=c.m_invMass*f*this.m_J.linearB.x;c.m_linearVelocity.y+=c.m_invMass*f*this.m_J.linearB.y;c.m_angularVelocity+=c.m_invI*f*this.m_J.angularB},initVelocityConstraints:function(a){var c=this.m_ground1,f=this.m_ground2,b=this.m_bodyA,d=this.m_bodyB,e,h,i,j,p,u=0;this.m_J.setZero();null!=this.m_revolute1?(this.m_J.angularA=-1,u+=b.m_invI):(j=c.m_xf.R,e=this.m_prismatic1.m_localXAxis1,c=j.col1.x*e.x+j.col2.x*e.y,e=j.col1.y*e.x+j.col2.y*e.y,j=b.m_xf.R,h=this.m_localAnchor1.x-
b.m_sweep.localCenter.x,i=this.m_localAnchor1.y-b.m_sweep.localCenter.y,p=j.col1.x*h+j.col2.x*i,i=j.col1.y*h+j.col2.y*i,j=p*e-i*c,this.m_J.linearA.set(-c,-e),this.m_J.angularA=-j,u+=b.m_invMass+b.m_invI*j*j);null!=this.m_revolute2?(this.m_J.angularB=-this.m_ratio,u+=this.m_ratio*this.m_ratio*d.m_invI):(j=f.m_xf.R,e=this.m_prismatic2.m_localXAxis1,c=j.col1.x*e.x+j.col2.x*e.y,e=j.col1.y*e.x+j.col2.y*e.y,j=d.m_xf.R,h=this.m_localAnchor2.x-d.m_sweep.localCenter.x,i=this.m_localAnchor2.y-d.m_sweep.localCenter.y,
p=j.col1.x*h+j.col2.x*i,i=j.col1.y*h+j.col2.y*i,j=p*e-i*c,this.m_J.linearB.set(-this.m_ratio*c,-this.m_ratio*e),this.m_J.angularB=-this.m_ratio*j,u+=this.m_ratio*this.m_ratio*(d.m_invMass+d.m_invI*j*j));this.m_mass=0<u?1/u:0;a.warmStarting?(b.m_linearVelocity.x+=b.m_invMass*this.m_impulse*this.m_J.linearA.x,b.m_linearVelocity.y+=b.m_invMass*this.m_impulse*this.m_J.linearA.y,b.m_angularVelocity+=b.m_invI*this.m_impulse*this.m_J.angularA,d.m_linearVelocity.x+=d.m_invMass*this.m_impulse*this.m_J.linearB.x,
d.m_linearVelocity.y+=d.m_invMass*this.m_impulse*this.m_J.linearB.y,d.m_angularVelocity+=d.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},setRatio:function(a){this.m_ratio=a},getRatio:function(){return this.m_ratio},getReactionTorque:function(a){var c=this.m_bodyB.m_xf.R,f=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,b=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,d=c.col1.x*f+c.col2.x*b,b=c.col1.y*f+c.col2.y*b;return a*(this.m_impulse*this.m_J.angularB-d*this.m_impulse*
this.m_J.linearB.y+b*this.m_impulse*this.m_J.linearB.x)},getReactionForce:function(a){return new e.common.math.B2Vec2(a*this.m_impulse*this.m_J.linearB.x,a*this.m_impulse*this.m_J.linearB.y)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},__class__:e.dynamics.joints.B2GearJoint});e.dynamics.joints.B2GearJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.type=e.dynamics.joints.B2Joint.e_gearJoint;
this.joint2=this.joint1=null;this.ratio=1};l["box2D.dynamics.joints.B2GearJointDef"]=e.dynamics.joints.B2GearJointDef;e.dynamics.joints.B2GearJointDef.__name__=["box2D","dynamics","joints","B2GearJointDef"];e.dynamics.joints.B2GearJointDef.__super__=e.dynamics.joints.B2JointDef;e.dynamics.joints.B2GearJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{ratio:null,joint2:null,joint1:null,__class__:e.dynamics.joints.B2GearJointDef});e.dynamics.joints.B2Jacobian=function(){this.linearA=new e.common.math.B2Vec2;
this.linearB=new e.common.math.B2Vec2};l["box2D.dynamics.joints.B2Jacobian"]=e.dynamics.joints.B2Jacobian;e.dynamics.joints.B2Jacobian.__name__=["box2D","dynamics","joints","B2Jacobian"];e.dynamics.joints.B2Jacobian.prototype={compute:function(a,c,f,b){return this.linearA.x*a.x+this.linearA.y*a.y+this.angularA*c+(this.linearB.x*f.x+this.linearB.y*f.y)+this.angularB*b},set:function(a,c,f,b){this.linearA.setV(a);this.angularA=c;this.linearB.setV(f);this.angularB=b},setZero:function(){this.linearA.setZero();
this.angularA=0;this.linearB.setZero();this.angularB=0},angularB:null,linearB:null,angularA:null,linearA:null,__class__:e.dynamics.joints.B2Jacobian};e.dynamics.joints.B2JointEdge=function(){};l["box2D.dynamics.joints.B2JointEdge"]=e.dynamics.joints.B2JointEdge;e.dynamics.joints.B2JointEdge.__name__=["box2D","dynamics","joints","B2JointEdge"];e.dynamics.joints.B2JointEdge.prototype={next:null,prev:null,joint:null,other:null,__class__:e.dynamics.joints.B2JointEdge};e.dynamics.joints.B2LineJoint=function(a){e.dynamics.joints.B2Joint.call(this,
a);this.m_localAnchor1=new e.common.math.B2Vec2;this.m_localAnchor2=new e.common.math.B2Vec2;this.m_localXAxis1=new e.common.math.B2Vec2;this.m_localYAxis1=new e.common.math.B2Vec2;this.m_axis=new e.common.math.B2Vec2;this.m_perp=new e.common.math.B2Vec2;this.m_K=new e.common.math.B2Mat22;this.m_impulse=new e.common.math.B2Vec2;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_localXAxis1.setV(a.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=
this.m_localXAxis1.x;this.m_impulse.setZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;this.m_upperTranslation=a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit;this.m_axis.setZero();this.m_perp.setZero()};l["box2D.dynamics.joints.B2LineJoint"]=e.dynamics.joints.B2LineJoint;e.dynamics.joints.B2LineJoint.__name__=
["box2D","dynamics","joints","B2LineJoint"];e.dynamics.joints.B2LineJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2LineJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,{m_limitState:null,m_enableMotor:null,m_enableLimit:null,m_motorSpeed:null,m_maxMotorForce:null,m_upperTranslation:null,m_lowerTranslation:null,m_motorImpulse:null,m_motorMass:null,m_impulse:null,m_K:null,m_a2:null,m_a1:null,m_s2:null,m_s1:null,m_perp:null,m_axis:null,m_localYAxis1:null,m_localXAxis1:null,m_localAnchor2:null,
m_localAnchor1:null,solvePositionConstraints:function(){var a=this.m_bodyA,c=this.m_bodyB,f=a.m_sweep.c,b=a.m_sweep.a,d=c.m_sweep.c,g=c.m_sweep.a,h,i,j,p,u,k=0,l=0;j=!1;var n=0,m=e.common.math.B2Mat22.fromAngle(b);p=e.common.math.B2Mat22.fromAngle(g);h=m;var l=this.m_localAnchor1.x-this.m_localCenterA.x,q=this.m_localAnchor1.y-this.m_localCenterA.y;i=h.col1.x*l+h.col2.x*q;q=h.col1.y*l+h.col2.y*q;l=i;h=p;p=this.m_localAnchor2.x-this.m_localCenterB.x;u=this.m_localAnchor2.y-this.m_localCenterB.y;i=
h.col1.x*p+h.col2.x*u;u=h.col1.y*p+h.col2.y*u;p=i;h=d.x+p-f.x-l;i=d.y+u-f.y-q;if(this.m_enableLimit){this.m_axis=e.common.math.B2Math.mulMV(m,this.m_localXAxis1);this.m_a1=(h+l)*this.m_axis.y-(i+q)*this.m_axis.x;this.m_a2=p*this.m_axis.y-u*this.m_axis.x;var r=this.m_axis.x*h+this.m_axis.y*i;e.common.math.B2Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*e.common.B2Settings.b2_linearSlop?(n=e.common.math.B2Math.clamp(r,-e.common.B2Settings.b2_maxLinearCorrection,e.common.B2Settings.b2_maxLinearCorrection),
k=e.common.math.B2Math.abs(r),j=!0):r<=this.m_lowerTranslation?(n=e.common.math.B2Math.clamp(r-this.m_lowerTranslation+e.common.B2Settings.b2_linearSlop,-e.common.B2Settings.b2_maxLinearCorrection,0),k=this.m_lowerTranslation-r,j=!0):r>=this.m_upperTranslation&&(n=e.common.math.B2Math.clamp(r-this.m_upperTranslation+e.common.B2Settings.b2_linearSlop,0,e.common.B2Settings.b2_maxLinearCorrection),k=r-this.m_upperTranslation,j=!0)}this.m_perp=e.common.math.B2Math.mulMV(m,this.m_localYAxis1);this.m_s1=
(h+l)*this.m_perp.y-(i+q)*this.m_perp.x;this.m_s2=p*this.m_perp.y-u*this.m_perp.x;m=new e.common.math.B2Vec2;q=this.m_perp.x*h+this.m_perp.y*i;k=e.common.math.B2Math.max(k,e.common.math.B2Math.abs(q));l=0;j?(j=this.m_invMassA,p=this.m_invMassB,u=this.m_invIA,h=this.m_invIB,this.m_K.col1.x=j+p+u*this.m_s1*this.m_s1+h*this.m_s2*this.m_s2,this.m_K.col1.y=u*this.m_s1*this.m_a1+h*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=j+p+u*this.m_a1*this.m_a1+h*this.m_a2*this.m_a2,this.m_K.solve(m,
-q,-n)):(j=this.m_invMassA,p=this.m_invMassB,u=this.m_invIA,h=this.m_invIB,n=j+p+u*this.m_s1*this.m_s1+h*this.m_s2*this.m_s2,m.x=0!=n?-q/n:0,m.y=0);n=m.x*this.m_perp.x+m.y*this.m_axis.x;j=m.x*this.m_perp.y+m.y*this.m_axis.y;q=m.x*this.m_s1+m.y*this.m_a1;m=m.x*this.m_s2+m.y*this.m_a2;f.x-=this.m_invMassA*n;f.y-=this.m_invMassA*j;b-=this.m_invIA*q;d.x+=this.m_invMassB*n;d.y+=this.m_invMassB*j;g+=this.m_invIB*m;a.m_sweep.a=b;c.m_sweep.a=g;a.synchronizeTransform();c.synchronizeTransform();return k<=e.common.B2Settings.b2_linearSlop&&
l<=e.common.B2Settings.b2_angularSlop},solveVelocityConstraints:function(a){var c=this.m_bodyA,f=this.m_bodyB,b=c.m_linearVelocity,d=c.m_angularVelocity,g=f.m_linearVelocity,h=f.m_angularVelocity,i,j,p;this.m_enableMotor&&this.m_limitState!=e.dynamics.joints.B2Joint.e_equalLimits&&(p=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(g.x-b.x)+this.m_axis.y*(g.y-b.y)+this.m_a2*h-this.m_a1*d)),i=this.m_motorImpulse,a=a.dt*this.m_maxMotorForce,this.m_motorImpulse=e.common.math.B2Math.clamp(this.m_motorImpulse+
p,-a,a),p=this.m_motorImpulse-i,i=p*this.m_axis.x,a=p*this.m_axis.y,j=p*this.m_a1,p*=this.m_a2,b.x-=this.m_invMassA*i,b.y-=this.m_invMassA*a,d-=this.m_invIA*j,g.x+=this.m_invMassB*i,g.y+=this.m_invMassB*a,h+=this.m_invIB*p);a=this.m_perp.x*(g.x-b.x)+this.m_perp.y*(g.y-b.y)+this.m_s2*h-this.m_s1*d;this.m_enableLimit&&this.m_limitState!=e.dynamics.joints.B2Joint.e_inactiveLimit?(j=this.m_axis.x*(g.x-b.x)+this.m_axis.y*(g.y-b.y)+this.m_a2*h-this.m_a1*d,i=this.m_impulse.copy(),p=this.m_K.solve(new e.common.math.B2Vec2,
-a,-j),this.m_impulse.add(p),this.m_limitState==e.dynamics.joints.B2Joint.e_atLowerLimit?this.m_impulse.y=e.common.math.B2Math.max(this.m_impulse.y,0):this.m_limitState==e.dynamics.joints.B2Joint.e_atUpperLimit&&(this.m_impulse.y=e.common.math.B2Math.min(this.m_impulse.y,0)),a=-a-(this.m_impulse.y-i.y)*this.m_K.col2.x,this.m_impulse.x=0!=this.m_K.col1.x?a/this.m_K.col1.x+i.x:i.x,p.x=this.m_impulse.x-i.x,p.y=this.m_impulse.y-i.y,i=p.x*this.m_perp.x+p.y*this.m_axis.x,a=p.x*this.m_perp.y+p.y*this.m_axis.y,
j=p.x*this.m_s1+p.y*this.m_a1,p=p.x*this.m_s2+p.y*this.m_a2):(p=0!=this.m_K.col1.x?-a/this.m_K.col1.x:0,this.m_impulse.x+=p,i=p*this.m_perp.x,a=p*this.m_perp.y,j=p*this.m_s1,p*=this.m_s2);b.x-=this.m_invMassA*i;b.y-=this.m_invMassA*a;d-=this.m_invIA*j;g.x+=this.m_invMassB*i;g.y+=this.m_invMassB*a;h+=this.m_invIB*p;c.m_linearVelocity.setV(b);c.m_angularVelocity=d;f.m_linearVelocity.setV(g);f.m_angularVelocity=h},initVelocityConstraints:function(a){var c=this.m_bodyA,f=this.m_bodyB,b,d;this.m_localCenterA.setV(c.getLocalCenter());
this.m_localCenterB.setV(f.getLocalCenter());var g=c.getTransform();f.getTransform();b=c.m_xf.R;var h=this.m_localAnchor1.x-this.m_localCenterA.x,i=this.m_localAnchor1.y-this.m_localCenterA.y;d=b.col1.x*h+b.col2.x*i;i=b.col1.y*h+b.col2.y*i;h=d;b=f.m_xf.R;var j=this.m_localAnchor2.x-this.m_localCenterB.x,p=this.m_localAnchor2.y-this.m_localCenterB.y;d=b.col1.x*j+b.col2.x*p;p=b.col1.y*j+b.col2.y*p;j=d;b=f.m_sweep.c.x+j-c.m_sweep.c.x-h;d=f.m_sweep.c.y+p-c.m_sweep.c.y-i;this.m_invMassA=c.m_invMass;this.m_invMassB=
f.m_invMass;this.m_invIA=c.m_invI;this.m_invIB=f.m_invI;this.m_axis.setV(e.common.math.B2Math.mulMV(g.R,this.m_localXAxis1));this.m_a1=(b+h)*this.m_axis.y-(d+i)*this.m_axis.x;this.m_a2=j*this.m_axis.y-p*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0;this.m_perp.setV(e.common.math.B2Math.mulMV(g.R,this.m_localYAxis1));this.m_s1=(b+h)*this.m_perp.y-
(d+i)*this.m_perp.x;this.m_s2=j*this.m_perp.y-p*this.m_perp.x;g=this.m_invMassA;h=this.m_invMassB;i=this.m_invIA;j=this.m_invIB;this.m_K.col1.x=g+h+i*this.m_s1*this.m_s1+j*this.m_s2*this.m_s2;this.m_K.col1.y=i*this.m_s1*this.m_a1+j*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=g+h+i*this.m_a1*this.m_a1+j*this.m_a2*this.m_a2;this.m_enableLimit?(b=this.m_axis.x*b+this.m_axis.y*d,e.common.math.B2Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*e.common.B2Settings.b2_linearSlop?
this.m_limitState=e.dynamics.joints.B2Joint.e_equalLimits:b<=this.m_lowerTranslation?this.m_limitState!=e.dynamics.joints.B2Joint.e_atLowerLimit&&(this.m_limitState=e.dynamics.joints.B2Joint.e_atLowerLimit,this.m_impulse.y=0):b>=this.m_upperTranslation?this.m_limitState!=e.dynamics.joints.B2Joint.e_atUpperLimit&&(this.m_limitState=e.dynamics.joints.B2Joint.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit,this.m_impulse.y=0)):this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit;
!1==this.m_enableMotor&&(this.m_motorImpulse=0);a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,b=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,d=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,g=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,c.m_linearVelocity.x-=
this.m_invMassA*a,c.m_linearVelocity.y-=this.m_invMassA*b,c.m_angularVelocity-=this.m_invIA*d,f.m_linearVelocity.x+=this.m_invMassB*a,f.m_linearVelocity.y+=this.m_invMassB*b,f.m_angularVelocity+=this.m_invIB*g):(this.m_impulse.setZero(),this.m_motorImpulse=0)},getMotorForce:function(){return this.m_motorImpulse},getMaxMotorForce:function(){return this.m_maxMotorForce},setMaxMotorForce:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_maxMotorForce=a},getMotorSpeed:function(){return this.m_motorSpeed},
setMotorSpeed:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_motorSpeed=a},enableMotor:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_enableMotor=a},isMotorEnabled:function(){return this.m_enableMotor},setLimits:function(a,c){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_lowerTranslation=a;this.m_upperTranslation=c},getUpperLimit:function(){return this.m_upperTranslation},getLowerLimit:function(){return this.m_lowerTranslation},enableLimit:function(a){this.m_bodyA.setAwake(!0);
this.m_bodyB.setAwake(!0);this.m_enableLimit=a},isLimitEnabled:function(){return this.m_enableLimit},getJointSpeed:function(){var a=this.m_bodyA,c=this.m_bodyB,f;f=a.m_xf.R;var b=this.m_localAnchor1.x-a.m_sweep.localCenter.x,d=this.m_localAnchor1.y-a.m_sweep.localCenter.y,e=f.col1.x*b+f.col2.x*d,d=f.col1.y*b+f.col2.y*d,b=e;f=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,i=this.m_localAnchor2.y-c.m_sweep.localCenter.y,e=f.col1.x*h+f.col2.x*i,i=f.col1.y*h+f.col2.y*i,h=e;f=c.m_sweep.c.x+
h-(a.m_sweep.c.x+b);var e=c.m_sweep.c.y+i-(a.m_sweep.c.y+d),j=a.getWorldVector(this.m_localXAxis1),p=a.m_linearVelocity,k=c.m_linearVelocity,a=a.m_angularVelocity,c=c.m_angularVelocity;return f*-a*j.y+e*a*j.x+(j.x*(k.x+-c*i-p.x- -a*d)+j.y*(k.y+c*h-p.y-a*b))},getJointTranslation:function(){var a=this.m_bodyA,c=this.m_bodyB,f=a.getWorldPoint(this.m_localAnchor1),b=c.getWorldPoint(this.m_localAnchor2),c=b.x-f.x,f=b.y-f.y,a=a.getWorldVector(this.m_localXAxis1);return a.x*c+a.y*f},getReactionTorque:function(a){return a*
this.m_impulse.y},getReactionForce:function(a){return new e.common.math.B2Vec2(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},__class__:e.dynamics.joints.B2LineJoint});e.dynamics.joints.B2LineJointDef=function(){e.dynamics.joints.B2JointDef.call(this);
this.localAnchorA=new e.common.math.B2Vec2;this.localAnchorB=new e.common.math.B2Vec2;this.localAxisA=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_lineJoint;this.localAxisA.set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};l["box2D.dynamics.joints.B2LineJointDef"]=e.dynamics.joints.B2LineJointDef;e.dynamics.joints.B2LineJointDef.__name__=["box2D","dynamics","joints","B2LineJointDef"];e.dynamics.joints.B2LineJointDef.__super__=
e.dynamics.joints.B2JointDef;e.dynamics.joints.B2LineJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{motorSpeed:null,maxMotorForce:null,enableMotor:null,upperTranslation:null,lowerTranslation:null,enableLimit:null,localAxisA:null,localAnchorB:null,localAnchorA:null,initialize:function(a,c,f,b){this.bodyA=a;this.bodyB=c;this.localAnchorA=this.bodyA.getLocalPoint(f);this.localAnchorB=this.bodyB.getLocalPoint(f);this.localAxisA=this.bodyA.getLocalVector(b)},__class__:e.dynamics.joints.B2LineJointDef});
e.dynamics.joints.B2MouseJoint=function(a){e.dynamics.joints.B2Joint.call(this,a);this.K=new e.common.math.B2Mat22;this.K1=new e.common.math.B2Mat22;this.K2=new e.common.math.B2Mat22;this.m_localAnchor=new e.common.math.B2Vec2;this.m_target=new e.common.math.B2Vec2;this.m_impulse=new e.common.math.B2Vec2;this.m_mass=new e.common.math.B2Mat22;this.m_C=new e.common.math.B2Vec2;this.m_target.setV(a.target);var c=this.m_target.x-this.m_bodyB.m_xf.position.x,f=this.m_target.y-this.m_bodyB.m_xf.position.y,
b=this.m_bodyB.m_xf.R;this.m_localAnchor.x=c*b.col1.x+f*b.col1.y;this.m_localAnchor.y=c*b.col2.x+f*b.col2.y;this.m_maxForce=a.maxForce;this.m_impulse.setZero();this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_gamma=this.m_beta=0};l["box2D.dynamics.joints.B2MouseJoint"]=e.dynamics.joints.B2MouseJoint;e.dynamics.joints.B2MouseJoint.__name__=["box2D","dynamics","joints","B2MouseJoint"];e.dynamics.joints.B2MouseJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2MouseJoint.prototype=
t(e.dynamics.joints.B2Joint.prototype,{m_gamma:null,m_beta:null,m_dampingRatio:null,m_frequencyHz:null,m_maxForce:null,m_C:null,m_mass:null,m_impulse:null,m_target:null,m_localAnchor:null,solvePositionConstraints:function(){return!0},solveVelocityConstraints:function(a){var c=this.m_bodyB,f,b,d;f=c.m_xf.R;var e=this.m_localAnchor.x-c.m_sweep.localCenter.x,h=this.m_localAnchor.y-c.m_sweep.localCenter.y;b=f.col1.x*e+f.col2.x*h;h=f.col1.y*e+f.col2.y*h;e=b;b=c.m_linearVelocity.x+-c.m_angularVelocity*
h;var i=c.m_linearVelocity.y+c.m_angularVelocity*e;f=this.m_mass;b=b+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x;d=i+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;i=-(f.col1.x*b+f.col2.x*d);d=-(f.col1.y*b+f.col2.y*d);f=this.m_impulse.x;b=this.m_impulse.y;this.m_impulse.x+=i;this.m_impulse.y+=d;a=a.dt*this.m_maxForce;this.m_impulse.lengthSquared()>a*a&&this.m_impulse.multiply(a/this.m_impulse.length());i=this.m_impulse.x-f;d=this.m_impulse.y-b;c.m_linearVelocity.x+=c.m_invMass*i;c.m_linearVelocity.y+=
c.m_invMass*d;c.m_angularVelocity+=c.m_invI*(e*d-h*i)},initVelocityConstraints:function(a){var c=this.m_bodyB,f=c.getMass(),b=2*Math.PI*this.m_frequencyHz,d=f*b*b;this.m_gamma=a.dt*(2*f*this.m_dampingRatio*b+a.dt*d);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_beta=a.dt*d*this.m_gamma;var d=c.m_xf.R,f=this.m_localAnchor.x-c.m_sweep.localCenter.x,b=this.m_localAnchor.y-c.m_sweep.localCenter.y,e=d.col1.x*f+d.col2.x*b,b=d.col1.y*f+d.col2.y*b,f=e,d=c.m_invMass,e=c.m_invI;this.K1.col1.x=d;this.K1.col2.x=
0;this.K1.col1.y=0;this.K1.col2.y=d;this.K2.col1.x=e*b*b;this.K2.col2.x=-e*f*b;this.K2.col1.y=-e*f*b;this.K2.col2.y=e*f*f;this.K.setM(this.K1);this.K.addM(this.K2);this.K.col1.x+=this.m_gamma;this.K.col2.y+=this.m_gamma;this.K.getInverse(this.m_mass);this.m_C.x=c.m_sweep.c.x+f-this.m_target.x;this.m_C.y=c.m_sweep.c.y+b-this.m_target.y;c.m_angularVelocity*=0.98;this.m_impulse.x*=a.dtRatio;this.m_impulse.y*=a.dtRatio;c.m_linearVelocity.x+=d*this.m_impulse.x;c.m_linearVelocity.y+=d*this.m_impulse.y;
c.m_angularVelocity+=e*(f*this.m_impulse.y-b*this.m_impulse.x)},K2:null,K1:null,K:null,setDampingRatio:function(a){this.m_dampingRatio=a},getDampingRatio:function(){return this.m_dampingRatio},setFrequency:function(a){this.m_frequencyHz=a},getFrequency:function(){return this.m_frequencyHz},setMaxForce:function(a){this.m_maxForce=a},getMaxForce:function(){return this.m_maxForce},setTarget:function(a){!1==this.m_bodyB.isAwake()&&this.m_bodyB.setAwake(!0);this.m_target=a},getTarget:function(){return this.m_target},
getReactionTorque:function(){return 0},getReactionForce:function(a){return new e.common.math.B2Vec2(a*this.m_impulse.x,a*this.m_impulse.y)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor)},getAnchorA:function(){return this.m_target},__class__:e.dynamics.joints.B2MouseJoint});e.dynamics.joints.B2MouseJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.target=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_mouseJoint;this.maxForce=0;this.frequencyHz=
5;this.dampingRatio=0.7};l["box2D.dynamics.joints.B2MouseJointDef"]=e.dynamics.joints.B2MouseJointDef;e.dynamics.joints.B2MouseJointDef.__name__=["box2D","dynamics","joints","B2MouseJointDef"];e.dynamics.joints.B2MouseJointDef.__super__=e.dynamics.joints.B2JointDef;e.dynamics.joints.B2MouseJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{dampingRatio:null,frequencyHz:null,maxForce:null,target:null,__class__:e.dynamics.joints.B2MouseJointDef});e.dynamics.joints.B2PrismaticJoint=function(a){e.dynamics.joints.B2Joint.call(this,
a);this.m_localAnchor1=new e.common.math.B2Vec2;this.m_localAnchor2=new e.common.math.B2Vec2;this.m_localXAxis1=new e.common.math.B2Vec2;this.m_localYAxis1=new e.common.math.B2Vec2;this.m_axis=new e.common.math.B2Vec2;this.m_perp=new e.common.math.B2Vec2;this.m_K=new e.common.math.B2Mat33;this.m_impulse=new e.common.math.B2Vec3;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_localXAxis1.setV(a.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=
this.m_localXAxis1.x;this.m_refAngle=a.referenceAngle;this.m_impulse.setZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;this.m_upperTranslation=a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit;this.m_axis.setZero();this.m_perp.setZero()};l["box2D.dynamics.joints.B2PrismaticJoint"]=e.dynamics.joints.B2PrismaticJoint;
e.dynamics.joints.B2PrismaticJoint.__name__=["box2D","dynamics","joints","B2PrismaticJoint"];e.dynamics.joints.B2PrismaticJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2PrismaticJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,{m_limitState:null,m_enableMotor:null,m_enableLimit:null,m_motorSpeed:null,m_maxMotorForce:null,m_upperTranslation:null,m_lowerTranslation:null,m_motorImpulse:null,m_motorMass:null,m_impulse:null,m_K:null,m_a2:null,m_a1:null,m_s2:null,m_s1:null,m_perp:null,
m_axis:null,m_refAngle:null,m_localYAxis1:null,m_localXAxis1:null,m_localAnchor2:null,m_localAnchor1:null,solvePositionConstraints:function(){var a=this.m_bodyA,c=this.m_bodyB,f=a.m_sweep.c,b=a.m_sweep.a,d=c.m_sweep.c,g=c.m_sweep.a,h,i,j,p,k=0,l=0;j=!1;var m=0,n=e.common.math.B2Mat22.fromAngle(b),q=e.common.math.B2Mat22.fromAngle(g);h=n;var l=this.m_localAnchor1.x-this.m_localCenterA.x,r=this.m_localAnchor1.y-this.m_localCenterA.y;i=h.col1.x*l+h.col2.x*r;r=h.col1.y*l+h.col2.y*r;l=i;h=q;q=this.m_localAnchor2.x-
this.m_localCenterB.x;p=this.m_localAnchor2.y-this.m_localCenterB.y;i=h.col1.x*q+h.col2.x*p;p=h.col1.y*q+h.col2.y*p;q=i;h=d.x+q-f.x-l;i=d.y+p-f.y-r;if(this.m_enableLimit){this.m_axis=e.common.math.B2Math.mulMV(n,this.m_localXAxis1);this.m_a1=(h+l)*this.m_axis.y-(i+r)*this.m_axis.x;this.m_a2=q*this.m_axis.y-p*this.m_axis.x;var s=this.m_axis.x*h+this.m_axis.y*i;e.common.math.B2Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*e.common.B2Settings.b2_linearSlop?(m=e.common.math.B2Math.clamp(s,
-e.common.B2Settings.b2_maxLinearCorrection,e.common.B2Settings.b2_maxLinearCorrection),k=e.common.math.B2Math.abs(s),j=!0):s<=this.m_lowerTranslation?(m=e.common.math.B2Math.clamp(s-this.m_lowerTranslation+e.common.B2Settings.b2_linearSlop,-e.common.B2Settings.b2_maxLinearCorrection,0),k=this.m_lowerTranslation-s,j=!0):s>=this.m_upperTranslation&&(m=e.common.math.B2Math.clamp(s-this.m_upperTranslation+e.common.B2Settings.b2_linearSlop,0,e.common.B2Settings.b2_maxLinearCorrection),k=s-this.m_upperTranslation,
j=!0)}this.m_perp=e.common.math.B2Math.mulMV(n,this.m_localYAxis1);this.m_s1=(h+l)*this.m_perp.y-(i+r)*this.m_perp.x;this.m_s2=q*this.m_perp.y-p*this.m_perp.x;n=new e.common.math.B2Vec3;r=this.m_perp.x*h+this.m_perp.y*i;q=g-b-this.m_refAngle;k=e.common.math.B2Math.max(k,e.common.math.B2Math.abs(r));l=e.common.math.B2Math.abs(q);j?(j=this.m_invMassA,p=this.m_invMassB,h=this.m_invIA,i=this.m_invIB,this.m_K.col1.x=j+p+h*this.m_s1*this.m_s1+i*this.m_s2*this.m_s2,this.m_K.col1.y=h*this.m_s1+i*this.m_s2,
this.m_K.col1.z=h*this.m_s1*this.m_a1+i*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=h+i,this.m_K.col2.z=h*this.m_a1+i*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=j+p+h*this.m_a1*this.m_a1+i*this.m_a2*this.m_a2,this.m_K.solve33(n,-r,-q,-m)):(j=this.m_invMassA,p=this.m_invMassB,h=this.m_invIA,i=this.m_invIB,m=h*this.m_s1+i*this.m_s2,s=h+i,this.m_K.col1.set(j+p+h*this.m_s1*this.m_s1+i*this.m_s2*this.m_s2,m,0),this.m_K.col2.set(m,s,
0),m=this.m_K.solve22(new e.common.math.B2Vec2,-r,-q),n.x=m.x,n.y=m.y,n.z=0);m=n.x*this.m_perp.x+n.z*this.m_axis.x;j=n.x*this.m_perp.y+n.z*this.m_axis.y;r=n.x*this.m_s1+n.y+n.z*this.m_a1;n=n.x*this.m_s2+n.y+n.z*this.m_a2;f.x-=this.m_invMassA*m;f.y-=this.m_invMassA*j;b-=this.m_invIA*r;d.x+=this.m_invMassB*m;d.y+=this.m_invMassB*j;g+=this.m_invIB*n;a.m_sweep.a=b;c.m_sweep.a=g;a.synchronizeTransform();c.synchronizeTransform();return k<=e.common.B2Settings.b2_linearSlop&&l<=e.common.B2Settings.b2_angularSlop},
solveVelocityConstraints:function(a){var c=this.m_bodyA,f=this.m_bodyB,b=c.m_linearVelocity,d=c.m_angularVelocity,g=f.m_linearVelocity,h=f.m_angularVelocity,i,j,p;this.m_enableMotor&&this.m_limitState!=e.dynamics.joints.B2Joint.e_equalLimits&&(p=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(g.x-b.x)+this.m_axis.y*(g.y-b.y)+this.m_a2*h-this.m_a1*d)),i=this.m_motorImpulse,a=a.dt*this.m_maxMotorForce,this.m_motorImpulse=e.common.math.B2Math.clamp(this.m_motorImpulse+p,-a,a),p=this.m_motorImpulse-
i,i=p*this.m_axis.x,a=p*this.m_axis.y,j=p*this.m_a1,p*=this.m_a2,b.x-=this.m_invMassA*i,b.y-=this.m_invMassA*a,d-=this.m_invIA*j,g.x+=this.m_invMassB*i,g.y+=this.m_invMassB*a,h+=this.m_invIB*p);j=this.m_perp.x*(g.x-b.x)+this.m_perp.y*(g.y-b.y)+this.m_s2*h-this.m_s1*d;a=h-d;this.m_enableLimit&&this.m_limitState!=e.dynamics.joints.B2Joint.e_inactiveLimit?(p=this.m_axis.x*(g.x-b.x)+this.m_axis.y*(g.y-b.y)+this.m_a2*h-this.m_a1*d,i=this.m_impulse.copy(),p=this.m_K.solve33(new e.common.math.B2Vec3,-j,
-a,-p),this.m_impulse.add(p),this.m_limitState==e.dynamics.joints.B2Joint.e_atLowerLimit?this.m_impulse.z=e.common.math.B2Math.max(this.m_impulse.z,0):this.m_limitState==e.dynamics.joints.B2Joint.e_atUpperLimit&&(this.m_impulse.z=e.common.math.B2Math.min(this.m_impulse.z,0)),j=-j-(this.m_impulse.z-i.z)*this.m_K.col3.x,a=-a-(this.m_impulse.z-i.z)*this.m_K.col3.y,a=this.m_K.solve22(new e.common.math.B2Vec2,j,a),a.x+=i.x,a.y+=i.y,this.m_impulse.x=a.x,this.m_impulse.y=a.y,p.x=this.m_impulse.x-i.x,p.y=
this.m_impulse.y-i.y,p.z=this.m_impulse.z-i.z,i=p.x*this.m_perp.x+p.z*this.m_axis.x,a=p.x*this.m_perp.y+p.z*this.m_axis.y,j=p.x*this.m_s1+p.y+p.z*this.m_a1,p=p.x*this.m_s2+p.y+p.z*this.m_a2):(p=this.m_K.solve22(new e.common.math.B2Vec2,-j,-a),this.m_impulse.x+=p.x,this.m_impulse.y+=p.y,i=p.x*this.m_perp.x,a=p.x*this.m_perp.y,j=p.x*this.m_s1+p.y,p=p.x*this.m_s2+p.y);b.x-=this.m_invMassA*i;b.y-=this.m_invMassA*a;d-=this.m_invIA*j;g.x+=this.m_invMassB*i;g.y+=this.m_invMassB*a;h+=this.m_invIB*p;c.m_linearVelocity.setV(b);
c.m_angularVelocity=d;f.m_linearVelocity.setV(g);f.m_angularVelocity=h},initVelocityConstraints:function(a){var c=this.m_bodyA,f=this.m_bodyB,b,d;this.m_localCenterA.setV(c.getLocalCenter());this.m_localCenterB.setV(f.getLocalCenter());var g=c.getTransform();f.getTransform();b=c.m_xf.R;var h=this.m_localAnchor1.x-this.m_localCenterA.x,i=this.m_localAnchor1.y-this.m_localCenterA.y;d=b.col1.x*h+b.col2.x*i;i=b.col1.y*h+b.col2.y*i;h=d;b=f.m_xf.R;var j=this.m_localAnchor2.x-this.m_localCenterB.x,p=this.m_localAnchor2.y-
this.m_localCenterB.y;d=b.col1.x*j+b.col2.x*p;p=b.col1.y*j+b.col2.y*p;j=d;b=f.m_sweep.c.x+j-c.m_sweep.c.x-h;d=f.m_sweep.c.y+p-c.m_sweep.c.y-i;this.m_invMassA=c.m_invMass;this.m_invMassB=f.m_invMass;this.m_invIA=c.m_invI;this.m_invIB=f.m_invI;this.m_axis.setV(e.common.math.B2Math.mulMV(g.R,this.m_localXAxis1));this.m_a1=(b+h)*this.m_axis.y-(d+i)*this.m_axis.x;this.m_a2=j*this.m_axis.y-p*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*
this.m_a2;this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass);this.m_perp.setV(e.common.math.B2Math.mulMV(g.R,this.m_localYAxis1));this.m_s1=(b+h)*this.m_perp.y-(d+i)*this.m_perp.x;this.m_s2=j*this.m_perp.y-p*this.m_perp.x;g=this.m_invMassA;h=this.m_invMassB;i=this.m_invIA;j=this.m_invIB;this.m_K.col1.x=g+h+i*this.m_s1*this.m_s1+j*this.m_s2*this.m_s2;this.m_K.col1.y=i*this.m_s1+j*this.m_s2;this.m_K.col1.z=i*this.m_s1*this.m_a1+j*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;
this.m_K.col2.y=i+j;this.m_K.col2.z=i*this.m_a1+j*this.m_a2;this.m_K.col3.x=this.m_K.col1.z;this.m_K.col3.y=this.m_K.col2.z;this.m_K.col3.z=g+h+i*this.m_a1*this.m_a1+j*this.m_a2*this.m_a2;this.m_enableLimit?(b=this.m_axis.x*b+this.m_axis.y*d,e.common.math.B2Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*e.common.B2Settings.b2_linearSlop?this.m_limitState=e.dynamics.joints.B2Joint.e_equalLimits:b<=this.m_lowerTranslation?this.m_limitState!=e.dynamics.joints.B2Joint.e_atLowerLimit&&(this.m_limitState=
e.dynamics.joints.B2Joint.e_atLowerLimit,this.m_impulse.z=0):b>=this.m_upperTranslation?this.m_limitState!=e.dynamics.joints.B2Joint.e_atUpperLimit&&(this.m_limitState=e.dynamics.joints.B2Joint.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit;!1==this.m_enableMotor&&(this.m_motorImpulse=0);a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_motorImpulse*=
a.dtRatio,a=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,b=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,d=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,g=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,c.m_linearVelocity.x-=this.m_invMassA*a,c.m_linearVelocity.y-=this.m_invMassA*b,c.m_angularVelocity-=this.m_invIA*d,f.m_linearVelocity.x+=
this.m_invMassB*a,f.m_linearVelocity.y+=this.m_invMassB*b,f.m_angularVelocity+=this.m_invIB*g):(this.m_impulse.setZero(),this.m_motorImpulse=0)},getMotorForce:function(){return this.m_motorImpulse},setMaxMotorForce:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_maxMotorForce=a},getMotorSpeed:function(){return this.m_motorSpeed},setMotorSpeed:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_motorSpeed=a},enableMotor:function(a){this.m_bodyA.setAwake(!0);
this.m_bodyB.setAwake(!0);this.m_enableMotor=a},isMotorEnabled:function(){return this.m_enableMotor},setLimits:function(a,c){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_lowerTranslation=a;this.m_upperTranslation=c},getUpperLimit:function(){return this.m_upperTranslation},getLowerLimit:function(){return this.m_lowerTranslation},enableLimit:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_enableLimit=a},isLimitEnabled:function(){return this.m_enableLimit},getJointSpeed:function(){var a=
this.m_bodyA,c=this.m_bodyB,f;f=a.m_xf.R;var b=this.m_localAnchor1.x-a.m_sweep.localCenter.x,d=this.m_localAnchor1.y-a.m_sweep.localCenter.y,e=f.col1.x*b+f.col2.x*d,d=f.col1.y*b+f.col2.y*d,b=e;f=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,i=this.m_localAnchor2.y-c.m_sweep.localCenter.y,e=f.col1.x*h+f.col2.x*i,i=f.col1.y*h+f.col2.y*i,h=e;f=c.m_sweep.c.x+h-(a.m_sweep.c.x+b);var e=c.m_sweep.c.y+i-(a.m_sweep.c.y+d),j=a.getWorldVector(this.m_localXAxis1),p=a.m_linearVelocity,k=c.m_linearVelocity,
a=a.m_angularVelocity,c=c.m_angularVelocity;return f*-a*j.y+e*a*j.x+(j.x*(k.x+-c*i-p.x- -a*d)+j.y*(k.y+c*h-p.y-a*b))},getJointTranslation:function(){var a=this.m_bodyA,c=this.m_bodyB,f=a.getWorldPoint(this.m_localAnchor1),b=c.getWorldPoint(this.m_localAnchor2),c=b.x-f.x,f=b.y-f.y,a=a.getWorldVector(this.m_localXAxis1);return a.x*c+a.y*f},getReactionTorque:function(a){return a*this.m_impulse.y},getReactionForce:function(a){return new e.common.math.B2Vec2(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+
this.m_impulse.z)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},__class__:e.dynamics.joints.B2PrismaticJoint});e.dynamics.joints.B2PrismaticJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.localAnchorA=new e.common.math.B2Vec2;this.localAnchorB=new e.common.math.B2Vec2;
this.localAxisA=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_prismaticJoint;this.localAxisA.set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};l["box2D.dynamics.joints.B2PrismaticJointDef"]=e.dynamics.joints.B2PrismaticJointDef;e.dynamics.joints.B2PrismaticJointDef.__name__=["box2D","dynamics","joints","B2PrismaticJointDef"];e.dynamics.joints.B2PrismaticJointDef.__super__=e.dynamics.joints.B2JointDef;
e.dynamics.joints.B2PrismaticJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{motorSpeed:null,maxMotorForce:null,enableMotor:null,upperTranslation:null,lowerTranslation:null,enableLimit:null,referenceAngle:null,localAxisA:null,localAnchorB:null,localAnchorA:null,initialize:function(a,c,f,b){this.bodyA=a;this.bodyB=c;this.localAnchorA=this.bodyA.getLocalPoint(f);this.localAnchorB=this.bodyB.getLocalPoint(f);this.localAxisA=this.bodyA.getLocalVector(b);this.referenceAngle=this.bodyB.getAngle()-
this.bodyA.getAngle()},__class__:e.dynamics.joints.B2PrismaticJointDef});e.dynamics.joints.B2PulleyJoint=function(a){e.dynamics.joints.B2Joint.call(this,a);this.m_groundAnchor1=new e.common.math.B2Vec2;this.m_groundAnchor2=new e.common.math.B2Vec2;this.m_localAnchor1=new e.common.math.B2Vec2;this.m_localAnchor2=new e.common.math.B2Vec2;this.m_u1=new e.common.math.B2Vec2;this.m_u2=new e.common.math.B2Vec2;this.m_ground=this.m_bodyA.m_world.m_groundBody;this.m_groundAnchor1.x=a.groundAnchorA.x-this.m_ground.m_xf.position.x;
this.m_groundAnchor1.y=a.groundAnchorA.y-this.m_ground.m_xf.position.y;this.m_groundAnchor2.x=a.groundAnchorB.x-this.m_ground.m_xf.position.x;this.m_groundAnchor2.y=a.groundAnchorB.y-this.m_ground.m_xf.position.y;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_ratio=a.ratio;this.m_constant=a.lengthA+this.m_ratio*a.lengthB;this.m_maxLength1=e.common.math.B2Math.min(a.maxLengthA,this.m_constant-this.m_ratio*e.dynamics.joints.B2PulleyJoint.b2_minPulleyLength);
this.m_maxLength2=e.common.math.B2Math.min(a.maxLengthB,(this.m_constant-e.dynamics.joints.B2PulleyJoint.b2_minPulleyLength)/this.m_ratio);this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};l["box2D.dynamics.joints.B2PulleyJoint"]=e.dynamics.joints.B2PulleyJoint;e.dynamics.joints.B2PulleyJoint.__name__=["box2D","dynamics","joints","B2PulleyJoint"];e.dynamics.joints.B2PulleyJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2PulleyJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,
{m_limitState2:null,m_limitState1:null,m_state:null,m_limitImpulse2:null,m_limitImpulse1:null,m_impulse:null,m_limitMass2:null,m_limitMass1:null,m_pulleyMass:null,m_maxLength2:null,m_maxLength1:null,m_ratio:null,m_constant:null,m_u2:null,m_u1:null,m_localAnchor2:null,m_localAnchor1:null,m_groundAnchor2:null,m_groundAnchor1:null,m_ground:null,solvePositionConstraints:function(){var a=this.m_bodyA,c=this.m_bodyB,f,b=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,d=this.m_ground.m_xf.position.y+
this.m_groundAnchor1.y,g=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,h=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,i,j,p,k,l,n,m,q=0;this.m_state==e.dynamics.joints.B2Joint.e_atUpperLimit&&(f=a.m_xf.R,i=this.m_localAnchor1.x-a.m_sweep.localCenter.x,j=this.m_localAnchor1.y-a.m_sweep.localCenter.y,l=f.col1.x*i+f.col2.x*j,j=f.col1.y*i+f.col2.y*j,i=l,f=c.m_xf.R,p=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y,l=f.col1.x*p+f.col2.x*k,k=f.col1.y*
p+f.col2.y*k,p=l,f=a.m_sweep.c.x+i,l=a.m_sweep.c.y+j,n=c.m_sweep.c.x+p,m=c.m_sweep.c.y+k,this.m_u1.set(f-b,l-d),this.m_u2.set(n-g,m-h),f=this.m_u1.length(),l=this.m_u2.length(),f>e.common.B2Settings.b2_linearSlop?this.m_u1.multiply(1/f):this.m_u1.setZero(),l>e.common.B2Settings.b2_linearSlop?this.m_u2.multiply(1/l):this.m_u2.setZero(),f=this.m_constant-f-this.m_ratio*l,q=e.common.math.B2Math.max(q,-f),f=e.common.math.B2Math.clamp(f+e.common.B2Settings.b2_linearSlop,-e.common.B2Settings.b2_maxLinearCorrection,
0),m=-this.m_pulleyMass*f,f=-m*this.m_u1.x,l=-m*this.m_u1.y,n=-this.m_ratio*m*this.m_u2.x,m=-this.m_ratio*m*this.m_u2.y,a.m_sweep.c.x+=a.m_invMass*f,a.m_sweep.c.y+=a.m_invMass*l,a.m_sweep.a+=a.m_invI*(i*l-j*f),c.m_sweep.c.x+=c.m_invMass*n,c.m_sweep.c.y+=c.m_invMass*m,c.m_sweep.a+=c.m_invI*(p*m-k*n),a.synchronizeTransform(),c.synchronizeTransform());this.m_limitState1==e.dynamics.joints.B2Joint.e_atUpperLimit&&(f=a.m_xf.R,i=this.m_localAnchor1.x-a.m_sweep.localCenter.x,j=this.m_localAnchor1.y-a.m_sweep.localCenter.y,
l=f.col1.x*i+f.col2.x*j,j=f.col1.y*i+f.col2.y*j,i=l,f=a.m_sweep.c.x+i,l=a.m_sweep.c.y+j,this.m_u1.set(f-b,l-d),f=this.m_u1.length(),f>e.common.B2Settings.b2_linearSlop?(this.m_u1.x*=1/f,this.m_u1.y*=1/f):this.m_u1.setZero(),f=this.m_maxLength1-f,q=e.common.math.B2Math.max(q,-f),f=e.common.math.B2Math.clamp(f+e.common.B2Settings.b2_linearSlop,-e.common.B2Settings.b2_maxLinearCorrection,0),m=-this.m_limitMass1*f,f=-m*this.m_u1.x,l=-m*this.m_u1.y,a.m_sweep.c.x+=a.m_invMass*f,a.m_sweep.c.y+=a.m_invMass*
l,a.m_sweep.a+=a.m_invI*(i*l-j*f),a.synchronizeTransform());this.m_limitState2==e.dynamics.joints.B2Joint.e_atUpperLimit&&(f=c.m_xf.R,p=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y,l=f.col1.x*p+f.col2.x*k,k=f.col1.y*p+f.col2.y*k,p=l,n=c.m_sweep.c.x+p,m=c.m_sweep.c.y+k,this.m_u2.set(n-g,m-h),l=this.m_u2.length(),l>e.common.B2Settings.b2_linearSlop?(this.m_u2.x*=1/l,this.m_u2.y*=1/l):this.m_u2.setZero(),f=this.m_maxLength2-l,q=e.common.math.B2Math.max(q,
-f),f=e.common.math.B2Math.clamp(f+e.common.B2Settings.b2_linearSlop,-e.common.B2Settings.b2_maxLinearCorrection,0),m=-this.m_limitMass2*f,n=-m*this.m_u2.x,m=-m*this.m_u2.y,c.m_sweep.c.x+=c.m_invMass*n,c.m_sweep.c.y+=c.m_invMass*m,c.m_sweep.a+=c.m_invI*(p*m-k*n),c.synchronizeTransform());return q<e.common.B2Settings.b2_linearSlop},solveVelocityConstraints:function(){var a=this.m_bodyA,c=this.m_bodyB,f;f=a.m_xf.R;var b=this.m_localAnchor1.x-a.m_sweep.localCenter.x,d=this.m_localAnchor1.y-a.m_sweep.localCenter.y,
g=f.col1.x*b+f.col2.x*d,d=f.col1.y*b+f.col2.y*d,b=g;f=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,i=this.m_localAnchor2.y-c.m_sweep.localCenter.y,g=f.col1.x*h+f.col2.x*i,i=f.col1.y*h+f.col2.y*i,h=g,j,p;this.m_state==e.dynamics.joints.B2Joint.e_atUpperLimit&&(f=a.m_linearVelocity.x+-a.m_angularVelocity*d,g=a.m_linearVelocity.y+a.m_angularVelocity*b,j=c.m_linearVelocity.x+-c.m_angularVelocity*i,p=c.m_linearVelocity.y+c.m_angularVelocity*h,f=-(this.m_u1.x*f+this.m_u1.y*g)-this.m_ratio*
(this.m_u2.x*j+this.m_u2.y*p),p=this.m_pulleyMass*-f,f=this.m_impulse,this.m_impulse=e.common.math.B2Math.max(0,this.m_impulse+p),p=this.m_impulse-f,f=-p*this.m_u1.x,g=-p*this.m_u1.y,j=-this.m_ratio*p*this.m_u2.x,p=-this.m_ratio*p*this.m_u2.y,a.m_linearVelocity.x+=a.m_invMass*f,a.m_linearVelocity.y+=a.m_invMass*g,a.m_angularVelocity+=a.m_invI*(b*g-d*f),c.m_linearVelocity.x+=c.m_invMass*j,c.m_linearVelocity.y+=c.m_invMass*p,c.m_angularVelocity+=c.m_invI*(h*p-i*j));this.m_limitState1==e.dynamics.joints.B2Joint.e_atUpperLimit&&
(f=a.m_linearVelocity.x+-a.m_angularVelocity*d,g=a.m_linearVelocity.y+a.m_angularVelocity*b,f=-(this.m_u1.x*f+this.m_u1.y*g),p=-this.m_limitMass1*f,f=this.m_limitImpulse1,this.m_limitImpulse1=e.common.math.B2Math.max(0,this.m_limitImpulse1+p),p=this.m_limitImpulse1-f,f=-p*this.m_u1.x,g=-p*this.m_u1.y,a.m_linearVelocity.x+=a.m_invMass*f,a.m_linearVelocity.y+=a.m_invMass*g,a.m_angularVelocity+=a.m_invI*(b*g-d*f));this.m_limitState2==e.dynamics.joints.B2Joint.e_atUpperLimit&&(j=c.m_linearVelocity.x+
-c.m_angularVelocity*i,p=c.m_linearVelocity.y+c.m_angularVelocity*h,f=-(this.m_u2.x*j+this.m_u2.y*p),p=-this.m_limitMass2*f,f=this.m_limitImpulse2,this.m_limitImpulse2=e.common.math.B2Math.max(0,this.m_limitImpulse2+p),p=this.m_limitImpulse2-f,j=-p*this.m_u2.x,p=-p*this.m_u2.y,c.m_linearVelocity.x+=c.m_invMass*j,c.m_linearVelocity.y+=c.m_invMass*p,c.m_angularVelocity+=c.m_invI*(h*p-i*j))},initVelocityConstraints:function(a){var c=this.m_bodyA,f=this.m_bodyB,b;b=c.m_xf.R;var d=this.m_localAnchor1.x-
c.m_sweep.localCenter.x,g=this.m_localAnchor1.y-c.m_sweep.localCenter.y,h=b.col1.x*d+b.col2.x*g,g=b.col1.y*d+b.col2.y*g,d=h;b=f.m_xf.R;var i=this.m_localAnchor2.x-f.m_sweep.localCenter.x,j=this.m_localAnchor2.y-f.m_sweep.localCenter.y,h=b.col1.x*i+b.col2.x*j,j=b.col1.y*i+b.col2.y*j,i=h;b=f.m_sweep.c.x+i;var h=f.m_sweep.c.y+j,p=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,k=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.set(c.m_sweep.c.x+d-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),
c.m_sweep.c.y+g-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y));this.m_u2.set(b-p,h-k);b=this.m_u1.length();h=this.m_u2.length();b>e.common.B2Settings.b2_linearSlop?this.m_u1.multiply(1/b):this.m_u1.setZero();h>e.common.B2Settings.b2_linearSlop?this.m_u2.multiply(1/h):this.m_u2.setZero();0<this.m_constant-b-this.m_ratio*h?(this.m_state=e.dynamics.joints.B2Joint.e_inactiveLimit,this.m_impulse=0):this.m_state=e.dynamics.joints.B2Joint.e_atUpperLimit;b<this.m_maxLength1?(this.m_limitState1=e.dynamics.joints.B2Joint.e_inactiveLimit,
this.m_limitImpulse1=0):this.m_limitState1=e.dynamics.joints.B2Joint.e_atUpperLimit;h<this.m_maxLength2?(this.m_limitState2=e.dynamics.joints.B2Joint.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=e.dynamics.joints.B2Joint.e_atUpperLimit;b=d*this.m_u1.y-g*this.m_u1.x;h=i*this.m_u2.y-j*this.m_u2.x;this.m_limitMass1=c.m_invMass+c.m_invI*b*b;this.m_limitMass2=f.m_invMass+f.m_invI*h*h;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2;this.m_limitMass1=1/this.m_limitMass1;
this.m_limitMass2=1/this.m_limitMass2;this.m_pulleyMass=1/this.m_pulleyMass;a.warmStarting?(this.m_impulse*=a.dtRatio,this.m_limitImpulse1*=a.dtRatio,this.m_limitImpulse2*=a.dtRatio,a=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,b=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,h=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,p=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,c.m_linearVelocity.x+=c.m_invMass*a,c.m_linearVelocity.y+=c.m_invMass*b,c.m_angularVelocity+=
c.m_invI*(d*b-g*a),f.m_linearVelocity.x+=f.m_invMass*h,f.m_linearVelocity.y+=f.m_invMass*p,f.m_angularVelocity+=f.m_invI*(i*p-j*h)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},getRatio:function(){return this.m_ratio},getLength2:function(){var a=this.m_bodyB.getWorldPoint(this.m_localAnchor2),c=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x),a=a.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y);return Math.sqrt(c*c+a*a)},getLength1:function(){var a=this.m_bodyA.getWorldPoint(this.m_localAnchor1),
c=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),a=a.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);return Math.sqrt(c*c+a*a)},getGroundAnchorB:function(){var a=this.m_ground.m_xf.position.copy();a.add(this.m_groundAnchor2);return a},getGroundAnchorA:function(){var a=this.m_ground.m_xf.position.copy();a.add(this.m_groundAnchor1);return a},getReactionTorque:function(){return 0},getReactionForce:function(a){return new e.common.math.B2Vec2(a*this.m_impulse*this.m_u2.x,a*this.m_impulse*
this.m_u2.y)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},__class__:e.dynamics.joints.B2PulleyJoint});e.dynamics.joints.B2PulleyJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.groundAnchorA=new e.common.math.B2Vec2;this.groundAnchorB=new e.common.math.B2Vec2;this.localAnchorA=new e.common.math.B2Vec2;this.localAnchorB=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_pulleyJoint;
this.groundAnchorA.set(-1,1);this.groundAnchorB.set(1,1);this.localAnchorA.set(-1,0);this.localAnchorB.set(1,0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0};l["box2D.dynamics.joints.B2PulleyJointDef"]=e.dynamics.joints.B2PulleyJointDef;e.dynamics.joints.B2PulleyJointDef.__name__=["box2D","dynamics","joints","B2PulleyJointDef"];e.dynamics.joints.B2PulleyJointDef.__super__=e.dynamics.joints.B2JointDef;e.dynamics.joints.B2PulleyJointDef.prototype=
t(e.dynamics.joints.B2JointDef.prototype,{ratio:null,maxLengthB:null,lengthB:null,maxLengthA:null,lengthA:null,localAnchorB:null,localAnchorA:null,groundAnchorB:null,groundAnchorA:null,initialize:function(a,c,f,b,d,g,h){this.bodyA=a;this.bodyB=c;this.groundAnchorA.setV(f);this.groundAnchorB.setV(b);this.localAnchorA=this.bodyA.getLocalPoint(d);this.localAnchorB=this.bodyB.getLocalPoint(g);a=d.x-f.x;f=d.y-f.y;this.lengthA=Math.sqrt(a*a+f*f);f=g.x-b.x;b=g.y-b.y;this.lengthB=Math.sqrt(f*f+b*b);this.ratio=
h;h=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=h-this.ratio*e.dynamics.joints.B2PulleyJoint.b2_minPulleyLength;this.maxLengthB=(h-e.dynamics.joints.B2PulleyJoint.b2_minPulleyLength)/this.ratio},__class__:e.dynamics.joints.B2PulleyJointDef});e.dynamics.joints.B2RevoluteJoint=function(a){e.dynamics.joints.B2Joint.call(this,a);this.K=new e.common.math.B2Mat22;this.K1=new e.common.math.B2Mat22;this.K2=new e.common.math.B2Mat22;this.K3=new e.common.math.B2Mat22;this.impulse3=new e.common.math.B2Vec3;
this.impulse2=new e.common.math.B2Vec2;this.reduced=new e.common.math.B2Vec2;this.m_localAnchor1=new e.common.math.B2Vec2;this.m_localAnchor2=new e.common.math.B2Vec2;this.m_impulse=new e.common.math.B2Vec3;this.m_mass=new e.common.math.B2Mat33;this.m_localAnchor1.setV(a.localAnchorA);this.m_localAnchor2.setV(a.localAnchorB);this.m_referenceAngle=a.referenceAngle;this.m_impulse.setZero();this.m_motorImpulse=0;this.m_lowerAngle=a.lowerAngle;this.m_upperAngle=a.upperAngle;this.m_maxMotorTorque=a.maxMotorTorque;
this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit};l["box2D.dynamics.joints.B2RevoluteJoint"]=e.dynamics.joints.B2RevoluteJoint;e.dynamics.joints.B2RevoluteJoint.__name__=["box2D","dynamics","joints","B2RevoluteJoint"];e.dynamics.joints.B2RevoluteJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2RevoluteJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,{m_limitState:null,m_upperAngle:null,
m_lowerAngle:null,m_referenceAngle:null,m_enableLimit:null,m_motorSpeed:null,m_maxMotorTorque:null,m_enableMotor:null,m_motorMass:null,m_mass:null,m_motorImpulse:null,m_impulse:null,m_localAnchor2:null,m_localAnchor1:null,solvePositionConstraints:function(){var a,c,f=this.m_bodyA,b=this.m_bodyB,d=0;c=0;var g,h,i;if(this.m_enableLimit&&this.m_limitState!=e.dynamics.joints.B2Joint.e_inactiveLimit){a=b.m_sweep.a-f.m_sweep.a-this.m_referenceAngle;var j=0;this.m_limitState==e.dynamics.joints.B2Joint.e_equalLimits?
(a=e.common.math.B2Math.clamp(a-this.m_lowerAngle,-e.common.B2Settings.b2_maxAngularCorrection,e.common.B2Settings.b2_maxAngularCorrection),j=-this.m_motorMass*a,d=e.common.math.B2Math.abs(a)):this.m_limitState==e.dynamics.joints.B2Joint.e_atLowerLimit?(a-=this.m_lowerAngle,d=-a,a=e.common.math.B2Math.clamp(a+e.common.B2Settings.b2_angularSlop,-e.common.B2Settings.b2_maxAngularCorrection,0),j=-this.m_motorMass*a):this.m_limitState==e.dynamics.joints.B2Joint.e_atUpperLimit&&(d=a-=this.m_upperAngle,
a=e.common.math.B2Math.clamp(a-e.common.B2Settings.b2_angularSlop,0,e.common.B2Settings.b2_maxAngularCorrection),j=-this.m_motorMass*a);f.m_sweep.a-=f.m_invI*j;b.m_sweep.a+=b.m_invI*j;f.synchronizeTransform();b.synchronizeTransform()}c=f.m_xf.R;j=this.m_localAnchor1.x-f.m_sweep.localCenter.x;a=this.m_localAnchor1.y-f.m_sweep.localCenter.y;g=c.col1.x*j+c.col2.x*a;a=c.col1.y*j+c.col2.y*a;j=g;c=b.m_xf.R;var p=this.m_localAnchor2.x-b.m_sweep.localCenter.x,k=this.m_localAnchor2.y-b.m_sweep.localCenter.y;
g=c.col1.x*p+c.col2.x*k;k=c.col1.y*p+c.col2.y*k;p=g;h=b.m_sweep.c.x+p-f.m_sweep.c.x-j;i=b.m_sweep.c.y+k-f.m_sweep.c.y-a;var l=h*h+i*i;c=Math.sqrt(l);g=f.m_invMass;var m=b.m_invMass,n=f.m_invI,q=b.m_invI,r=10*e.common.B2Settings.b2_linearSlop;l>r*r&&(l=1/(g+m),h=l*-h,i=l*-i,f.m_sweep.c.x-=0.5*g*h,f.m_sweep.c.y-=0.5*g*i,b.m_sweep.c.x+=0.5*m*h,b.m_sweep.c.y+=0.5*m*i,h=b.m_sweep.c.x+p-f.m_sweep.c.x-j,i=b.m_sweep.c.y+k-f.m_sweep.c.y-a);this.K1.col1.x=g+m;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=
g+m;this.K2.col1.x=n*a*a;this.K2.col2.x=-n*j*a;this.K2.col1.y=-n*j*a;this.K2.col2.y=n*j*j;this.K3.col1.x=q*k*k;this.K3.col2.x=-q*p*k;this.K3.col1.y=-q*p*k;this.K3.col2.y=q*p*p;this.K.setM(this.K1);this.K.addM(this.K2);this.K.addM(this.K3);this.K.solve(e.dynamics.joints.B2RevoluteJoint.tImpulse,-h,-i);h=e.dynamics.joints.B2RevoluteJoint.tImpulse.x;i=e.dynamics.joints.B2RevoluteJoint.tImpulse.y;f.m_sweep.c.x-=f.m_invMass*h;f.m_sweep.c.y-=f.m_invMass*i;f.m_sweep.a-=f.m_invI*(j*i-a*h);b.m_sweep.c.x+=
b.m_invMass*h;b.m_sweep.c.y+=b.m_invMass*i;b.m_sweep.a+=b.m_invI*(p*i-k*h);f.synchronizeTransform();b.synchronizeTransform();return c<=e.common.B2Settings.b2_linearSlop&&d<=e.common.B2Settings.b2_angularSlop},solveVelocityConstraints:function(a){var c=this.m_bodyA,f=this.m_bodyB,b,d,g,h,i,j=c.m_linearVelocity,p=c.m_angularVelocity,k=f.m_linearVelocity,l=f.m_angularVelocity,m=c.m_invMass,n=f.m_invMass,q=c.m_invI,r=f.m_invI;this.m_enableMotor&&this.m_limitState!=e.dynamics.joints.B2Joint.e_equalLimits&&
(g=this.m_motorMass*-(l-p-this.m_motorSpeed),h=this.m_motorImpulse,a=a.dt*this.m_maxMotorTorque,this.m_motorImpulse=e.common.math.B2Math.clamp(this.m_motorImpulse+g,-a,a),g=this.m_motorImpulse-h,p-=q*g,l+=r*g);if(this.m_enableLimit&&this.m_limitState!=e.dynamics.joints.B2Joint.e_inactiveLimit){b=c.m_xf.R;g=this.m_localAnchor1.x-c.m_sweep.localCenter.x;h=this.m_localAnchor1.y-c.m_sweep.localCenter.y;d=b.col1.x*g+b.col2.x*h;h=b.col1.y*g+b.col2.y*h;g=d;b=f.m_xf.R;a=this.m_localAnchor2.x-f.m_sweep.localCenter.x;
i=this.m_localAnchor2.y-f.m_sweep.localCenter.y;d=b.col1.x*a+b.col2.x*i;i=b.col1.y*a+b.col2.y*i;a=d;d=k.x+-l*i-j.x- -p*h;var s=k.y+l*a-j.y-p*g;this.m_mass.solve33(this.impulse3,-d,-s,-(l-p));this.m_limitState==e.dynamics.joints.B2Joint.e_equalLimits?this.m_impulse.add(this.impulse3):this.m_limitState==e.dynamics.joints.B2Joint.e_atLowerLimit?(b=this.m_impulse.z+this.impulse3.z,0>b&&(this.m_mass.solve22(this.reduced,-d,-s),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=
-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==e.dynamics.joints.B2Joint.e_atUpperLimit&&(b=this.m_impulse.z+this.impulse3.z,0<b&&(this.m_mass.solve22(this.reduced,-d,-s),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0));j.x-=m*this.impulse3.x;j.y-=m*this.impulse3.y;p-=q*(g*this.impulse3.y-
h*this.impulse3.x+this.impulse3.z);k.x+=n*this.impulse3.x;k.y+=n*this.impulse3.y;l+=r*(a*this.impulse3.y-i*this.impulse3.x+this.impulse3.z)}else b=c.m_xf.R,g=this.m_localAnchor1.x-c.m_sweep.localCenter.x,h=this.m_localAnchor1.y-c.m_sweep.localCenter.y,d=b.col1.x*g+b.col2.x*h,h=b.col1.y*g+b.col2.y*h,g=d,b=f.m_xf.R,a=this.m_localAnchor2.x-f.m_sweep.localCenter.x,i=this.m_localAnchor2.y-f.m_sweep.localCenter.y,d=b.col1.x*a+b.col2.x*i,i=b.col1.y*a+b.col2.y*i,a=d,this.m_mass.solve22(this.impulse2,-(k.x+
-l*i-j.x- -p*h),-(k.y+l*a-j.y-p*g)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,j.x-=m*this.impulse2.x,j.y-=m*this.impulse2.y,p-=q*(g*this.impulse2.y-h*this.impulse2.x),k.x+=n*this.impulse2.x,k.y+=n*this.impulse2.y,l+=r*(a*this.impulse2.y-i*this.impulse2.x);c.m_linearVelocity.setV(j);c.m_angularVelocity=p;f.m_linearVelocity.setV(k);f.m_angularVelocity=l},reduced:null,impulse2:null,impulse3:null,initVelocityConstraints:function(a){var c=this.m_bodyA,f=this.m_bodyB,b,d;b=c.m_xf.R;
var g=this.m_localAnchor1.x-c.m_sweep.localCenter.x,h=this.m_localAnchor1.y-c.m_sweep.localCenter.y;d=b.col1.x*g+b.col2.x*h;h=b.col1.y*g+b.col2.y*h;g=d;b=f.m_xf.R;var i=this.m_localAnchor2.x-f.m_sweep.localCenter.x,j=this.m_localAnchor2.y-f.m_sweep.localCenter.y;d=b.col1.x*i+b.col2.x*j;j=b.col1.y*i+b.col2.y*j;i=d;b=c.m_invMass;d=f.m_invMass;var p=c.m_invI,k=f.m_invI;this.m_mass.col1.x=b+d+h*h*p+j*j*k;this.m_mass.col2.x=-h*g*p-j*i*k;this.m_mass.col3.x=-h*p-j*k;this.m_mass.col1.y=this.m_mass.col2.x;
this.m_mass.col2.y=b+d+g*g*p+i*i*k;this.m_mass.col3.y=g*p+i*k;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=p+k;this.m_motorMass=1/(p+k);!1==this.m_enableMotor&&(this.m_motorImpulse=0);if(this.m_enableLimit){var l=f.m_sweep.a-c.m_sweep.a-this.m_referenceAngle;e.common.math.B2Math.abs(this.m_upperAngle-this.m_lowerAngle)<2*e.common.B2Settings.b2_angularSlop?this.m_limitState=e.dynamics.joints.B2Joint.e_equalLimits:l<=this.m_lowerAngle?(this.m_limitState!=
e.dynamics.joints.B2Joint.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=e.dynamics.joints.B2Joint.e_atLowerLimit):l>=this.m_upperAngle?(this.m_limitState!=e.dynamics.joints.B2Joint.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=e.dynamics.joints.B2Joint.e_atUpperLimit):(this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=e.dynamics.joints.B2Joint.e_inactiveLimit;a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,
this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x,l=this.m_impulse.y,c.m_linearVelocity.x-=b*a,c.m_linearVelocity.y-=b*l,c.m_angularVelocity-=p*(g*l-h*a+this.m_motorImpulse+this.m_impulse.z),f.m_linearVelocity.x+=d*a,f.m_linearVelocity.y+=d*l,f.m_angularVelocity+=k*(i*l-j*a+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.setZero(),this.m_motorImpulse=0)},K3:null,K2:null,K1:null,K:null,getMotorTorque:function(){return this.m_maxMotorTorque},setMaxMotorTorque:function(a){this.m_maxMotorTorque=
a},getMotorSpeed:function(){return this.m_motorSpeed},setMotorSpeed:function(a){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);this.m_motorSpeed=a},enableMotor:function(a){this.m_enableMotor=a},isMotorEnabled:function(){this.m_bodyA.setAwake(!0);this.m_bodyB.setAwake(!0);return this.m_enableMotor},setLimits:function(a,c){this.m_lowerAngle=a;this.m_upperAngle=c},getUpperLimit:function(){return this.m_upperAngle},getLowerLimit:function(){return this.m_lowerAngle},enableLimit:function(a){this.m_enableLimit=
a},isLimitEnabled:function(){return this.m_enableLimit},getJointSpeed:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},getJointAngle:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},getReactionTorque:function(a){return a*this.m_impulse.z},getReactionForce:function(a){return new e.common.math.B2Vec2(a*this.m_impulse.x,a*this.m_impulse.y)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},
__class__:e.dynamics.joints.B2RevoluteJoint});e.dynamics.joints.B2RevoluteJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.localAnchorA=new e.common.math.B2Vec2;this.localAnchorB=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_revoluteJoint;this.localAnchorA.set(0,0);this.localAnchorB.set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1};l["box2D.dynamics.joints.B2RevoluteJointDef"]=e.dynamics.joints.B2RevoluteJointDef;
e.dynamics.joints.B2RevoluteJointDef.__name__=["box2D","dynamics","joints","B2RevoluteJointDef"];e.dynamics.joints.B2RevoluteJointDef.__super__=e.dynamics.joints.B2JointDef;e.dynamics.joints.B2RevoluteJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{maxMotorTorque:null,motorSpeed:null,enableMotor:null,upperAngle:null,lowerAngle:null,enableLimit:null,referenceAngle:null,localAnchorB:null,localAnchorA:null,initialize:function(a,c,f){this.bodyA=a;this.bodyB=c;this.localAnchorA=this.bodyA.getLocalPoint(f);
this.localAnchorB=this.bodyB.getLocalPoint(f);this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},__class__:e.dynamics.joints.B2RevoluteJointDef});e.dynamics.joints.B2WeldJoint=function(a){e.dynamics.joints.B2Joint.call(this,a);this.m_localAnchorA=new e.common.math.B2Vec2;this.m_localAnchorB=new e.common.math.B2Vec2;this.m_impulse=new e.common.math.B2Vec3;this.m_mass=new e.common.math.B2Mat33;this.m_localAnchorA.setV(a.localAnchorA);this.m_localAnchorB.setV(a.localAnchorB);this.m_referenceAngle=
a.referenceAngle;this.m_impulse.setZero();this.m_mass=new e.common.math.B2Mat33};l["box2D.dynamics.joints.B2WeldJoint"]=e.dynamics.joints.B2WeldJoint;e.dynamics.joints.B2WeldJoint.__name__=["box2D","dynamics","joints","B2WeldJoint"];e.dynamics.joints.B2WeldJoint.__super__=e.dynamics.joints.B2Joint;e.dynamics.joints.B2WeldJoint.prototype=t(e.dynamics.joints.B2Joint.prototype,{m_mass:null,m_impulse:null,m_referenceAngle:null,m_localAnchorB:null,m_localAnchorA:null,solvePositionConstraints:function(){var a,
c,f=this.m_bodyA,b=this.m_bodyB;a=f.m_xf.R;var d=this.m_localAnchorA.x-f.m_sweep.localCenter.x,g=this.m_localAnchorA.y-f.m_sweep.localCenter.y;c=a.col1.x*d+a.col2.x*g;g=a.col1.y*d+a.col2.y*g;d=c;a=b.m_xf.R;var h=this.m_localAnchorB.x-b.m_sweep.localCenter.x,i=this.m_localAnchorB.y-b.m_sweep.localCenter.y;c=a.col1.x*h+a.col2.x*i;i=a.col1.y*h+a.col2.y*i;h=c;a=f.m_invMass;c=b.m_invMass;var j=f.m_invI,p=b.m_invI,k=b.m_sweep.c.x+h-f.m_sweep.c.x-d,l=b.m_sweep.c.y+i-f.m_sweep.c.y-g,m=b.m_sweep.a-f.m_sweep.a-
this.m_referenceAngle,n=10*e.common.B2Settings.b2_linearSlop,q=Math.sqrt(k*k+l*l),r=e.common.math.B2Math.abs(m);q>n&&(j*=1,p*=1);this.m_mass.col1.x=a+c+g*g*j+i*i*p;this.m_mass.col2.x=-g*d*j-i*h*p;this.m_mass.col3.x=-g*j-i*p;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=a+c+d*d*j+h*h*p;this.m_mass.col3.y=d*j+h*p;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=j+p;n=new e.common.math.B2Vec3;this.m_mass.solve33(n,-k,-l,-m);f.m_sweep.c.x-=a*n.x;
f.m_sweep.c.y-=a*n.y;f.m_sweep.a-=j*(d*n.y-g*n.x+n.z);b.m_sweep.c.x+=c*n.x;b.m_sweep.c.y+=c*n.y;b.m_sweep.a+=p*(h*n.y-i*n.x+n.z);f.synchronizeTransform();b.synchronizeTransform();return q<=e.common.B2Settings.b2_linearSlop&&r<=e.common.B2Settings.b2_angularSlop},solveVelocityConstraints:function(){var a,c,f=this.m_bodyA,b=this.m_bodyB,d=f.m_linearVelocity,g=f.m_angularVelocity,h=b.m_linearVelocity,i=b.m_angularVelocity,j=f.m_invMass,p=b.m_invMass,k=f.m_invI,l=b.m_invI;a=f.m_xf.R;var n=this.m_localAnchorA.x-
f.m_sweep.localCenter.x,m=this.m_localAnchorA.y-f.m_sweep.localCenter.y;c=a.col1.x*n+a.col2.x*m;m=a.col1.y*n+a.col2.y*m;n=c;a=b.m_xf.R;var q=this.m_localAnchorB.x-b.m_sweep.localCenter.x,r=this.m_localAnchorB.y-b.m_sweep.localCenter.y;c=a.col1.x*q+a.col2.x*r;r=a.col1.y*q+a.col2.y*r;q=c;a=h.x-i*r-d.x+g*m;c=h.y+i*q-d.y-g*n;var s=i-g,t=new e.common.math.B2Vec3;this.m_mass.solve33(t,-a,-c,-s);this.m_impulse.add(t);d.x-=j*t.x;d.y-=j*t.y;g-=k*(n*t.y-m*t.x+t.z);h.x+=p*t.x;h.y+=p*t.y;i+=l*(q*t.y-r*t.x+t.z);
f.m_angularVelocity=g;b.m_angularVelocity=i},initVelocityConstraints:function(a){var c,f,b=this.m_bodyA,d=this.m_bodyB;c=b.m_xf.R;var e=this.m_localAnchorA.x-b.m_sweep.localCenter.x,h=this.m_localAnchorA.y-b.m_sweep.localCenter.y;f=c.col1.x*e+c.col2.x*h;h=c.col1.y*e+c.col2.y*h;e=f;c=d.m_xf.R;var i=this.m_localAnchorB.x-d.m_sweep.localCenter.x,j=this.m_localAnchorB.y-d.m_sweep.localCenter.y;f=c.col1.x*i+c.col2.x*j;j=c.col1.y*i+c.col2.y*j;i=f;c=b.m_invMass;f=d.m_invMass;var p=b.m_invI,k=d.m_invI;this.m_mass.col1.x=
c+f+h*h*p+j*j*k;this.m_mass.col2.x=-h*e*p-j*i*k;this.m_mass.col3.x=-h*p-j*k;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=c+f+e*e*p+i*i*k;this.m_mass.col3.y=e*p+i*k;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=p+k;a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_impulse.z*=a.dtRatio,b.m_linearVelocity.x-=c*this.m_impulse.x,b.m_linearVelocity.y-=c*this.m_impulse.y,b.m_angularVelocity-=p*(e*this.m_impulse.y-h*
this.m_impulse.x+this.m_impulse.z),d.m_linearVelocity.x+=f*this.m_impulse.x,d.m_linearVelocity.y+=f*this.m_impulse.y,d.m_angularVelocity+=k*(i*this.m_impulse.y-j*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.setZero()},getReactionTorque:function(a){return a*this.m_impulse.z},getReactionForce:function(a){return new e.common.math.B2Vec2(a*this.m_impulse.x,a*this.m_impulse.y)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},
__class__:e.dynamics.joints.B2WeldJoint});e.dynamics.joints.B2WeldJointDef=function(){e.dynamics.joints.B2JointDef.call(this);this.localAnchorA=new e.common.math.B2Vec2;this.localAnchorB=new e.common.math.B2Vec2;this.type=e.dynamics.joints.B2Joint.e_weldJoint;this.referenceAngle=0};l["box2D.dynamics.joints.B2WeldJointDef"]=e.dynamics.joints.B2WeldJointDef;e.dynamics.joints.B2WeldJointDef.__name__=["box2D","dynamics","joints","B2WeldJointDef"];e.dynamics.joints.B2WeldJointDef.__super__=e.dynamics.joints.B2JointDef;
e.dynamics.joints.B2WeldJointDef.prototype=t(e.dynamics.joints.B2JointDef.prototype,{referenceAngle:null,localAnchorB:null,localAnchorA:null,initialize:function(a,c,f){this.bodyA=a;this.bodyB=c;this.localAnchorA.setV(this.bodyA.getLocalPoint(f));this.localAnchorB.setV(this.bodyB.getLocalPoint(f));this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},__class__:e.dynamics.joints.B2WeldJointDef});var b={eclecticdesignstudio:{}};b.eclecticdesignstudio.motion={};b.eclecticdesignstudio.motion.actuators=
{};b.eclecticdesignstudio.motion.actuators.IGenericActuator=function(){};l["com.eclecticdesignstudio.motion.actuators.IGenericActuator"]=b.eclecticdesignstudio.motion.actuators.IGenericActuator;b.eclecticdesignstudio.motion.actuators.IGenericActuator.__name__=["com","eclecticdesignstudio","motion","actuators","IGenericActuator"];b.eclecticdesignstudio.motion.actuators.IGenericActuator.prototype={snapping:null,smartRotation:null,reverse:null,repeat:null,reflect:null,onUpdate:null,onRepeat:null,onComplete:null,
ease:null,delay:null,autoVisible:null,__class__:b.eclecticdesignstudio.motion.actuators.IGenericActuator};b.eclecticdesignstudio.motion.actuators.GenericActuator=function(a,c,f){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=a;this.properties=f;this.duration=c;this._ease=b.eclecticdesignstudio.motion.Actuate.defaultEase};l["com.eclecticdesignstudio.motion.actuators.GenericActuator"]=b.eclecticdesignstudio.motion.actuators.GenericActuator;
b.eclecticdesignstudio.motion.actuators.GenericActuator.__name__=["com","eclecticdesignstudio","motion","actuators","GenericActuator"];b.eclecticdesignstudio.motion.actuators.GenericActuator.__interfaces__=[b.eclecticdesignstudio.motion.actuators.IGenericActuator];b.eclecticdesignstudio.motion.actuators.GenericActuator.prototype={stop:function(){},snapping:function(a){null==a&&(a=!0);this._snapping=a;this.special=!0;return this},smartRotation:function(a){null==a&&(a=!0);this._smartRotation=a;this.special=
!0;return this},reverse:function(a){null==a&&(a=!0);this._reverse=a;this.special=!0;return this},resume:function(){},repeat:function(a){null==a&&(a=-1);this._repeat=a;return this},reflect:function(a){null==a&&(a=!0);this._reflect=a;this.special=!0;return this},pause:function(){},onUpdate:function(a,c){this._onUpdate=a;this._onUpdateParams=c;return this},onRepeat:function(a,c){this._onRepeat=a;this._onRepeatParams=c;return this},onComplete:function(a,c){this._onComplete=a;this._onCompleteParams=c;
0==this.duration&&this.complete();return this},move:function(){},ease:function(a){this._ease=a;return this},delay:function(a){this._delay=a;return this},complete:function(a){null==a&&(a=!0);a&&(this.change(),null!=this._onComplete&&this._onComplete.apply(this._onComplete,this._onCompleteParams));b.eclecticdesignstudio.motion.Actuate.unload(this)},change:function(){null!=this._onUpdate&&this._onUpdate.apply(this._onUpdate,this._onUpdateParams)},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=
a;return this},apply:function(){for(var a=0,c=w.fields(this.properties);a<c.length;){var f=c[a];++a;w.hasField(this.target,f)?this.target[f]=w.field(this.properties,f):w.setProperty(this.target,f,w.field(this.properties,f))}},special:null,_snapping:null,_smartRotation:null,_reverse:null,_repeat:null,_reflect:null,_onUpdateParams:null,_onUpdate:null,_onRepeatParams:null,_onRepeat:null,_onCompleteParams:null,_onComplete:null,_ease:null,_delay:null,_autoVisible:null,target:null,properties:null,id:null,
duration:null,__class__:b.eclecticdesignstudio.motion.actuators.GenericActuator};b.eclecticdesignstudio.motion.actuators.SimpleActuator=function(a,c,f){this.active=!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=d.Lib.getTimer()/1E3;b.eclecticdesignstudio.motion.actuators.GenericActuator.call(this,a,c,f);null==b.eclecticdesignstudio.motion.actuators.SimpleActuator.shape&&(b.eclecticdesignstudio.motion.actuators.SimpleActuator.shape=
new d.display.Shape,s.Lib.nmeGetCurrent().getStage().addEventListener(d.events.Event.ENTER_FRAME,b.eclecticdesignstudio.motion.actuators.SimpleActuator.shape_onEnterFrame))};l["com.eclecticdesignstudio.motion.actuators.SimpleActuator"]=b.eclecticdesignstudio.motion.actuators.SimpleActuator;b.eclecticdesignstudio.motion.actuators.SimpleActuator.__name__=["com","eclecticdesignstudio","motion","actuators","SimpleActuator"];b.eclecticdesignstudio.motion.actuators.SimpleActuator.shape=null;b.eclecticdesignstudio.motion.actuators.SimpleActuator.shape_onEnterFrame=
function(){for(var a=d.Lib.getTimer()/1E3,c,f=0,e=0,o=b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuatorsLength;e<o;)e++,c=b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuators[f],c.active?(a>c.timeOffset&&c.update(a),f++):(b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuators.splice(f,1),--b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuatorsLength)};b.eclecticdesignstudio.motion.actuators.SimpleActuator.__super__=b.eclecticdesignstudio.motion.actuators.GenericActuator;
b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype=t(b.eclecticdesignstudio.motion.actuators.GenericActuator.prototype,{update:function(a){if(!this.paused){var c,f,b=(a-this.timeOffset)/this.duration;1<b&&(b=1);this.initialized||this.initialize();if(this.special){f=this._reverse?this._ease.calculate(1-b):this._ease.calculate(b);for(var d,e=0,h=this.detailsLength;e<h;)c=e++,c=this.propertyDetails[c],this._smartRotation&&("rotation"==c.propertyName||"rotationX"==c.propertyName||"rotationY"==
c.propertyName||"rotationZ"==c.propertyName)?(d=c.change%360,180<d?d-=360:-180>d&&(d+=360),d=c.start+d*f):d=c.start+c.change*f,this._snapping?c.isField?c.target[c.propertyName]=Math.round(d):w.setProperty(c.target,c.propertyName,Math.round(d)):c.isField?c.target[c.propertyName]=d:w.setProperty(c.target,c.propertyName,d)}else{f=this._ease.calculate(b);for(var e=0,h=this.detailsLength;e<h;)c=e++,c=this.propertyDetails[c],c.isField?c.target[c.propertyName]=c.start+c.change*f:w.setProperty(c.target,c.propertyName,
c.start+c.change*f)}if(1==b){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.target.alpha&&(this.target.visible=!1);this.complete(!0);return}null!=this._onRepeat&&this._onRepeat.apply(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},stop:function(a,c,f){if(this.active)if(null==a)this.active=!1,c&&this.apply(),this.complete(f);
else for(var b=0,a=w.fields(a);b<a.length;){var d=a[b];++b;if(w.hasField(this.properties,d)){this.active=!1;c&&this.apply();this.complete(f);break}}},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(d.Lib.getTimer()-this.pauseTime)/1E3)},pause:function(){this.paused=!0;this.pauseTime=d.Lib.getTimer()},onUpdate:function(a,c){this._onUpdate=a;this._onUpdateParams=c;this.sendChange=!0;return this},move:function(){if((this.toggleVisible=w.hasField(this.properties,"alpha")&&n.Boot.__instanceof(this.target,
d.display.DisplayObject))&&!this.target.visible&&0!=this.properties.alpha)this.setVisible=!0,this.cacheVisible=this.target.visible,this.target.visible=!0;this.timeOffset=this.startTime;b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuators.push(this);++b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuatorsLength},initialize:function(){for(var a,c=0,f=w.fields(this.properties);c<f.length;){var d=f[c];++c;var e=!0;w.hasField(this.target,d)?a=w.field(this.target,d):(e=!1,a=w.getProperty(this.target,
d));a=new b.eclecticdesignstudio.motion.actuators.PropertyDetails(this.target,d,a,w.field(this.properties,d)-a,e);this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},delay:function(a){this._delay=a;this.timeOffset=this.startTime+a;return this},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;a||(this.toggleVisible=!1,this.setVisible&&(this.target.visible=this.cacheVisible));return this},toggleVisible:null,startTime:null,setVisible:null,sendChange:null,
propertyDetails:null,pauseTime:null,paused:null,initialized:null,detailsLength:null,cacheVisible:null,active:null,timeOffset:null,__class__:b.eclecticdesignstudio.motion.actuators.SimpleActuator});b.eclecticdesignstudio.motion.easing={};b.eclecticdesignstudio.motion.easing.Expo=function(){};l["com.eclecticdesignstudio.motion.easing.Expo"]=b.eclecticdesignstudio.motion.easing.Expo;b.eclecticdesignstudio.motion.easing.Expo.__name__=["com","eclecticdesignstudio","motion","easing","Expo"];b.eclecticdesignstudio.motion.easing.Expo.__properties__=
{get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",get_easeIn:"getEaseIn"};b.eclecticdesignstudio.motion.easing.Expo.easeIn=null;b.eclecticdesignstudio.motion.easing.Expo.easeInOut=null;b.eclecticdesignstudio.motion.easing.Expo.easeOut=null;b.eclecticdesignstudio.motion.easing.Expo.getEaseIn=function(){return new b.eclecticdesignstudio.motion.easing.ExpoEaseIn};b.eclecticdesignstudio.motion.easing.Expo.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.ExpoEaseInOut};b.eclecticdesignstudio.motion.easing.Expo.getEaseOut=
function(){return new b.eclecticdesignstudio.motion.easing.ExpoEaseOut};b.eclecticdesignstudio.motion.easing.IEasing=function(){};l["com.eclecticdesignstudio.motion.easing.IEasing"]=b.eclecticdesignstudio.motion.easing.IEasing;b.eclecticdesignstudio.motion.easing.IEasing.__name__=["com","eclecticdesignstudio","motion","easing","IEasing"];b.eclecticdesignstudio.motion.easing.IEasing.prototype={ease:null,calculate:null,__class__:b.eclecticdesignstudio.motion.easing.IEasing};b.eclecticdesignstudio.motion.easing.ExpoEaseOut=
function(){};l["com.eclecticdesignstudio.motion.easing.ExpoEaseOut"]=b.eclecticdesignstudio.motion.easing.ExpoEaseOut;b.eclecticdesignstudio.motion.easing.ExpoEaseOut.__name__=["com","eclecticdesignstudio","motion","easing","ExpoEaseOut"];b.eclecticdesignstudio.motion.easing.ExpoEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.ExpoEaseOut.prototype={ease:function(a,c,f,b){return a==b?c+f:f*(1-Math.pow(2,-10*a/b))+c},calculate:function(a){return 1==
a?1:1-Math.pow(2,-10*a)},__class__:b.eclecticdesignstudio.motion.easing.ExpoEaseOut};b.eclecticdesignstudio.motion._Actuate={};b.eclecticdesignstudio.motion._Actuate.ObjectHash=function(){this.hash=new B};l["com.eclecticdesignstudio.motion._Actuate.ObjectHash"]=b.eclecticdesignstudio.motion._Actuate.ObjectHash;b.eclecticdesignstudio.motion._Actuate.ObjectHash.__name__=["com","eclecticdesignstudio","motion","_Actuate","ObjectHash"];b.eclecticdesignstudio.motion._Actuate.ObjectHash.prototype={set:function(a,
c){this.hash.set(function(){null==a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___}(this),c)},remove:function(a){this.hash.remove(function(){null==a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&
(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___}(this))},iterator:function(){return this.hash.iterator()},getID:function(a){null==a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___},get:function(a){return this.hash.get(function(){null==a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,
1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___}(this))},exists:function(a){return this.hash.exists(function(){null==a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___}(this))},hash:null,
__class__:b.eclecticdesignstudio.motion._Actuate.ObjectHash};b.eclecticdesignstudio.motion.Actuate=function(){};l["com.eclecticdesignstudio.motion.Actuate"]=b.eclecticdesignstudio.motion.Actuate;b.eclecticdesignstudio.motion.Actuate.__name__=["com","eclecticdesignstudio","motion","Actuate"];b.eclecticdesignstudio.motion.Actuate.apply=function(a,c,f){b.eclecticdesignstudio.motion.Actuate.stop(a,c);null==f&&(f=b.eclecticdesignstudio.motion.Actuate.defaultActuator);a=b.eclecticdesignstudio.motion.Actuate.createInstance(f,
a,0,c);a.apply();return a};b.eclecticdesignstudio.motion.Actuate.createInstance=function(a,c,f,d){return a==b.eclecticdesignstudio.motion.actuators.SimpleActuator?new b.eclecticdesignstudio.motion.actuators.SimpleActuator(c,f,d):a==b.eclecticdesignstudio.motion.actuators.FilterActuator?new b.eclecticdesignstudio.motion.actuators.FilterActuator(c,f,d):a==b.eclecticdesignstudio.motion.actuators.TransformActuator?new b.eclecticdesignstudio.motion.actuators.TransformActuator(c,f,d):a==b.eclecticdesignstudio.motion.actuators.MethodActuator?
new b.eclecticdesignstudio.motion.actuators.MethodActuator(c,f,d):null};b.eclecticdesignstudio.motion.Actuate.effects=function(a,c,f){null==f&&(f=!0);return new b.eclecticdesignstudio.motion._Actuate.EffectsOptions(a,c,f)};b.eclecticdesignstudio.motion.Actuate.getLibrary=function(a){b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.exists(function(){null==a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&
(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___}(this))||b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.set(function(){null==a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___}(this),[]);return b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.get(function(){null==
a.___id___&&(a.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return a.___id___}(this))};b.eclecticdesignstudio.motion.Actuate.pause=function(a){if(n.Boot.__instanceof(a,b.eclecticdesignstudio.motion.actuators.GenericActuator))n.Boot.__cast(a,b.eclecticdesignstudio.motion.actuators.GenericActuator).pause();else for(var a=b.eclecticdesignstudio.motion.Actuate.getLibrary(a),
c=0;c<a.length;){var f=a[c];++c;f.pause()}};b.eclecticdesignstudio.motion.Actuate.pauseAll=function(){for(var a=b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.iterator();a.hasNext();)for(var c=a.next(),f=0;f<c.length;){var d=c[f];++f;d.pause()}};b.eclecticdesignstudio.motion.Actuate.reset=function(){for(var a=b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.iterator();a.hasNext();)for(var c=a.next(),f=0;f<c.length;){var d=c[f];++f;d.stop(null,!1,!1)}b.eclecticdesignstudio.motion.Actuate.targetLibraries=
new b.eclecticdesignstudio.motion._Actuate.ObjectHash};b.eclecticdesignstudio.motion.Actuate.resume=function(a){if(n.Boot.__instanceof(a,b.eclecticdesignstudio.motion.actuators.GenericActuator))n.Boot.__cast(a,b.eclecticdesignstudio.motion.actuators.GenericActuator).resume();else for(var a=b.eclecticdesignstudio.motion.Actuate.getLibrary(a),c=0;c<a.length;){var f=a[c];++c;f.resume()}};b.eclecticdesignstudio.motion.Actuate.resumeAll=function(){for(var a=b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.iterator();a.hasNext();)for(var c=
a.next(),f=0;f<c.length;){var d=c[f];++f;d.resume()}};b.eclecticdesignstudio.motion.Actuate.stop=function(a,c,f,d){null==d&&(d=!0);null==f&&(f=!1);if(null!=a)if(n.Boot.__instanceof(a,b.eclecticdesignstudio.motion.actuators.GenericActuator))n.Boot.__cast(a,b.eclecticdesignstudio.motion.actuators.GenericActuator).stop(null,f,d);else{a=b.eclecticdesignstudio.motion.Actuate.getLibrary(a);if(n.Boot.__instanceof(c,String)){var e={};e[c]=null;c=e}else if(n.Boot.__instanceof(c,Array)){for(var e={},g=0,c=
w.fields(c);g<c.length;){var h=c[g];++g;e[h]=null}c=e}for(g=0;g<a.length;)e=a[g],++g,e.stop(c,f,d)}};b.eclecticdesignstudio.motion.Actuate.timer=function(a,c){return b.eclecticdesignstudio.motion.Actuate.tween(new b.eclecticdesignstudio.motion._Actuate.TweenTimer(0),a,new b.eclecticdesignstudio.motion._Actuate.TweenTimer(1),!1,c)};b.eclecticdesignstudio.motion.Actuate.transform=function(a,c,f){null==f&&(f=!0);null==c&&(c=0);return new b.eclecticdesignstudio.motion._Actuate.TransformOptions(a,c,f)};
b.eclecticdesignstudio.motion.Actuate.tween=function(a,c,f,d,e){null==d&&(d=!0);if(null!=a){if(0<c){null==e&&(e=b.eclecticdesignstudio.motion.Actuate.defaultActuator);a=b.eclecticdesignstudio.motion.Actuate.createInstance(e,a,c,f);c=b.eclecticdesignstudio.motion.Actuate.getLibrary(a.target);if(d)for(d=0;d<c.length;)f=c[d],++d,f.stop(a.properties,!1,!1);c.push(a);a.move();return a}return b.eclecticdesignstudio.motion.Actuate.apply(a,f,e)}return null};b.eclecticdesignstudio.motion.Actuate.unload=function(a){var c=
a.target;b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.exists(function(){null==c.___id___&&(c.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return c.___id___}(this))&&(x.remove(b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.get(function(){null==c.___id___&&(c.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,
1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return c.___id___}(this)),a),0==b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.get(function(){null==c.___id___&&(c.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return c.___id___}(this)).length&&
b.eclecticdesignstudio.motion.Actuate.targetLibraries.hash.remove(function(){null==c.___id___&&(c.___id___=b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID++,1073741823==b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID&&(b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0));return c.___id___}(this)))};b.eclecticdesignstudio.motion.Actuate.update=function(a,c,f,d,e){null==e&&(e=!0);return b.eclecticdesignstudio.motion.Actuate.tween(a,c,{start:f,end:d},e,b.eclecticdesignstudio.motion.actuators.MethodActuator)};
b.eclecticdesignstudio.motion._Actuate.EffectsOptions=function(a,c,f){this.target=a;this.duration=c;this.overwrite=f};l["com.eclecticdesignstudio.motion._Actuate.EffectsOptions"]=b.eclecticdesignstudio.motion._Actuate.EffectsOptions;b.eclecticdesignstudio.motion._Actuate.EffectsOptions.__name__=["com","eclecticdesignstudio","motion","_Actuate","EffectsOptions"];b.eclecticdesignstudio.motion._Actuate.EffectsOptions.prototype={filter:function(a,c){c.filter=a;return b.eclecticdesignstudio.motion.Actuate.tween(this.target,
this.duration,c,this.overwrite,b.eclecticdesignstudio.motion.actuators.FilterActuator)},target:null,overwrite:null,duration:null,__class__:b.eclecticdesignstudio.motion._Actuate.EffectsOptions};b.eclecticdesignstudio.motion._Actuate.TransformOptions=function(a,c,f){this.target=a;this.duration=c;this.overwrite=f};l["com.eclecticdesignstudio.motion._Actuate.TransformOptions"]=b.eclecticdesignstudio.motion._Actuate.TransformOptions;b.eclecticdesignstudio.motion._Actuate.TransformOptions.__name__=["com",
"eclecticdesignstudio","motion","_Actuate","TransformOptions"];b.eclecticdesignstudio.motion._Actuate.TransformOptions.prototype={sound:function(a,c){var f={};null!=a&&(f.soundVolume=a);null!=c&&(f.soundPan=c);return b.eclecticdesignstudio.motion.Actuate.tween(this.target,this.duration,f,this.overwrite,b.eclecticdesignstudio.motion.actuators.TransformActuator)},color:function(a,c,f){null==c&&(c=1);null==a&&(a=0);a={colorValue:a,colorStrength:c};null!=f&&(a.colorAlpha=f);return b.eclecticdesignstudio.motion.Actuate.tween(this.target,
this.duration,a,this.overwrite,b.eclecticdesignstudio.motion.actuators.TransformActuator)},target:null,overwrite:null,duration:null,__class__:b.eclecticdesignstudio.motion._Actuate.TransformOptions};b.eclecticdesignstudio.motion._Actuate.TweenTimer=function(a){this.progress=a};l["com.eclecticdesignstudio.motion._Actuate.TweenTimer"]=b.eclecticdesignstudio.motion._Actuate.TweenTimer;b.eclecticdesignstudio.motion._Actuate.TweenTimer.__name__=["com","eclecticdesignstudio","motion","_Actuate","TweenTimer"];
b.eclecticdesignstudio.motion._Actuate.TweenTimer.prototype={progress:null,__class__:b.eclecticdesignstudio.motion._Actuate.TweenTimer};b.eclecticdesignstudio.motion.actuators.FilterActuator=function(a,c,f){this.filterIndex=-1;b.eclecticdesignstudio.motion.actuators.SimpleActuator.call(this,a,c,f);if(n.Boot.__instanceof(f.filter,S)){this.filterClass=f.filter;c=0;for(a=n.Boot.__cast(a,d.display.DisplayObject).jeashGetFilters();c<a.length;)f=a[c],++c,n.Boot.__instanceof(f,this.filterClass)&&(this.filter=
f)}else this.filterIndex=f.filter,this.filter=n.Boot.__cast(a,d.display.DisplayObject).jeashGetFilters()[this.filterIndex]};l["com.eclecticdesignstudio.motion.actuators.FilterActuator"]=b.eclecticdesignstudio.motion.actuators.FilterActuator;b.eclecticdesignstudio.motion.actuators.FilterActuator.__name__=["com","eclecticdesignstudio","motion","actuators","FilterActuator"];b.eclecticdesignstudio.motion.actuators.FilterActuator.__super__=b.eclecticdesignstudio.motion.actuators.SimpleActuator;b.eclecticdesignstudio.motion.actuators.FilterActuator.prototype=
t(b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype,{update:function(a){b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype.update.call(this,a);a=n.Boot.__cast(this.target,d.display.DisplayObject).jeashGetFilters();if(-1<this.filterIndex)a[this.properties.filter]=this.filter;else for(var c=0,f=a.length;c<f;){var e=c++;n.Boot.__instanceof(a[e],this.filterClass)&&(a[e]=this.filter)}this.target.filters=a},initialize:function(){for(var a,c=0,f=w.fields(this.properties);c<f.length;){var d=
f[c];++c;"filter"!=d&&(a=w.field(this.filter,d),a=new b.eclecticdesignstudio.motion.actuators.PropertyDetails(this.filter,d,a,w.field(this.properties,d)-a),this.propertyDetails.push(a))}this.detailsLength=this.propertyDetails.length;this.initialized=!0},apply:function(){for(var a=0,c=w.fields(this.properties);a<c.length;){var f=c[a];++a;"filter"!=f&&(this.filter[f]=w.field(this.properties,f))}a=this.target.filters;a[this.properties.filter]=this.filter;this.target.filters=a},filterIndex:null,filterClass:null,
filter:null,__class__:b.eclecticdesignstudio.motion.actuators.FilterActuator});b.eclecticdesignstudio.motion.actuators.MethodActuator=function(a,c,f){this.currentParameters=[];this.tweenProperties={};b.eclecticdesignstudio.motion.actuators.SimpleActuator.call(this,a,c,f);w.hasField(f,"start")||(this.properties.start=[]);w.hasField(f,"end")||(this.properties.end=this.properties.start);a=0;for(c=this.properties.start.length;a<c;)a++,this.currentParameters.push(null)};l["com.eclecticdesignstudio.motion.actuators.MethodActuator"]=
b.eclecticdesignstudio.motion.actuators.MethodActuator;b.eclecticdesignstudio.motion.actuators.MethodActuator.__name__=["com","eclecticdesignstudio","motion","actuators","MethodActuator"];b.eclecticdesignstudio.motion.actuators.MethodActuator.__super__=b.eclecticdesignstudio.motion.actuators.SimpleActuator;b.eclecticdesignstudio.motion.actuators.MethodActuator.prototype=t(b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype,{update:function(a){b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype.update.call(this,
a);if(this.active){for(var a=0,c=this.properties.start.length;a<c;){var f=a++;this.currentParameters[f]=w.field(this.tweenProperties,"param"+f)}this.target.apply(null,this.currentParameters)}},initialize:function(){for(var a,c,f=0,d=this.properties.start.length;f<d;){var e=f++;a="param"+e;c=this.properties.start[e];this.tweenProperties[a]=c;if(n.Boot.__instanceof(c,P)||n.Boot.__instanceof(c,R))a=new b.eclecticdesignstudio.motion.actuators.PropertyDetails(this.tweenProperties,a,c,this.properties.end[e]-
c),this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},complete:function(a){null==a&&(a=!0);for(var c=0,f=this.properties.start.length;c<f;){var d=c++;this.currentParameters[d]=w.field(this.tweenProperties,"param"+d)}this.target.apply(null,this.currentParameters);b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype.complete.call(this,a)},apply:function(){this.target.apply(null,this.properties.end)},tweenProperties:null,currentParameters:null,
__class__:b.eclecticdesignstudio.motion.actuators.MethodActuator});b.eclecticdesignstudio.motion.actuators.PropertyDetails=function(a,c,f,b,d){null==d&&(d=!0);this.target=a;this.propertyName=c;this.start=f;this.change=b;this.isField=d};l["com.eclecticdesignstudio.motion.actuators.PropertyDetails"]=b.eclecticdesignstudio.motion.actuators.PropertyDetails;b.eclecticdesignstudio.motion.actuators.PropertyDetails.__name__=["com","eclecticdesignstudio","motion","actuators","PropertyDetails"];b.eclecticdesignstudio.motion.actuators.PropertyDetails.prototype=
{target:null,start:null,propertyName:null,isField:null,change:null,__class__:b.eclecticdesignstudio.motion.actuators.PropertyDetails};b.eclecticdesignstudio.motion.actuators.TransformActuator=function(a,c,f){b.eclecticdesignstudio.motion.actuators.SimpleActuator.call(this,a,c,f)};l["com.eclecticdesignstudio.motion.actuators.TransformActuator"]=b.eclecticdesignstudio.motion.actuators.TransformActuator;b.eclecticdesignstudio.motion.actuators.TransformActuator.__name__=["com","eclecticdesignstudio",
"motion","actuators","TransformActuator"];b.eclecticdesignstudio.motion.actuators.TransformActuator.__super__=b.eclecticdesignstudio.motion.actuators.SimpleActuator;b.eclecticdesignstudio.motion.actuators.TransformActuator.prototype=t(b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype,{update:function(a){b.eclecticdesignstudio.motion.actuators.SimpleActuator.prototype.update.call(this,a);null!=this.endColorTransform&&(this.target.transform.colorTransform=this.tweenColorTransform);null!=
this.endSoundTransform&&(this.target.soundTransform=this.tweenSoundTransform)},initializeSound:function(){var a=this.target.soundTransform;this.endSoundTransform=this.target.soundTransform;this.tweenSoundTransform=new d.media.SoundTransform;w.hasField(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new b.eclecticdesignstudio.motion.actuators.PropertyDetails(this.tweenSoundTransform,"volume",a.volume,this.endSoundTransform.volume-
a.volume)));w.hasField(this.properties,"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new b.eclecticdesignstudio.motion.actuators.PropertyDetails(this.tweenSoundTransform,"pan",a.pan,this.endSoundTransform.pan-a.pan)))},initializeColor:function(){this.endColorTransform=new d.geom.ColorTransform;var a=this.properties.colorValue,c=this.properties.colorStrength;if(1>c){var f;0.5>c?(f=1,c*=2):(f=1-2*(c-0.5),c=1);this.endColorTransform.redMultiplier=f;this.endColorTransform.greenMultiplier=
f;this.endColorTransform.blueMultiplier=f;this.endColorTransform.redOffset=c*(a>>16&255);this.endColorTransform.greenOffset=c*(a>>8&255);this.endColorTransform.blueOffset=c*(a&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=0,this.endColorTransform.redOffset=a>>16&255,this.endColorTransform.greenOffset=a>>8&255,this.endColorTransform.blueOffset=a&255;a="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");
w.hasField(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,a.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=this.target.alpha;f=this.target.transform.colorTransform;this.tweenColorTransform=new d.geom.ColorTransform;for(var e,c=0;c<a.length;){var o=a[c];++c;e=w.field(f,o);e=new b.eclecticdesignstudio.motion.actuators.PropertyDetails(this.tweenColorTransform,o,e,w.field(this.endColorTransform,o)-e);this.propertyDetails.push(e)}},initialize:function(){w.hasField(this.properties,
"colorValue")&&n.Boot.__instanceof(this.target,d.display.DisplayObject)&&this.initializeColor();(w.hasField(this.properties,"soundVolume")||w.hasField(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},apply:function(){this.initialize();null!=this.endColorTransform&&(this.target.transform.colorTransform=this.endColorTransform);null!=this.endSoundTransform&&(this.target.soundTransform=this.endSoundTransform)},tweenSoundTransform:null,
tweenColorTransform:null,endSoundTransform:null,endColorTransform:null,__class__:b.eclecticdesignstudio.motion.actuators.TransformActuator});b.eclecticdesignstudio.motion.easing.Back=function(){};l["com.eclecticdesignstudio.motion.easing.Back"]=b.eclecticdesignstudio.motion.easing.Back;b.eclecticdesignstudio.motion.easing.Back.__name__=["com","eclecticdesignstudio","motion","easing","Back"];b.eclecticdesignstudio.motion.easing.Back.__properties__={get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",
get_easeIn:"getEaseIn"};b.eclecticdesignstudio.motion.easing.Back.easeIn=null;b.eclecticdesignstudio.motion.easing.Back.easeInOut=null;b.eclecticdesignstudio.motion.easing.Back.easeOut=null;b.eclecticdesignstudio.motion.easing.Back.getEaseIn=function(){return new b.eclecticdesignstudio.motion.easing.BackEaseIn(1.70158)};b.eclecticdesignstudio.motion.easing.Back.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.BackEaseInOut(1.70158)};b.eclecticdesignstudio.motion.easing.Back.getEaseOut=
function(){return new b.eclecticdesignstudio.motion.easing.BackEaseOut(1.70158)};b.eclecticdesignstudio.motion.easing.BackEaseIn=function(a){this.s=a};l["com.eclecticdesignstudio.motion.easing.BackEaseIn"]=b.eclecticdesignstudio.motion.easing.BackEaseIn;b.eclecticdesignstudio.motion.easing.BackEaseIn.__name__=["com","eclecticdesignstudio","motion","easing","BackEaseIn"];b.eclecticdesignstudio.motion.easing.BackEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.BackEaseIn.prototype=
{ease:function(a,c,f,b){return f*(a/=b)*a*((this.s+1)*a-this.s)+c},calculate:function(a){return a*a*((this.s+1)*a-this.s)},s:null,__class__:b.eclecticdesignstudio.motion.easing.BackEaseIn};b.eclecticdesignstudio.motion.easing.BackEaseInOut=function(a){this.s=a};l["com.eclecticdesignstudio.motion.easing.BackEaseInOut"]=b.eclecticdesignstudio.motion.easing.BackEaseInOut;b.eclecticdesignstudio.motion.easing.BackEaseInOut.__name__=["com","eclecticdesignstudio","motion","easing","BackEaseInOut"];b.eclecticdesignstudio.motion.easing.BackEaseInOut.__interfaces__=
[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.BackEaseInOut.prototype={ease:function(a,c,f,b){return 1>(a/=b/2)?f/2*a*a*(((this.s*=1.525)+1)*a-this.s)+c:f/2*((a-=2)*a*(((this.s*=1.525)+1)*a+this.s)+2)+c},calculate:function(a){return 1>(a/=0.5)?0.5*a*a*(((this.s*=1.525)+1)*a-this.s):0.5*((a-=2)*a*(((this.s*=1.525)+1)*a+this.s)+2)},s:null,__class__:b.eclecticdesignstudio.motion.easing.BackEaseInOut};b.eclecticdesignstudio.motion.easing.BackEaseOut=function(a){this.s=
a};l["com.eclecticdesignstudio.motion.easing.BackEaseOut"]=b.eclecticdesignstudio.motion.easing.BackEaseOut;b.eclecticdesignstudio.motion.easing.BackEaseOut.__name__=["com","eclecticdesignstudio","motion","easing","BackEaseOut"];b.eclecticdesignstudio.motion.easing.BackEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.BackEaseOut.prototype={ease:function(a,c,f,b){return f*((a=a/b-1)*a*((this.s+1)*a+this.s)+1)+c},calculate:function(a){return(a-=
1)*a*((this.s+1)*a+this.s)+1},s:null,__class__:b.eclecticdesignstudio.motion.easing.BackEaseOut};b.eclecticdesignstudio.motion.easing.Cubic=function(){};l["com.eclecticdesignstudio.motion.easing.Cubic"]=b.eclecticdesignstudio.motion.easing.Cubic;b.eclecticdesignstudio.motion.easing.Cubic.__name__=["com","eclecticdesignstudio","motion","easing","Cubic"];b.eclecticdesignstudio.motion.easing.Cubic.__properties__={get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",get_easeIn:"getEaseIn"};b.eclecticdesignstudio.motion.easing.Cubic.easeIn=
null;b.eclecticdesignstudio.motion.easing.Cubic.easeInOut=null;b.eclecticdesignstudio.motion.easing.Cubic.easeOut=null;b.eclecticdesignstudio.motion.easing.Cubic.getEaseIn=function(){return new b.eclecticdesignstudio.motion.easing.CubicEaseIn};b.eclecticdesignstudio.motion.easing.Cubic.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.CubicEaseInOut};b.eclecticdesignstudio.motion.easing.Cubic.getEaseOut=function(){return new b.eclecticdesignstudio.motion.easing.CubicEaseOut};
b.eclecticdesignstudio.motion.easing.CubicEaseIn=function(){};l["com.eclecticdesignstudio.motion.easing.CubicEaseIn"]=b.eclecticdesignstudio.motion.easing.CubicEaseIn;b.eclecticdesignstudio.motion.easing.CubicEaseIn.__name__=["com","eclecticdesignstudio","motion","easing","CubicEaseIn"];b.eclecticdesignstudio.motion.easing.CubicEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.CubicEaseIn.prototype={ease:function(a,c,f,b){return f*(a/=b)*a*a+
c},calculate:function(a){return a*a*a},__class__:b.eclecticdesignstudio.motion.easing.CubicEaseIn};b.eclecticdesignstudio.motion.easing.CubicEaseInOut=function(){};l["com.eclecticdesignstudio.motion.easing.CubicEaseInOut"]=b.eclecticdesignstudio.motion.easing.CubicEaseInOut;b.eclecticdesignstudio.motion.easing.CubicEaseInOut.__name__=["com","eclecticdesignstudio","motion","easing","CubicEaseInOut"];b.eclecticdesignstudio.motion.easing.CubicEaseInOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];
b.eclecticdesignstudio.motion.easing.CubicEaseInOut.prototype={ease:function(a,c,f,b){return 1>(a/=b/2)?f/2*a*a*a+c:f/2*((a-=2)*a*a+2)+c},calculate:function(a){return 1>(a/=0.5)?0.5*a*a*a:0.5*((a-=2)*a*a+2)},__class__:b.eclecticdesignstudio.motion.easing.CubicEaseInOut};b.eclecticdesignstudio.motion.easing.CubicEaseOut=function(){};l["com.eclecticdesignstudio.motion.easing.CubicEaseOut"]=b.eclecticdesignstudio.motion.easing.CubicEaseOut;b.eclecticdesignstudio.motion.easing.CubicEaseOut.__name__=["com",
"eclecticdesignstudio","motion","easing","CubicEaseOut"];b.eclecticdesignstudio.motion.easing.CubicEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.CubicEaseOut.prototype={ease:function(a,c,f,b){return f*((a=a/b-1)*a*a+1)+c},calculate:function(a){return--a*a*a+1},__class__:b.eclecticdesignstudio.motion.easing.CubicEaseOut};b.eclecticdesignstudio.motion.easing.Elastic=function(){};l["com.eclecticdesignstudio.motion.easing.Elastic"]=b.eclecticdesignstudio.motion.easing.Elastic;
b.eclecticdesignstudio.motion.easing.Elastic.__name__=["com","eclecticdesignstudio","motion","easing","Elastic"];b.eclecticdesignstudio.motion.easing.Elastic.__properties__={get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",get_easeIn:"getEaseIn"};b.eclecticdesignstudio.motion.easing.Elastic.easeIn=null;b.eclecticdesignstudio.motion.easing.Elastic.easeInOut=null;b.eclecticdesignstudio.motion.easing.Elastic.easeOut=null;b.eclecticdesignstudio.motion.easing.Elastic.getEaseIn=function(){return new b.eclecticdesignstudio.motion.easing.ElasticEaseIn(0.1,
0.4)};b.eclecticdesignstudio.motion.easing.Elastic.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.ElasticEaseInOut(0.1,0.4)};b.eclecticdesignstudio.motion.easing.Elastic.getEaseOut=function(){return new b.eclecticdesignstudio.motion.easing.ElasticEaseOut(0.1,0.4)};b.eclecticdesignstudio.motion.easing.ElasticEaseIn=function(a,c){this.a=a;this.p=c};l["com.eclecticdesignstudio.motion.easing.ElasticEaseIn"]=b.eclecticdesignstudio.motion.easing.ElasticEaseIn;b.eclecticdesignstudio.motion.easing.ElasticEaseIn.__name__=
["com","eclecticdesignstudio","motion","easing","ElasticEaseIn"];b.eclecticdesignstudio.motion.easing.ElasticEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.ElasticEaseIn.prototype={ease:function(a,c,f,b){if(0==a)return c;if(1==(a/=b))return c+f;this.a<Math.abs(f)?(this.a=f,f=this.p/4):f=this.p/(2*Math.PI)*Math.asin(f/this.a);return-(this.a*Math.pow(2,10*(a-=1))*Math.sin((a*b-f)*2*Math.PI/this.p))+c},calculate:function(a){if(0==a)return 0;
if(1==a)return 1;var c;1>this.a?(this.a=1,c=this.p/4):c=this.p/(2*Math.PI)*Math.asin(1/this.a);return-(this.a*Math.pow(2,10*(a-=1))*Math.sin((a-c)*2*Math.PI/this.p))},p:null,a:null,__class__:b.eclecticdesignstudio.motion.easing.ElasticEaseIn};b.eclecticdesignstudio.motion.easing.ElasticEaseInOut=function(a,c){this.a=a;this.p=c};l["com.eclecticdesignstudio.motion.easing.ElasticEaseInOut"]=b.eclecticdesignstudio.motion.easing.ElasticEaseInOut;b.eclecticdesignstudio.motion.easing.ElasticEaseInOut.__name__=
["com","eclecticdesignstudio","motion","easing","ElasticEaseInOut"];b.eclecticdesignstudio.motion.easing.ElasticEaseInOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.ElasticEaseInOut.prototype={ease:function(a,c,f,b){if(0==a)return c;if(2==(a/=b/2))return c+f;var d;this.a<Math.abs(f)?(this.a=f,d=this.p/4):d=this.p/(2*Math.PI)*Math.asin(f/this.a);return 1>a?-0.5*this.a*Math.pow(2,10*(a-=1))*Math.sin((a*b-d)*2*Math.PI/this.p)+c:0.5*this.a*Math.pow(2,
-10*(a-=1))*Math.sin((a*b-d)*2*Math.PI/this.p)+f+c},calculate:function(a){if(0==a)return 0;if(2==(a/=0.5))return 1;var c=0.3*1.5,f=c/4;return 1>a?-0.5*Math.pow(2,10*(a-=1))*Math.sin((a-f)*2*Math.PI/c):0.5*Math.pow(2,-10*(a-=1))*Math.sin((a-f)*2*Math.PI/c)+1},p:null,a:null,__class__:b.eclecticdesignstudio.motion.easing.ElasticEaseInOut};b.eclecticdesignstudio.motion.easing.ElasticEaseOut=function(a,c){this.a=a;this.p=c};l["com.eclecticdesignstudio.motion.easing.ElasticEaseOut"]=b.eclecticdesignstudio.motion.easing.ElasticEaseOut;
b.eclecticdesignstudio.motion.easing.ElasticEaseOut.__name__=["com","eclecticdesignstudio","motion","easing","ElasticEaseOut"];b.eclecticdesignstudio.motion.easing.ElasticEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.ElasticEaseOut.prototype={ease:function(a,c,f,b){if(0==a)return c;if(1==(a/=b))return c+f;var d;this.a<Math.abs(f)?(this.a=f,d=this.p/4):d=this.p/(2*Math.PI)*Math.asin(f/this.a);return this.a*Math.pow(2,-10*a)*Math.sin((a*b-
d)*2*Math.PI/this.p)+f+c},calculate:function(a){if(0==a)return 0;if(1==a)return 1;var c;1>this.a?(this.a=1,c=this.p/4):c=this.p/(2*Math.PI)*Math.asin(1/this.a);return this.a*Math.pow(2,-10*a)*Math.sin((a-c)*2*Math.PI/this.p)+1},p:null,a:null,__class__:b.eclecticdesignstudio.motion.easing.ElasticEaseOut};b.eclecticdesignstudio.motion.easing.ExpoEaseIn=function(){};l["com.eclecticdesignstudio.motion.easing.ExpoEaseIn"]=b.eclecticdesignstudio.motion.easing.ExpoEaseIn;b.eclecticdesignstudio.motion.easing.ExpoEaseIn.__name__=
["com","eclecticdesignstudio","motion","easing","ExpoEaseIn"];b.eclecticdesignstudio.motion.easing.ExpoEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.ExpoEaseIn.prototype={ease:function(a,c,f,b){return 0==a?c:f*Math.pow(2,10*(a/b-1))+c},calculate:function(a){return 0==a?0:Math.pow(2,10*(a-1))},__class__:b.eclecticdesignstudio.motion.easing.ExpoEaseIn};b.eclecticdesignstudio.motion.easing.ExpoEaseInOut=function(){};l["com.eclecticdesignstudio.motion.easing.ExpoEaseInOut"]=
b.eclecticdesignstudio.motion.easing.ExpoEaseInOut;b.eclecticdesignstudio.motion.easing.ExpoEaseInOut.__name__=["com","eclecticdesignstudio","motion","easing","ExpoEaseInOut"];b.eclecticdesignstudio.motion.easing.ExpoEaseInOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.ExpoEaseInOut.prototype={ease:function(a,c,f,b){return 0==a?c:a==b?c+f:1>(a/=b/2)?f/2*Math.pow(2,10*(a-1))+c:f/2*(2-Math.pow(2,-10*--a))+c},calculate:function(a){return 0==a?0:
1==a?1:1>(a/=0.5)?0.5*Math.pow(2,10*(a-1)):0.5*(2-Math.pow(2,-10*--a))},__class__:b.eclecticdesignstudio.motion.easing.ExpoEaseInOut};b.eclecticdesignstudio.motion.easing.Linear=function(){};l["com.eclecticdesignstudio.motion.easing.Linear"]=b.eclecticdesignstudio.motion.easing.Linear;b.eclecticdesignstudio.motion.easing.Linear.__name__=["com","eclecticdesignstudio","motion","easing","Linear"];b.eclecticdesignstudio.motion.easing.Linear.__properties__={get_easeNone:"getEaseNone"};b.eclecticdesignstudio.motion.easing.Linear.easeNone=
null;b.eclecticdesignstudio.motion.easing.Linear.getEaseNone=function(){return new b.eclecticdesignstudio.motion.easing.LinearEaseNone};b.eclecticdesignstudio.motion.easing.LinearEaseNone=function(){};l["com.eclecticdesignstudio.motion.easing.LinearEaseNone"]=b.eclecticdesignstudio.motion.easing.LinearEaseNone;b.eclecticdesignstudio.motion.easing.LinearEaseNone.__name__=["com","eclecticdesignstudio","motion","easing","LinearEaseNone"];b.eclecticdesignstudio.motion.easing.LinearEaseNone.__interfaces__=
[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.LinearEaseNone.prototype={ease:function(a,c,f,b){return f*a/b+c},calculate:function(a){return a},__class__:b.eclecticdesignstudio.motion.easing.LinearEaseNone};b.eclecticdesignstudio.motion.easing.Quad=function(){};l["com.eclecticdesignstudio.motion.easing.Quad"]=b.eclecticdesignstudio.motion.easing.Quad;b.eclecticdesignstudio.motion.easing.Quad.__name__=["com","eclecticdesignstudio","motion","easing","Quad"];b.eclecticdesignstudio.motion.easing.Quad.__properties__=
{get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",get_easeIn:"getEaseIn"};b.eclecticdesignstudio.motion.easing.Quad.easeIn=null;b.eclecticdesignstudio.motion.easing.Quad.easeInOut=null;b.eclecticdesignstudio.motion.easing.Quad.easeOut=null;b.eclecticdesignstudio.motion.easing.Quad.getEaseIn=function(){return new b.eclecticdesignstudio.motion.easing.QuadEaseIn};b.eclecticdesignstudio.motion.easing.Quad.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.QuadEaseInOut};b.eclecticdesignstudio.motion.easing.Quad.getEaseOut=
function(){return new b.eclecticdesignstudio.motion.easing.QuadEaseOut};b.eclecticdesignstudio.motion.easing.QuadEaseIn=function(){};l["com.eclecticdesignstudio.motion.easing.QuadEaseIn"]=b.eclecticdesignstudio.motion.easing.QuadEaseIn;b.eclecticdesignstudio.motion.easing.QuadEaseIn.__name__=["com","eclecticdesignstudio","motion","easing","QuadEaseIn"];b.eclecticdesignstudio.motion.easing.QuadEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuadEaseIn.prototype=
{ease:function(a,c,f,b){return f*(a/=b)*a+c},calculate:function(a){return a*a},__class__:b.eclecticdesignstudio.motion.easing.QuadEaseIn};b.eclecticdesignstudio.motion.easing.QuadEaseInOut=function(){};l["com.eclecticdesignstudio.motion.easing.QuadEaseInOut"]=b.eclecticdesignstudio.motion.easing.QuadEaseInOut;b.eclecticdesignstudio.motion.easing.QuadEaseInOut.__name__=["com","eclecticdesignstudio","motion","easing","QuadEaseInOut"];b.eclecticdesignstudio.motion.easing.QuadEaseInOut.__interfaces__=
[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuadEaseInOut.prototype={ease:function(a,c,f,b){return 1>(a/=b/2)?f/2*a*a+c:-f/2*(--a*(a-2)-1)+c},calculate:function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)},__class__:b.eclecticdesignstudio.motion.easing.QuadEaseInOut};b.eclecticdesignstudio.motion.easing.QuadEaseOut=function(){};l["com.eclecticdesignstudio.motion.easing.QuadEaseOut"]=b.eclecticdesignstudio.motion.easing.QuadEaseOut;b.eclecticdesignstudio.motion.easing.QuadEaseOut.__name__=
["com","eclecticdesignstudio","motion","easing","QuadEaseOut"];b.eclecticdesignstudio.motion.easing.QuadEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuadEaseOut.prototype={ease:function(a,c,f,b){return-f*(a/=b)*(a-2)+c},calculate:function(a){return-a*(a-2)},__class__:b.eclecticdesignstudio.motion.easing.QuadEaseOut};b.eclecticdesignstudio.motion.easing.Quart=function(){};l["com.eclecticdesignstudio.motion.easing.Quart"]=b.eclecticdesignstudio.motion.easing.Quart;
b.eclecticdesignstudio.motion.easing.Quart.__name__=["com","eclecticdesignstudio","motion","easing","Quart"];b.eclecticdesignstudio.motion.easing.Quart.__properties__={get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",get_easeIn:"getEaseIn"};b.eclecticdesignstudio.motion.easing.Quart.easeIn=null;b.eclecticdesignstudio.motion.easing.Quart.easeInOut=null;b.eclecticdesignstudio.motion.easing.Quart.easeOut=null;b.eclecticdesignstudio.motion.easing.Quart.getEaseIn=function(){return new b.eclecticdesignstudio.motion.easing.QuartEaseIn};
b.eclecticdesignstudio.motion.easing.Quart.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.QuartEaseInOut};b.eclecticdesignstudio.motion.easing.Quart.getEaseOut=function(){return new b.eclecticdesignstudio.motion.easing.QuartEaseOut};b.eclecticdesignstudio.motion.easing.QuartEaseIn=function(){};l["com.eclecticdesignstudio.motion.easing.QuartEaseIn"]=b.eclecticdesignstudio.motion.easing.QuartEaseIn;b.eclecticdesignstudio.motion.easing.QuartEaseIn.__name__=["com","eclecticdesignstudio",
"motion","easing","QuartEaseIn"];b.eclecticdesignstudio.motion.easing.QuartEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuartEaseIn.prototype={ease:function(a,c,f,b){return f*(a/=b)*a*a*a+c},calculate:function(a){return a*a*a*a},__class__:b.eclecticdesignstudio.motion.easing.QuartEaseIn};b.eclecticdesignstudio.motion.easing.QuartEaseInOut=function(){};l["com.eclecticdesignstudio.motion.easing.QuartEaseInOut"]=b.eclecticdesignstudio.motion.easing.QuartEaseInOut;
b.eclecticdesignstudio.motion.easing.QuartEaseInOut.__name__=["com","eclecticdesignstudio","motion","easing","QuartEaseInOut"];b.eclecticdesignstudio.motion.easing.QuartEaseInOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuartEaseInOut.prototype={ease:function(a,c,f,b){return 1>(a/=b/2)?f/2*a*a*a*a+c:-f/2*((a-=2)*a*a*a-2)+c},calculate:function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},__class__:b.eclecticdesignstudio.motion.easing.QuartEaseInOut};
b.eclecticdesignstudio.motion.easing.QuartEaseOut=function(){};l["com.eclecticdesignstudio.motion.easing.QuartEaseOut"]=b.eclecticdesignstudio.motion.easing.QuartEaseOut;b.eclecticdesignstudio.motion.easing.QuartEaseOut.__name__=["com","eclecticdesignstudio","motion","easing","QuartEaseOut"];b.eclecticdesignstudio.motion.easing.QuartEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuartEaseOut.prototype={ease:function(a,c,f,b){return-f*((a=
a/b-1)*a*a*a-1)+c},calculate:function(a){return-(--a*a*a*a-1)},__class__:b.eclecticdesignstudio.motion.easing.QuartEaseOut};b.eclecticdesignstudio.motion.easing.Quint=function(){};l["com.eclecticdesignstudio.motion.easing.Quint"]=b.eclecticdesignstudio.motion.easing.Quint;b.eclecticdesignstudio.motion.easing.Quint.__name__=["com","eclecticdesignstudio","motion","easing","Quint"];b.eclecticdesignstudio.motion.easing.Quint.__properties__={get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",get_easeIn:"getEaseIn"};
b.eclecticdesignstudio.motion.easing.Quint.easeIn=null;b.eclecticdesignstudio.motion.easing.Quint.easeInOut=null;b.eclecticdesignstudio.motion.easing.Quint.easeOut=null;b.eclecticdesignstudio.motion.easing.Quint.getEaseIn=function(){return new b.eclecticdesignstudio.motion.easing.QuintEaseIn};b.eclecticdesignstudio.motion.easing.Quint.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.QuintEaseInOut};b.eclecticdesignstudio.motion.easing.Quint.getEaseOut=function(){return new b.eclecticdesignstudio.motion.easing.QuintEaseOut};
b.eclecticdesignstudio.motion.easing.QuintEaseIn=function(){};l["com.eclecticdesignstudio.motion.easing.QuintEaseIn"]=b.eclecticdesignstudio.motion.easing.QuintEaseIn;b.eclecticdesignstudio.motion.easing.QuintEaseIn.__name__=["com","eclecticdesignstudio","motion","easing","QuintEaseIn"];b.eclecticdesignstudio.motion.easing.QuintEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuintEaseIn.prototype={ease:function(a,c,f,b){return f*(a/=b)*a*a*
a*a+c},calculate:function(a){return a*a*a*a*a},__class__:b.eclecticdesignstudio.motion.easing.QuintEaseIn};b.eclecticdesignstudio.motion.easing.QuintEaseInOut=function(){};l["com.eclecticdesignstudio.motion.easing.QuintEaseInOut"]=b.eclecticdesignstudio.motion.easing.QuintEaseInOut;b.eclecticdesignstudio.motion.easing.QuintEaseInOut.__name__=["com","eclecticdesignstudio","motion","easing","QuintEaseInOut"];b.eclecticdesignstudio.motion.easing.QuintEaseInOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];
b.eclecticdesignstudio.motion.easing.QuintEaseInOut.prototype={ease:function(a,c,f,b){return 1>(a/=b/2)?f/2*a*a*a*a*a+c:f/2*((a-=2)*a*a*a*a+2)+c},calculate:function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},__class__:b.eclecticdesignstudio.motion.easing.QuintEaseInOut};b.eclecticdesignstudio.motion.easing.QuintEaseOut=function(){};l["com.eclecticdesignstudio.motion.easing.QuintEaseOut"]=b.eclecticdesignstudio.motion.easing.QuintEaseOut;b.eclecticdesignstudio.motion.easing.QuintEaseOut.__name__=
["com","eclecticdesignstudio","motion","easing","QuintEaseOut"];b.eclecticdesignstudio.motion.easing.QuintEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.QuintEaseOut.prototype={ease:function(a,c,f,b){return f*((a=a/b-1)*a*a*a*a+1)+c},calculate:function(a){return--a*a*a*a*a+1},__class__:b.eclecticdesignstudio.motion.easing.QuintEaseOut};b.eclecticdesignstudio.motion.easing.Sine=function(){};l["com.eclecticdesignstudio.motion.easing.Sine"]=
b.eclecticdesignstudio.motion.easing.Sine;b.eclecticdesignstudio.motion.easing.Sine.__name__=["com","eclecticdesignstudio","motion","easing","Sine"];b.eclecticdesignstudio.motion.easing.Sine.__properties__={get_easeOut:"getEaseOut",get_easeInOut:"getEaseInOut",get_easeIn:"getEaseIn"};b.eclecticdesignstudio.motion.easing.Sine.easeIn=null;b.eclecticdesignstudio.motion.easing.Sine.easeInOut=null;b.eclecticdesignstudio.motion.easing.Sine.easeOut=null;b.eclecticdesignstudio.motion.easing.Sine.getEaseIn=
function(){return new b.eclecticdesignstudio.motion.easing.SineEaseIn};b.eclecticdesignstudio.motion.easing.Sine.getEaseInOut=function(){return new b.eclecticdesignstudio.motion.easing.SineEaseInOut};b.eclecticdesignstudio.motion.easing.Sine.getEaseOut=function(){return new b.eclecticdesignstudio.motion.easing.SineEaseOut};b.eclecticdesignstudio.motion.easing.SineEaseIn=function(){};l["com.eclecticdesignstudio.motion.easing.SineEaseIn"]=b.eclecticdesignstudio.motion.easing.SineEaseIn;b.eclecticdesignstudio.motion.easing.SineEaseIn.__name__=
["com","eclecticdesignstudio","motion","easing","SineEaseIn"];b.eclecticdesignstudio.motion.easing.SineEaseIn.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.SineEaseIn.prototype={ease:function(a,c,f,b){return-f*Math.cos(a/b*(Math.PI/2))+f+c},calculate:function(a){return 1-Math.cos(a*(Math.PI/2))},__class__:b.eclecticdesignstudio.motion.easing.SineEaseIn};b.eclecticdesignstudio.motion.easing.SineEaseInOut=function(){};l["com.eclecticdesignstudio.motion.easing.SineEaseInOut"]=
b.eclecticdesignstudio.motion.easing.SineEaseInOut;b.eclecticdesignstudio.motion.easing.SineEaseInOut.__name__=["com","eclecticdesignstudio","motion","easing","SineEaseInOut"];b.eclecticdesignstudio.motion.easing.SineEaseInOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.SineEaseInOut.prototype={ease:function(a,c,f,b){return-f/2*(Math.cos(Math.PI*a/b)-1)+c},calculate:function(a){return-(Math.cos(Math.PI*a)-1)/2},__class__:b.eclecticdesignstudio.motion.easing.SineEaseInOut};
b.eclecticdesignstudio.motion.easing.SineEaseOut=function(){};l["com.eclecticdesignstudio.motion.easing.SineEaseOut"]=b.eclecticdesignstudio.motion.easing.SineEaseOut;b.eclecticdesignstudio.motion.easing.SineEaseOut.__name__=["com","eclecticdesignstudio","motion","easing","SineEaseOut"];b.eclecticdesignstudio.motion.easing.SineEaseOut.__interfaces__=[b.eclecticdesignstudio.motion.easing.IEasing];b.eclecticdesignstudio.motion.easing.SineEaseOut.prototype={ease:function(a,c,f,b){return f*Math.sin(a/
b*(Math.PI/2))+c},calculate:function(a){return Math.sin(a*(Math.PI/2))},__class__:b.eclecticdesignstudio.motion.easing.SineEaseOut};b.nmefermmmtools={};b.nmefermmmtools.debug={};b.nmefermmmtools.debug.Stats=function(a){null==a&&(a=!0);d.display.Sprite.call(this);this.alignRight=a;this.fps=this.mem_max=0;this.text=new d.text.TextField;this.text.jeashSetWidth(70);this.text.jeashSetHeight(15);this.text.jeashSetDefaultTextFormat(new d.text.TextFormat("_sans",10,16776960));this.text.selectable=!1;this.text.mouseEnabled=
!1;this.text.SetWordWrap(!0);this.text.multiline=!0;this.rectangle=new d.geom.Rectangle(69,0,1,1);this.addEventListener(d.events.Event.ADDED_TO_STAGE,A(this,this.init),!1,0,!0);this.addEventListener(d.events.Event.REMOVED_FROM_STAGE,A(this,this.destroy),!1,0,!0)};l["com.nmefermmmtools.debug.Stats"]=b.nmefermmmtools.debug.Stats;b.nmefermmmtools.debug.Stats.__name__=["com","nmefermmmtools","debug","Stats"];b.nmefermmmtools.debug.Stats.__super__=d.display.Sprite;b.nmefermmmtools.debug.Stats.prototype=
t(d.display.Sprite.prototype,{normalizeMem:function(a){return Math.min(1,Math.sqrt(Math.sqrt(5E3*a)))-2|0},update:function(){this.timer=d.Lib.getTimer();this.timer-1E3>this.ms_prev?(this.mem=9.54E-7*d.system.System.GetMemory(),this.mem_max=this.mem_max>this.mem?this.mem_max:this.mem,60<this.fps&&(this.fps=60),this.fpsStr="FPS: "+this.fps+" / 60",this.memStr="MEM: "+Math.round(this.mem),this.memMaxStr="MAX: "+Math.round(this.mem_max),this.fps=0,this.ms_prev=this.timer,this.text.SetText(this.fpsStr)):
(this.fps++,this.ms=this.timer)},destroy:function(){for(this.jeashGetGraphics().clear();0<this.jeashChildren.length;)this.removeChildAt(0);this.graph.dispose();this.removeEventListener(d.events.Event.ENTER_FRAME,A(this,this.update))},init:function(){this._stage=s.Lib.nmeGetCurrent().getStage();this.jeashGetGraphics().beginFill(51);this.jeashGetGraphics().drawRect(0,0,70,15);this.jeashGetGraphics().endFill();this.addChild(this.text);this.graph=new d.display.BitmapData(70,1,!1,51);this.jeashGetGraphics().beginBitmapFill(this.graph,
new d.geom.Matrix(1,0,0,1,0,15));this.jeashGetGraphics().drawRect(0,15,70,1);this.addEventListener(d.events.Event.ENTER_FRAME,A(this,this.update));this.alignRight&&this.jeashSetX(this._stage.jeashGetStageWidth()-this.jeashGetWidth())},msStr:null,memMaxStr:null,memStr:null,fpsStr:null,_stage:null,mem_max_graph:null,ms_graph:null,mem_graph:null,fps_graph:null,alignRight:null,rectangle:null,graph:null,mem_max:null,mem:null,ms_prev:null,ms:null,fps:null,timer:null,text:null,__class__:b.nmefermmmtools.debug.Stats});
b.nmefermmmtools.debug.Colors=function(){};l["com.nmefermmmtools.debug.Colors"]=b.nmefermmmtools.debug.Colors;b.nmefermmmtools.debug.Colors.__name__=["com","nmefermmmtools","debug","Colors"];b.stencyl={};b.stencyl.AssetLoader=function(){};l["com.stencyl.AssetLoader"]=b.stencyl.AssetLoader;b.stencyl.AssetLoader.__name__=["com","stencyl","AssetLoader"];b.stencyl.AssetLoader.prototype={loadScenes:null,loadResources:null,__class__:b.stencyl.AssetLoader};b.stencyl.Data=function(){if(""==s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/game.xml"))throw"Data.hx - Could not load game. Check your logs for a possible cause (likely a bad MP3 file).";
};l["com.stencyl.Data"]=b.stencyl.Data;b.stencyl.Data.__name__=["com","stencyl","Data"];b.stencyl.Data.instance=null;b.stencyl.Data.theLoader=null;b.stencyl.Data.get=function(){null==b.stencyl.Data.instance&&(b.stencyl.Data.instance=new b.stencyl.Data,b.stencyl.Data.instance.loader=b.stencyl.Data.theLoader=C.createInstance(C.resolveClass("scripts.MyAssets"),[]),b.stencyl.Data.instance.loadAll());return b.stencyl.Data.instance};b.stencyl.Data.prototype={unloadAtlas:function(a){var c=b.stencyl.models.GameModel.get().atlases.get(a);
if(null!=c&&c.active){c.active=!1;a=0;for(c=c.members;a<c.length;){var f=c[a];++a;f=this.resources.get(f);null!=f&&f.unloadGraphics()}}},loadAtlas:function(a){var c=b.stencyl.models.GameModel.get().atlases.get(a);if(null!=c&&!c.active){c.active=!0;a=0;for(c=c.members;a<c.length;){var f=c[a];++a;f=this.resources.get(f);null!=f&&f.loadGraphics()}}},getGraphicAsset:function(a,c){null==this.resourceAssets.get(a)&&this.resourceAssets.set(a,s.installer.Assets.getBitmapData(c,!1));return this.resourceAssets.get(a)},
getAllActorTypes:function(){for(var a=[],c=this.resources.iterator();c.hasNext();){var f=c.next();n.Boot.__instanceof(f,b.stencyl.models.actor.ActorType)&&a.push(n.Boot.__cast(f,b.stencyl.models.actor.ActorType))}return a},getResourcesOfType:function(a){for(var c=[],f=this.resources.iterator();f.hasNext();){var b=f.next();n.Boot.__instanceof(b,a)&&c.push(b)}return c},readResource:function(a,c,f,b,d){for(var e=0,h=this.readers;e<h.length;){var i=h[e];++e;if(i.accepts(f))return i.read(a,c,f,b,d)}return null},
readResourceXML:function(a){this.resources=new B;for(a=a.getElements();a.hasNext();){var c=a.next(),f=0;c.has.resolve("atlasID")&&(f=m.parseInt(c.att.resolve("atlasID")));this.resources.set(m.parseInt(c.att.resolve("id")),this.readResource(m.parseInt(c.att.resolve("id")),f,c.getName(),c.att.resolve("name"),c))}},loadResources:function(){this.resourceAssets=new F;this.loader.loadResources(this.resourceAssets);this.updatePreloader(65);this.readResourceXML(this.resourceListXML)},loadBehaviors:function(){this.behaviors=
new B;for(var a=this.behaviorListXML.getElements();a.hasNext();){var c=a.next();this.behaviors.set(m.parseInt(c.att.resolve("id")),b.stencyl.io.BehaviorReader.readBehavior(c))}},loadReaders:function(){this.readers=[];this.readers.push(new b.stencyl.io.BackgroundReader);this.readers.push(new b.stencyl.io.SoundReader);this.readers.push(new b.stencyl.io.TilesetReader);this.readers.push(new b.stencyl.io.ActorTypeReader);this.readers.push(new b.stencyl.io.SpriteReader);this.readers.push(new b.stencyl.io.FontReader)},
loadAll:function(){this.gameXML=new k.xml.Fast(y.parse(s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/game.xml")).firstElement());this.resourceListXML=new k.xml.Fast(y.parse(s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/resources.xml")).firstElement());this.sceneListXML=new k.xml.Fast(y.parse(s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/scenes.xml")).firstElement());this.behaviorListXML=new k.xml.Fast(y.parse(s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/behaviors.xml")).firstElement());this.updatePreloader(5);this.loadReaders();
this.loadBehaviors();this.updatePreloader(15);this.loadResources();this.updatePreloader(90);this.scenesXML=new B;this.scenesTerrain=new B;this.loader.loadScenes(this.scenesXML,this.scenesTerrain);this.updatePreloader(100)},updatePreloader:function(){},behaviors:null,resourceAssets:null,resources:null,scenesTerrain:null,scenesXML:null,behaviorListXML:null,sceneListXML:null,resourceListXML:null,gameXML:null,readers:null,preloader:null,loader:null,__class__:b.stencyl.Data};b.stencyl.event={};b.stencyl.event.EventMaster=
function(){this.eventTable=new B;this.eventTable.set(b.stencyl.event.EventMaster.TYPE_ADS,[]);this.eventTable.set(b.stencyl.event.EventMaster.TYPE_PURCHASES,[]);this.eventTable.set(b.stencyl.event.EventMaster.TYPE_GAMECENTER,[]);this.eventTable.set(b.stencyl.event.EventMaster.TYPE_KEYBOARD,[])};l["com.stencyl.event.EventMaster"]=b.stencyl.event.EventMaster;b.stencyl.event.EventMaster.__name__=["com","stencyl","event","EventMaster"];b.stencyl.event.EventMaster.prototype={clear:function(){this.eventTable.get(b.stencyl.event.EventMaster.TYPE_ADS).length=
0;this.eventTable.get(b.stencyl.event.EventMaster.TYPE_PURCHASES).length=0;this.eventTable.get(b.stencyl.event.EventMaster.TYPE_GAMECENTER).length=0;this.eventTable.get(b.stencyl.event.EventMaster.TYPE_KEYBOARD).length=0},addKeyboardEvent:function(a){this.eventTable.get(b.stencyl.event.EventMaster.TYPE_KEYBOARD).push(a)},addGameCenterEvent:function(a){this.eventTable.get(b.stencyl.event.EventMaster.TYPE_GAMECENTER).push(a)},addPurchaseEvent:function(a){this.eventTable.get(b.stencyl.event.EventMaster.TYPE_PURCHASES).push(a)},
addAdEvent:function(a){this.eventTable.get(b.stencyl.event.EventMaster.TYPE_ADS).push(a)},eventTable:null,__class__:b.stencyl.event.EventMaster};b.stencyl.Engine=function(a){this.isFullScreen=!1;a.mouseChildren=!1;a.mouseEnabled=!1;r.MyAssets.debugDraw&&(b.stencyl.Engine.DEBUG_DRAW=!0);b.stencyl.Engine.engine=this;this.root=a;b.stencyl.Engine.screenScaleX=a.jeashGetScaleX();b.stencyl.Engine.screenScaleY=a.jeashGetScaleY();b.stencyl.Engine.screenOffsetX=a.jeashGetX()|0;b.stencyl.Engine.screenOffsetY=
a.jeashGetY()|0;b.stencyl.Engine.NO_PHYSICS=1==r.MyAssets.physicsMode;b.stencyl.Engine.stage.addEventListener(d.events.Event.ENTER_FRAME,A(this,this.onUpdate));b.stencyl.Engine.stage.addEventListener(d.events.Event.DEACTIVATE,A(this,this.onFocusLost));b.stencyl.Engine.stage.addEventListener(d.events.Event.ACTIVATE,A(this,this.onFocus));this.begin(r.MyAssets.initSceneID)};l["com.stencyl.Engine"]=b.stencyl.Engine;b.stencyl.Engine.__name__=["com","stencyl","Engine"];b.stencyl.Engine.cameraX=null;b.stencyl.Engine.cameraY=
null;b.stencyl.Engine.screenScaleX=null;b.stencyl.Engine.screenScaleY=null;b.stencyl.Engine.screenOffsetX=null;b.stencyl.Engine.screenOffsetY=null;b.stencyl.Engine.screenWidth=null;b.stencyl.Engine.screenHeight=null;b.stencyl.Engine.sceneWidth=null;b.stencyl.Engine.sceneHeight=null;b.stencyl.Engine.screenWidthHalf=null;b.stencyl.Engine.screenHeightHalf=null;b.stencyl.Engine.mochiID=null;b.stencyl.Engine.ngID=null;b.stencyl.Engine.ngKey=null;b.stencyl.Engine.movieClip=null;b.stencyl.Engine.stage=null;
b.stencyl.Engine.debugDrawer=null;b.stencyl.Engine.initBehaviors=function(a,c,f,d,e){if(null!=c){for(c=c.iterator();c.hasNext();){var g=c.next();if(null!=g&&g.enabled){var h=b.stencyl.Data.get().behaviors.get(g.behaviorID),i=new F;if(h.isEvent)for(var j=h.attributes.keys();j.hasNext();){var p=j.next(),k=h.attributes.get(p);if(null!=k&&(k=n.Boot.__cast(k,b.stencyl.behavior.Attribute),null!=k)){var l=k.type,m=k.ID;"list"==l&&i.set(p,new b.stencyl.behavior.Attribute(m,k.fieldName,k.fullName,[],l,null))}}for(j=
g.values.keys();j.hasNext();){var p=j.next(),q=g.values.get(p);null!=h&&(k=h.attributes.get(p),null!=k&&(k=n.Boot.__cast(k,b.stencyl.behavior.Attribute),null!=k&&(l=k.type,m=k.ID,i.set(p,new b.stencyl.behavior.Attribute(m,k.fieldName,k.fullName,q,l,null)))))}null!=h&&(g=new b.stencyl.behavior.Behavior(f,d,h.ID,h.name,h.classname,!0,!1,i,h.type,h.isEvent),a.add(g))}}e&&a.initScripts()}};b.stencyl.Engine.toPhysicalUnits=function(a){return a/=b.stencyl.Engine.physicsScale};b.stencyl.Engine.toPixelUnits=
function(a){return a*=b.stencyl.Engine.physicsScale};b.stencyl.Engine.vToPhysicalUnits=function(a){a.x=b.stencyl.Engine.toPhysicalUnits(a.x);a.y=b.stencyl.Engine.toPhysicalUnits(a.y);return a};b.stencyl.Engine.vToPixelUnits=function(a){a.x=b.stencyl.Engine.toPixelUnits(a.x);a.y=b.stencyl.Engine.toPixelUnits(a.y);return a};b.stencyl.Engine.invokeListeners=function(a){for(var c=0;c<a.length;){try{var f=a[c];f(a);-1==b.stencyl.utils.Utils.indexOf(a,f)&&c--}catch(d){if(n.Boot.__instanceof(d,String))null;
else throw d;}c++}};b.stencyl.Engine.invokeListeners2=function(a,c){for(var f=0;f<a.length;){try{var d=a[f];d(c,a);-1==b.stencyl.utils.Utils.indexOf(a,d)&&f--}catch(e){if(n.Boot.__instanceof(e,String))null;else throw e;}f++}};b.stencyl.Engine.invokeListeners3=function(a,c,f){for(var d=0;d<a.length;){try{var e=a[d];e(c,f,a);-1==b.stencyl.utils.Utils.indexOf(a,e)&&d--}catch(g){if(n.Boot.__instanceof(g,String))null;else throw g;}d++}};b.stencyl.Engine.invokeListeners4=function(a,c,f,d){for(var e=0;e<
a.length;){try{var g=a[e];g(c,f,d,a);-1==b.stencyl.utils.Utils.indexOf(a,g)&&e--}catch(h){if(n.Boot.__instanceof(h,String))null;else throw h;}e++}};b.stencyl.Engine.invokeListeners5=function(a,c,f,d,e){for(var g=0;g<a.length;){try{var h=a[g];h(c,f,d,e,a);-1==b.stencyl.utils.Utils.indexOf(a,h)&&g--}catch(i){if(n.Boot.__instanceof(i,String))null;else throw i;}g++}};b.stencyl.Engine.invokeListeners6=function(a,c,f,d,e,g){for(var h=0;h<a.length;){try{var i=a[h];i(c,f,d,e,g,a);-1==b.stencyl.utils.Utils.indexOf(a,
i)&&h--}catch(j){if(n.Boot.__instanceof(j,String))null;else throw j;}h++}};b.stencyl.Engine.prototype={setOffscreenTolerance:function(a,c,f,d){b.stencyl.Engine.paddingTop=a;b.stencyl.Engine.paddingLeft=c;b.stencyl.Engine.paddingBottom=f;b.stencyl.Engine.paddingRight=d},getGameAttribute:function(a){return this.gameAttributes.get(a)},setGameAttribute:function(a,c){this.gameAttributes.set(a,c)},nextTerrainRegionID:function(){for(var a=-1,c=this.terrainRegions.iterator();c.hasNext();){var f=c.next();
null!=f&&(a=Math.max(a,f.ID)|0)}return a+1},getTerrainRegions:function(){return this.terrainRegions},getTerrainRegion:function(a){return this.terrainRegions.get(a)},removeTerrainRegion:function(a){var c=this.getTerrainRegion(a);this.terrainRegions.remove(a);c.destroy()},addTerrainRegion:function(a){var c=this.nextTerrainRegionID();a.ID=c;this.terrainRegions.set(c,a)},createCircularTerrainRegion:function(a,c,f,d){null==d&&(d=1);var a=b.stencyl.Engine.toPhysicalUnits(a),c=b.stencyl.Engine.toPhysicalUnits(c),
f=b.stencyl.Engine.toPhysicalUnits(f),o=new e.collision.shapes.B2CircleShape;o.m_radius=f;return this.createTerrainRegion(a,c,o,!0,d)},createBoxTerrainRegion:function(a,c,f,d,o){null==o&&(o=1);var a=b.stencyl.Engine.toPhysicalUnits(a),c=b.stencyl.Engine.toPhysicalUnits(c),f=b.stencyl.Engine.toPhysicalUnits(f),d=b.stencyl.Engine.toPhysicalUnits(d),g=new e.collision.shapes.B2PolygonShape;g.setAsBox(f/2,d/2);return this.createTerrainRegion(a,c,g,!0,o)},createTerrainRegion:function(a,c,f,d,e){null==e&&
(e=1);null==d&&(d=!1);var g=[];g.push(f);f=new b.stencyl.models.Terrain(this,a,c,g,e);d&&(f.setX(b.stencyl.Engine.toPixelUnits(a)+f.regionWidth/2),f.setY(b.stencyl.Engine.toPixelUnits(c)+f.regionHeight/2));this.addTerrainRegion(f);return f},isInRegion:function(a,c){return null!=c&&null!=this.regions.get(c.getID())?c.containsActor(a):!1},nextRegionID:function(){for(var a=-1,c=this.regions.iterator();c.hasNext();){var f=c.next();null!=f&&(a=Math.max(a,f.ID)|0)}return a+1},getRegions:function(){return this.regions},
getRegion:function(a){return this.regions.get(a)},removeRegion:function(a){a=this.getRegion(a);this.regions.remove(a.ID);a.destroy();b.stencyl.Engine.NO_PHYSICS&&this.groups.get(b.stencyl.models.GameModel.REGION_ID).removeChild(a)},addRegion:function(a){var c=this.nextRegionID();a.ID=c;this.regions.set(c,a);b.stencyl.Engine.NO_PHYSICS&&this.groups.get(b.stencyl.models.GameModel.REGION_ID).addChild(a)},createCircularRegion:function(a,c,f){a=b.stencyl.Engine.toPhysicalUnits(a);c=b.stencyl.Engine.toPhysicalUnits(c);
f=b.stencyl.Engine.toPhysicalUnits(f);if(b.stencyl.Engine.NO_PHYSICS)return a=new b.stencyl.models.Region(this,a,c,[],new d.geom.Rectangle(0,0,2*f,2*f)),this.addRegion(a),a;var z=new e.collision.shapes.B2CircleShape;z.m_radius=f;return this.createRegion(a,c,z,!0)},createBoxRegion:function(a,c,f,z){a=b.stencyl.Engine.toPhysicalUnits(a);c=b.stencyl.Engine.toPhysicalUnits(c);f=b.stencyl.Engine.toPhysicalUnits(f);z=b.stencyl.Engine.toPhysicalUnits(z);if(b.stencyl.Engine.NO_PHYSICS)return a=new b.stencyl.models.Region(this,
a,c,[],new d.geom.Rectangle(0,0,f,z)),this.addRegion(a),a;var o=new e.collision.shapes.B2PolygonShape;o.setAsBox(f/2,z/2);return this.createRegion(a,c,o,!0)},createRegion:function(a,c,f,d){null==d&&(d=!1);var e=[];e.push(f);f=new b.stencyl.models.Region(this,a,c,e);d&&(f.setX(b.stencyl.Engine.toPixelUnits(a)+f.regionWidth/2),f.setY(b.stencyl.Engine.toPixelUnits(c)+f.regionHeight/2));this.addRegion(f);return f},createSlidingJoint:function(a,c,f,d,o,g,h,i,j,p,k){null==k&&(k=0);null==p&&(p=0);null==
j&&(j=0);null==i&&(i=0);null==h&&(h=!1);null==g&&(g=!1);null==o&&(o=!1);null==d&&(d=-1);null==c&&(c=this.world.m_groundBody);null==f&&(f=new e.common.math.B2Vec2(1,0));f.normalize();var l=a.getWorldCenter(),m=c.getWorldCenter();0==a.getType()&&null!=n.Boot.__cast(a.getUserData(),b.stencyl.models.Actor)&&(l.x=n.Boot.__cast(a.getUserData(),b.stencyl.models.Actor).getPhysicsWidth()/2,l.y=n.Boot.__cast(a.getUserData(),b.stencyl.models.Actor).getPhysicsHeight()/2,l=a.getWorldPoint(l));0==c.getType()&&
null!=n.Boot.__cast(c.getUserData(),b.stencyl.models.Actor)&&(m.x=n.Boot.__cast(c.getUserData(),b.stencyl.models.Actor).getPhysicsWidth()/2,m.y=n.Boot.__cast(c.getUserData(),b.stencyl.models.Actor).getPhysicsHeight()/2,c.getWorldPoint(m));m=new e.dynamics.joints.B2LineJointDef;m.initialize(a,c,l,f);m.collideConnected=o;m.enableLimit=g;m.enableMotor=h;m.lowerTranslation=b.stencyl.Engine.toPhysicalUnits(i);m.upperTranslation=b.stencyl.Engine.toPhysicalUnits(j);m.maxMotorForce=p;m.motorSpeed=b.stencyl.Engine.toPhysicalUnits(k);
a=this.world.createJoint(m);-1==d?this.addJoint(a):(this.joints.set(d,a),a.ID=d);return n.Boot.__cast(a,e.dynamics.joints.B2LineJoint)},createHingeJoint:function(a,c,f,d,o,g,h,i,j,p,k){null==k&&(k=0);null==p&&(p=0);null==j&&(j=0);null==i&&(i=0);null==h&&(h=!1);null==g&&(g=!1);null==o&&(o=!1);null==d&&(d=-1);null==c&&(c=this.world.m_groundBody);null==f&&(f=a.getLocalCenter());var l=new e.dynamics.joints.B2RevoluteJointDef;l.bodyA=a;l.bodyB=c;f.x=b.stencyl.Engine.toPhysicalUnits(f.x);f.y=b.stencyl.Engine.toPhysicalUnits(f.y);
l.localAnchorA=f;l.localAnchorB=c.getLocalPoint(a.getWorldPoint(f));l.collideConnected=o;l.enableLimit=g;l.enableMotor=h;l.lowerAngle=i;l.upperAngle=j;l.maxMotorTorque=p;l.motorSpeed=k;a=this.world.createJoint(l);-1==d?this.addJoint(a):(this.joints.set(d,a),a.ID=d);return n.Boot.__cast(a,e.dynamics.joints.B2RevoluteJoint)},createCustomStickJoint:function(a,c,f,d,o,g){c=new e.common.math.B2Vec2(c,f);o=new e.common.math.B2Vec2(o,g);c.x=b.stencyl.Engine.toPhysicalUnits(c.x);c.y=b.stencyl.Engine.toPhysicalUnits(c.y);
o.x=b.stencyl.Engine.toPhysicalUnits(o.x);o.y=b.stencyl.Engine.toPhysicalUnits(o.y);c=a.getWorldPoint(c);o=d.getWorldPoint(o);g=new e.dynamics.joints.B2DistanceJointDef;g.initialize(a,d,c,o);a=this.world.createJoint(g);this.addJoint(a);return n.Boot.__cast(a,e.dynamics.joints.B2DistanceJoint)},createStickJoint:function(a,c,f,d,o,g){null==g&&(g=0);null==o&&(o=0);null==d&&(d=!1);null==f&&(f=-1);var h=a.getLocalCenter(),i=c.getLocalCenter();0==a.getType()&&(h.x=n.Boot.__cast(a.getUserData(),b.stencyl.models.Actor).getPhysicsWidth()/
2,h.y=n.Boot.__cast(a.getUserData(),b.stencyl.models.Actor).getPhysicsHeight()/2);0==c.getType()&&(i.x=n.Boot.__cast(c.getUserData(),b.stencyl.models.Actor).getPhysicsWidth()/2,i.y=n.Boot.__cast(c.getUserData(),b.stencyl.models.Actor).getPhysicsHeight()/2);var h=a.getWorldPoint(h),i=c.getWorldPoint(i),j=new e.dynamics.joints.B2DistanceJointDef;j.initialize(a,c,h,i);j.collideConnected=d;j.dampingRatio=o;j.frequencyHz=g;a=this.world.createJoint(j);-1==f?this.addJoint(a):(this.joints.set(f,a),a.ID=f);
return n.Boot.__cast(a,e.dynamics.joints.B2DistanceJoint)},destroyJoint:function(a){this.joints.remove(a.ID);this.world.destroyJoint(a)},getJoint:function(a){return this.joints.get(a)},addJoint:function(a){var c=this.nextJointID();a.ID=c;this.joints.set(c,a)},nextJointID:function(){for(var a=-1,c=this.joints.iterator();c.hasNext();){var f=c.next();null!=f&&(a=Math.max(a,f.ID)|0)}return a+1},getGroup:function(a,c){return a==b.stencyl.models.GameModel.INHERIT_ID&&null!=c?this.groups.get(c.getGroupID()):
this.groups.get(a)},disableGlobalSleeping:function(){this.world.m_allowSleep=!1},enableGlobalSleeping:function(){this.world.m_allowSleep=!0},getPhysicalHeight:function(){return this.physicalHeight},getPhysicalWidth:function(){return this.physicalWidth},getIDFromLayerOrder:function(a){return this.layersToDraw.get(a-1)},getOrderForLayerID:function(a){return this.layerOrders.get(a)},bringForward:function(a){this.removeActorFromLayer(a,a.layerID);var c=this.getOrderForLayerID(a.layerID);0<c&&(a.layerID=
this.layersToDraw.get(c-1));this.moveActorToLayer(a,a.layerID)},bringToFront:function(a){this.removeActorFromLayer(a,a.layerID);a.layerID=this.getTopLayer();this.moveActorToLayer(a,a.layerID)},sendBackward:function(a){this.removeActorFromLayer(a,a.layerID);var c=this.getOrderForLayerID(a.layerID);c<this.layersToDraw.size-1&&(a.layerID=this.layersToDraw.get(c+1));this.moveActorToLayer(a,a.layerID)},sendToBack:function(a){this.removeActorFromLayer(a,a.layerID);a.layerID=this.getBottomLayer();this.moveActorToLayer(a,
a.layerID)},moveToLayer:function(a,c){if(!(0>c||c>this.layersToDraw.size-1)&&a.layerID!=c)this.removeActorFromLayer(a,a.layerID),a.layerID=c,this.moveActorToLayer(a,c)},removeHUDActor:function(a){this.hudActors["delete"](a)},addHUDActor:function(a){this.hudActors.set(a,a)},getRecycledActorsOfType:function(a){return this.recycledActorsOfType.get(a.ID)},getActorsOfType:function(a){return null==a?[]:null!=this.actorsOfType.get(a.ID)?this.actorsOfType.get(a.ID):[]},getActor:function(a){return this.allActors.get(a)},
shout:function(a,c){return this.behaviors.call(a,c)},say:function(a,c,f){return this.behaviors.call2(a,c,f)},setValue:function(a,c,f){this.behaviors.setAttribute(a,c,f)},getValue:function(a,c){return this.behaviors.getAttribute(a,c)},draw:function(){for(var a=this.layers.iterator();a.hasNext();){var c=a.next();c.overlay.jeashGetGraphics().clear();c.bitmapOverlay.bitmapData.fillRect(c.bitmapOverlay.bitmapData.rect,0)}for(c=this.hudActors.iterator();c.hasNext();)if(a=c.next(),null==a||a.dead)this.hudActors["delete"](a);
for(var f=this.allActors.iterator();f.hasNext();)a=f.next(),0<a.whenDrawingListeners.length&&(c=this.layers.get(a.layerID),this.g.graphics=c.overlay.jeashGetGraphics(),this.g.canvas=c.bitmapOverlay.bitmapData,this.g.translateToActor(a),b.stencyl.Engine.invokeListeners4(a.whenDrawingListeners,this.g,0,0));for(a=this.tileLayers.iterator();a.hasNext();)c=a.next(),(this.cameraMoved||this.tileUpdated)&&c.draw(b.stencyl.Engine.cameraX|0,b.stencyl.Engine.cameraY|0,1),c.jeashSetX(b.stencyl.Engine.cameraX),
c.jeashSetY(b.stencyl.Engine.cameraY);this.tileUpdated=!1;this.g.graphics=this.transitionLayer.jeashGetGraphics();this.g.canvas=n.Boot.__cast(this.transitionBitmapLayer,d.display.Bitmap).bitmapData;this.g.translateToScreen();this.g.graphics.clear();this.g.canvas.fillRect(this.g.canvas.rect,0);b.stencyl.Engine.invokeListeners4(this.whenDrawingListeners,this.g,0,0);null!=this.leave&&this.leave.isActive()?this.leave.draw(null):null!=this.enter&&this.enter.isActive()&&this.enter.draw(null)},isPaused:function(){return b.stencyl.Engine.paused},
unpause:function(){b.stencyl.Engine.paused=!1;for(var a=this.allActors.iterator();a.hasNext();){var c=a.next();null!=c&&c.unpause()}b.stencyl.Engine.invokeListeners2(this.whenPausedListeners,!1)},pause:function(){if(!this.isTransitioning()){b.stencyl.Engine.paused=!0;for(var a=this.allActors.iterator();a.hasNext();){var c=a.next();null!=c&&c.pause()}b.stencyl.Engine.invokeListeners2(this.whenPausedListeners,!0)}},cameraFollow:function(a){this.camera.setLocation(Math.round(a.colX+a.cacheWidth/2),Math.round(a.colY+
a.cacheHeight/2))},stopShakingScreen:function(){this.shakeTimer=0;this.isShaking=!1;this.master.jeashSetX(0);this.master.jeashSetY(0)},shakeScreen:function(a,c){this.shakeTimer=b.stencyl.Engine.MS_PER_SEC*c|0;this.isShaking=!0;this.shakeIntensity=a},removeTask:function(a){x.remove(this.tasks,a)},addTask:function(a){this.tasks.push(a)},soundFinished:function(a){var c=n.Boot.__cast(this.channels[a],b.stencyl.models.SoundChannel),a=this.soundListeners.get(a),f=this.soundListeners.get(c.currentClip);
null!=a&&b.stencyl.Engine.invokeListeners(a);null!=f&&b.stencyl.Engine.invokeListeners(f);c.currentSound=null},handleCollision:function(a,c){var f=a.typeID,d=c.otherActor.typeID,e=0,g=0;if(b.stencyl.Engine.NO_PHYSICS)e=c.thisActor.groupID,g=c.otherActor.groupID;else{if(null!=c.thisShape){g=c.thisShape.groupID;if(g==b.stencyl.models.GameModel.INHERIT_ID){var h=c.thisShape.getBody();null!=h&&(g=h.getUserData().groupID)}e=b.stencyl.models.Actor.GROUP_OFFSET+g}else e=b.stencyl.models.Actor.GROUP_OFFSET+
c.thisActor.groupID;null!=c.otherShape?(g=c.otherShape.groupID,g==b.stencyl.models.GameModel.INHERIT_ID&&(h=c.otherShape.getBody(),null!=h&&(g=h.getUserData().groupID)),g=b.stencyl.models.Actor.GROUP_OFFSET+g):g=b.stencyl.models.Actor.GROUP_OFFSET+c.otherActor.groupID}if(null!=this.collisionPairs&&(this.collisionPairs.exists(a)||this.collisionPairs.set(a,new b.stencyl.utils.HashMap),this.collisionPairs.exists(c.otherActor)||this.collisionPairs.set(c.otherActor,new b.stencyl.utils.HashMap),this.collisionPairs.get(a).exists(c.otherActor)||
this.collisionPairs.get(c.otherActor).exists(a)))return;if(-1<f||-1<d){if(!c.otherCollidedWithTerrain&&(this.collisionListeners.exists(f)&&this.collisionListeners.get(f).exists(d))&&(h=this.collisionListeners.get(f).get(d),b.stencyl.Engine.invokeListeners2(h,c),0==h.length))this.collisionListeners.get(f)["delete"](d);if(f!=d&&this.collisionListeners.exists(d)&&this.collisionListeners.get(d).exists(f)){var h=this.collisionListeners.get(d).get(f),i=c.switchData();b.stencyl.Engine.invokeListeners2(h,
i);if(0==h.length)this.collisionListeners.get(d)["delete"](f)}}if(0<e&&0<g){if(this.collisionListeners.exists(e)&&this.collisionListeners.get(e).exists(g)&&(h=this.collisionListeners.get(e).get(g),b.stencyl.Engine.invokeListeners2(h,c),0==h.length))this.collisionListeners.get(e)["delete"](g);if(e!=g&&(this.collisionListeners.exists(g)&&this.collisionListeners.get(g).exists(e))&&(h=this.collisionListeners.get(g).get(e),i=c.switchData(),b.stencyl.Engine.invokeListeners2(h,i),0==h.length))this.collisionListeners.get(g)["delete"](e)}null!=
this.collisionPairs&&(this.collisionPairs.get(a).set(c.otherActor,!1),this.collisionPairs.get(c.otherActor).set(a,!1))},focusChanged:function(a){null!=this.whenFocusChangedListeners&&b.stencyl.Engine.invokeListeners2(this.whenFocusChangedListeners,a)},onFocusLost:function(){this.focusChanged(!0)},onFocus:function(){this.focusChanged(!1)},postUpdate:function(a){for(;this.acc>b.stencyl.Engine.STEP_SIZE;)this.update(b.stencyl.Engine.STEP_SIZE),this.acc-=b.stencyl.Engine.STEP_SIZE,b.stencyl.Input.update();
this.lastTime=a;for(a=this.allActors.iterator();a.hasNext();){var c=a.next();if(!(null==c||!c.isLightweight&&null==c.body))if(c.dead||c.dying)this.removeActor(c);else if(c.updateMatrix||c.resetOrigin)c.updateDrawingMatrix(),c.updateMatrix=!1}a=b.stencyl.Engine.cameraX/this.scene.tileWidth|0;c=b.stencyl.Engine.cameraY/this.scene.tileHeight|0;this.cameraMoved=!(this.cameraOldX==a&&this.cameraOldY==c);this.cameraOldX=a;this.cameraOldY=c;this.draw()},onUpdate:function(){var a=d.Lib.getTimer(),c=a-this.lastTime;
200<=c&&(c=200);this.acc+=c;b.stencyl.Engine.elapsedTime=c;null!=this.leave?this.leave.isComplete()?(this.leave.stop(),this.enterScene()):this.postUpdate(a):(null!=this.enter&&this.enter.isComplete()&&(this.enter.stop(),this.enter.cleanup(),this.enter=null),this.postUpdate(a))},update:function(a){if(null!=this.scene){if(!b.stencyl.Engine.NO_PHYSICS){var c=this.world.getScreenBounds();c.lowerBound.x=(Math.abs(b.stencyl.Engine.cameraX/b.stencyl.Engine.SCALE)-b.stencyl.Engine.paddingLeft)/b.stencyl.Engine.physicsScale;
c.lowerBound.y=(Math.abs(b.stencyl.Engine.cameraY/b.stencyl.Engine.SCALE)-b.stencyl.Engine.paddingTop)/b.stencyl.Engine.physicsScale;c.upperBound.x=c.lowerBound.x+(b.stencyl.Engine.screenWidth+b.stencyl.Engine.paddingRight+b.stencyl.Engine.paddingLeft)/b.stencyl.Engine.physicsScale;c.upperBound.y=c.lowerBound.y+(b.stencyl.Engine.screenHeight+b.stencyl.Engine.paddingBottom+b.stencyl.Engine.paddingTop)/b.stencyl.Engine.physicsScale}b.stencyl.Input.mousePressed&&(b.stencyl.behavior.Script.mpx=b.stencyl.Input.mouseX/
b.stencyl.Engine.SCALE,b.stencyl.behavior.Script.mpy=b.stencyl.Input.mouseY/b.stencyl.Engine.SCALE,b.stencyl.Engine.invokeListeners(this.whenMousePressedListeners));b.stencyl.Input.mouseReleased&&(b.stencyl.behavior.Script.mrx=b.stencyl.Input.mouseX/b.stencyl.Engine.SCALE,b.stencyl.behavior.Script.mry=b.stencyl.Input.mouseY/b.stencyl.Engine.SCALE,b.stencyl.Engine.invokeListeners(this.whenMouseReleasedListeners));if(this.mx!=b.stencyl.Input.mouseX||this.my!=b.stencyl.Input.mouseY)this.mx=b.stencyl.Input.mouseX/
b.stencyl.Engine.SCALE,this.my=b.stencyl.Input.mouseY/b.stencyl.Engine.SCALE,b.stencyl.Engine.invokeListeners(this.whenMouseMovedListeners),b.stencyl.Input.mouseDown&&b.stencyl.Engine.invokeListeners(this.whenMouseDraggedListeners);for(c=0;c<this.tasks.length;){var f=this.tasks[c];f.done||f.update(b.stencyl.Engine.STEP_SIZE);f.done&&(x.remove(this.tasks,f),c--);c++}for(c=this.whenKeyPressedListeners.keys();c.hasNext();){var d=c.next(),f=this.whenKeyPressedListeners.get(d),e=b.stencyl.Input.pressed(d),
d=b.stencyl.Input.released(d);(e||d)&&b.stencyl.Engine.invokeListeners3(f,e,d)}b.stencyl.Engine.invokeListeners2(this.whenUpdatedListeners,a);b.stencyl.Engine.NO_PHYSICS||(this.world.step(0.01,3,3),this.world.clearForces(),b.stencyl.Engine.DEBUG_DRAW&&this.world.drawDebugData());for(c=this.regions.iterator();c.hasNext();)f=c.next(),null!=f&&f.innerUpdate(a,!0);f=[];b.stencyl.Engine.NO_PHYSICS||(this.collisionPairs=new b.stencyl.utils.HashMap);b.stencyl.models.actor.Animation.updateAll(a);for(c=this.allActors.iterator();c.hasNext();)e=
c.next(),null!=e&&(!e.dead&&!e.recycled)&&(d=(e.isLightweight||e.body.isActive())&&e.colX+e.cacheWidth>=-b.stencyl.Engine.cameraX/b.stencyl.Engine.SCALE-b.stencyl.Engine.paddingLeft&&e.colY+e.cacheHeight>=-b.stencyl.Engine.cameraY/b.stencyl.Engine.SCALE-b.stencyl.Engine.paddingTop&&e.colX<-b.stencyl.Engine.cameraX/b.stencyl.Engine.SCALE+b.stencyl.Engine.screenWidth+b.stencyl.Engine.paddingRight&&e.colY<-b.stencyl.Engine.cameraY/b.stencyl.Engine.SCALE+b.stencyl.Engine.screenHeight+b.stencyl.Engine.paddingBottom,
!e.isLightweight&&null!=e.body?e.killLeaveScreen&&!d?this.recycleActor(e):(e.body.isActive()||e.alwaysSimulate||e.isHUD)&&e.innerUpdate(a,!1):e.isLightweight&&(e.killLeaveScreen&&!d?this.recycleActor(e):(d||e.alwaysSimulate||e.isHUD)&&e.innerUpdate(a,!1)),e.dead&&f.push(e));for(c=0;c<f.length;)e=f[c],++c,null!=e&&(e.handlesCollisions=!1);c=0;for(f=this.animatedTiles;c<f.length;)e=f[c],++c,e.update(a),this.tileUpdated=this.tileUpdated||e.updateSource;null!=this.leave&&this.leave.isActive()?this.leave.update(a):
null!=this.enter&&this.enter.isActive()&&this.enter.update(a);b.stencyl.Engine.cameraX=-Math.abs(this.camera.realX)+b.stencyl.Engine.screenWidthHalf;b.stencyl.Engine.cameraY=-Math.abs(this.camera.realY)+b.stencyl.Engine.screenHeightHalf;e=-b.stencyl.Engine.sceneWidth+b.stencyl.Engine.screenWidth;d=-b.stencyl.Engine.sceneHeight+b.stencyl.Engine.screenHeight;b.stencyl.Engine.cameraX<e&&(b.stencyl.Engine.cameraX=e);b.stencyl.Engine.cameraY<d&&(b.stencyl.Engine.cameraY=d);b.stencyl.Engine.cameraX*=b.stencyl.Engine.SCALE;
b.stencyl.Engine.cameraY*=b.stencyl.Engine.SCALE;b.stencyl.Engine.cameraX=Math.min(0,b.stencyl.Engine.cameraX);b.stencyl.Engine.cameraY=Math.min(0,b.stencyl.Engine.cameraY);f=0;for(c=this.master.jeashChildren.length;f<c;){var g=f++,g=this.master.getChildAt(g);if(n.Boot.__instanceof(g,b.stencyl.models.scene.layers.BackgroundLayer)){var h=Math.abs(n.Boot.__cast(g,b.stencyl.models.scene.layers.BackgroundLayer).cacheWidth-b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE),i=Math.abs(n.Boot.__cast(g,
b.stencyl.models.scene.layers.BackgroundLayer).cacheHeight-b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);0!=e?g.jeashSetX(-h*Math.abs(b.stencyl.Engine.cameraX/(e*b.stencyl.Engine.SCALE))):g.jeashSetX(0);0!=d?g.jeashSetY(-i*Math.abs(b.stencyl.Engine.cameraY/(d*b.stencyl.Engine.SCALE))):g.jeashSetY(0)}else n.Boot.__instanceof(g,b.stencyl.models.scene.ScrollingBitmap)?(g=n.Boot.__cast(g,b.stencyl.models.scene.ScrollingBitmap),g.parallax?g.updateParallax():g.updateAuto(a)):n.Boot.__instanceof(g,
b.stencyl.models.scene.layers.RegularLayer)&&(g.jeashSetX(b.stencyl.Engine.cameraX),g.jeashSetY(b.stencyl.Engine.cameraY))}!b.stencyl.Engine.NO_PHYSICS&&b.stencyl.Engine.DEBUG_DRAW&&(this.debugLayer.jeashSetX(b.stencyl.Engine.cameraX),this.debugLayer.jeashSetY(b.stencyl.Engine.cameraY));this.isShaking&&(this.shakeTimer-=b.stencyl.Engine.STEP_SIZE,0>=this.shakeTimer?this.stopShakingScreen():(a=-this.shakeIntensity*b.stencyl.Engine.screenWidth+Math.random()*2*this.shakeIntensity*b.stencyl.Engine.screenWidth,
c=-this.shakeIntensity*b.stencyl.Engine.screenHeight+Math.random()*2*this.shakeIntensity*b.stencyl.Engine.screenHeight,this.master.jeashSetX(a*b.stencyl.Engine.SCALE),this.master.jeashSetY(c*b.stencyl.Engine.SCALE)))}},getMiddleLayer:function(){return this.layersToDraw.get(this.middleLayer)},getBottomLayer:function(){return this.layersToDraw.get(this.bottomLayer)},getTopLayer:function(){return this.layersToDraw.get(this.topLayer)},createActorOfType:function(a,c,f,d){if(null==a)return null;var e=0,
e=d==b.stencyl.behavior.Script.FRONT?this.getTopLayer():d==b.stencyl.behavior.Script.BACK?this.getBottomLayer():this.getMiddleLayer(),c=new b.stencyl.models.scene.ActorInstance(1E8,c|0,f|0,1,1,e,0,a.groupID,a.ID,null,!1),c=this.createActor(c,!0);c.initScripts();a=this.whenTypeGroupCreatedListeners.get(a);f=this.whenTypeGroupCreatedListeners.get(c.getGroup());null!=a&&b.stencyl.Engine.invokeListeners2(a,c);null!=f&&b.stencyl.Engine.invokeListeners2(f,c);return c},getRecycledActorOfType:function(a,
c,f,e){var o=null;null==this.recycledActorsOfType.get(a.ID)&&this.recycledActorsOfType.set(a.ID,[]);var g=this.recycledActorsOfType.get(a.ID);if(null!=g){for(var h=0;h<g.length;)if(o=g[h],++h,null!=o&&o.recycled)return o.createTime=d.Lib.getTimer(),o.recycled=!1,o.switchToDefaultAnimation(),o.enableAllBehaviors(),o.isLightweight||(o.body.setActive(!0),o.body.setAwake(!0)),o.registry=new F,o.enableActorDrawing(),o.setX(c),o.setY(f),o.setAngle(0,!1),o.alpha=1,o.realScaleX=1,o.realScaleY=1,o.initScripts(),
a=0,a=e==b.stencyl.behavior.Script.FRONT?this.getTopLayer():e==b.stencyl.behavior.Script.BACK?this.getBottomLayer():this.getMiddleLayer(),this.moveActorToLayer(o,a),o;o=this.createActorOfType(a,c,f,e);g.push(o)}return o},recycleActor:function(a){if(null!=a){var c=b.stencyl.Engine.engine.whenTypeGroupDiesListeners.get(a.getType()),f=b.stencyl.Engine.engine.whenTypeGroupDiesListeners.get(a.getGroup());b.stencyl.Engine.invokeListeners(a.whenKilledListeners);null!=c&&b.stencyl.Engine.invokeListeners2(c,
a);null!=f&&b.stencyl.Engine.invokeListeners2(f,a);a.alwaysSimulate&&a.makeSometimesSimulate(!1);a.setX(1E6);a.setY(1E6);a.recycled=!0;a.cancelTweens();a.fadeTo(1,0.01);a.switchToDefaultAnimation();a.disableActorDrawing();if(!a.isLightweight&&null!=a.body)for(c=a.body.getContactList();null!=c;)b.stencyl.Engine.engine.world.m_contactManager.m_contactListener.endContact(c.contact),c=c.next;a.removeAllListeners();a.resetListeners();this.removeActorFromLayer(a,a.layerID);a.isLightweight||(a.body.setActive(!1),
a.body.setAwake(!1));a.xSpeed=0;a.ySpeed=0;a.rSpeed=0}},moveActorToLayer:function(a,c){var f=this.actorsPerLayer.get(c);null==f&&(f=this.defaultGroup);f.addChild(a);a.layerID=c},removeActorFromLayer:function(a,c){var f=this.actorsPerLayer.get(c);null==f&&(f=this.defaultGroup);f.contains(a)&&f.removeChild(a)},removeActor:function(a){this.allActors.remove(a.ID);this.removeActorFromLayer(a,a.layerID);this.groups.get(a.getGroupID()).removeChild(a);if(a.isHUD||a.alwaysSimulate)this.hudActors["delete"](a);
a.destroy();var c=n.Boot.__cast(b.stencyl.Data.get().resources.get(a.typeID),b.stencyl.models.actor.ActorType);null!=c&&(c=this.actorsOfType.get(c.ID),null!=c&&x.remove(c,a))},createActor:function(a){var c=n.Boot.__cast(b.stencyl.Data.get().resources.get(a.actorType.spriteID),b.stencyl.models.actor.Sprite),c=new b.stencyl.models.Actor(this,a.elementID,a.groupID,a.x/b.stencyl.Engine.physicsScale,a.y/b.stencyl.Engine.physicsScale,a.layerID,c.width,c.height,c,a.behaviorValues,a.actorType,b.stencyl.Engine.NO_PHYSICS?
null:a.actorType.bodyDef,!1,!1,!1,!1,null,a.actorType.ID,a.actorType.isLightweight||b.stencyl.Engine.NO_PHYSICS,a.actorType.autoScale,a.actorType.ignoreGravity);0!=a.angle&&c.setAngle(a.angle,!1);(1!=a.scaleX||1!=a.scaleY)&&c.growTo(a.scaleX,a.scaleY,0);c.name=a.actorType.name;this.moveActorToLayer(c,a.layerID);null==this.recycledActorsOfType.get(a.actorType.ID)&&this.recycledActorsOfType.set(a.actorType.ID,[]);this.recycledActorsOfType.get(a.actorType.ID).push(c);var f=this.groups.get(a.groupID);
null!=f&&f.addChild(c);1E8==a.elementID?(this.nextID++,c.ID=this.nextID,this.allActors.set(c.ID,c)):(this.allActors.set(c.ID,c),this.nextID=Math.max(c.ID,this.nextID)|0);c.internalUpdate(0,!1);c.updateDrawingMatrix();null!=a.actorType&&(f=this.actorsOfType.get(a.actorType.ID),null==f&&(f=[],this.actorsOfType.set(a.actorType.ID,f)),null!=f&&f.push(c));return c},createActorInNextScene:function(a,c,f,d){this.actorsToCreateInNextScene.push(new b.stencyl.models.scene.DeferredActor(a,c,f,d))},isTransitioning:function(){return null!=
this.enter&&this.enter.isActive()||null!=this.leave&&this.leave.isActive()?!0:!1},enterScene:function(){this.enter.isComplete()||(this.enter.start(),null!=this.leave&&this.leave.cleanup());this.leave=null;this.cleanup();this.loadScene(this.sceneToEnter)},switchScene:function(a,c,f){if(!this.isTransitioning()){null!=c&&c.isComplete()&&c.reset();if(null==c||0==c.duration)c=new b.stencyl.graphics.transitions.Transition(0);if(null==f||0==f.duration)f=new b.stencyl.graphics.transitions.Transition(1);this.leave=
c;this.enter=f;this.leave.isComplete()||this.leave.start();this.sceneToEnter=a}},cleanup:function(){null!=b.stencyl.Engine.debugDrawer&&null!=b.stencyl.Engine.debugDrawer.m_sprite&&b.stencyl.Engine.debugDrawer.m_sprite.jeashGetGraphics().clear();b.stencyl.utils.Utils.removeAllChildren(this.master);b.stencyl.utils.Utils.removeAllChildren(this.hudLayer);this.behaviors.destroy();for(var a=this.actorsPerLayer.iterator();a.hasNext();){var c=a.next();b.stencyl.utils.Utils.removeAllChildren(c)}this.camera.destroy();
this.camera=null;if(null!=this.world){a=this.world.getBodyList();for(c=this.world.getJointList();null!=c;)this.world.destroyJoint(c),c=c.getNext();for(;null!=a;)this.world.destroyBody(a),a=a.getNext()}for(c=this.actorsOfType.iterator();c.hasNext();)a=c.next(),a.length=0;for(c=this.recycledActorsOfType.iterator();c.hasNext();)a=c.next(),a.length=0;this.whenFocusChangedListeners=this.whenMTEndListeners=this.whenMTDragListeners=this.whenMTStartListeners=this.whenSwipedListeners=this.whenPausedListeners=
this.whenMouseDraggedListeners=this.whenMouseMovedListeners=this.whenMouseReleasedListeners=this.whenMousePressedListeners=this.whenDrawingListeners=this.whenUpdatedListeners=this.nativeListeners=this.soundListeners=this.collisionListeners=this.typeGroupPositionListeners=this.whenTypeGroupDiesListeners=this.whenTypeGroupCreatedListeners=this.whenKeyPressedListeners=this.tasks=this.scene=this.allActors=this.groups=this.joints=this.terrainRegions=this.regions=this.animatedTiles=this.dynamicTiles=this.layerOrders=
this.layersToDraw=this.actorsPerLayer=this.layers=this.hudActors=this.recycledActorsOfType=this.actorsOfType=null;b.stencyl.Input.update();this.world=null},initLayers:function(){var a=new b.stencyl.utils.SizedIntHash,c=new b.stencyl.utils.SizedIntHash,f=new b.stencyl.utils.SizedIntHash,e=0;this.tileLayers=this.scene.terrain;this.animatedTiles=this.scene.animatedTiles;if(null!=this.animatedTiles)for(var o=0,g=this.animatedTiles;o<g.length;){var h=g[o];++o;h.currFrame=0;h.currTime=0}if(null!=this.scene.terrain)for(o=
this.scene.terrain.iterator();o.hasNext();)g=o.next(),e=Math.max(e,g.zOrder)|0,a.set(g.zOrder,g.layerID),c.set(g.layerID,g.zOrder),f.set(g.zOrder,g.zOrder);g=0;for(o=e+1;g<o;){var i=g++;f.exists(i)||a.set(i,-1)}this.layersToDraw=a;this.layerOrders=c;c=a=!1;g=f=0;for(o=e+1;g<o;)i=g++,i=this.layersToDraw.get(i),-1!=i&&f++;g=h=0;for(o=e+1;g<o;){var i=g++,j=e-i,i=this.layersToDraw.get(j);if(-1!=i&&this.layersToDraw.exists(j)){var p=new b.stencyl.models.scene.layers.RegularLayer,k=null,l=new d.display.Sprite,
m=new d.display.Bitmap(new d.display.BitmapData(b.stencyl.Engine.screenWidth,b.stencyl.Engine.screenHeight,!0,0));null!=this.scene.terrain&&(k=new b.stencyl.models.scene.Layer(i,j,this.scene.terrain.get(i),l,m));a||(a=!0,this.bottomLayer=j);!c&&h==Math.floor(f/2)&&(c=!0,this.middleLayer=j);if(null!=k){var n=this.scene.terrain.get(i);if(null==n)continue;n.reset();k.name=b.stencyl.Engine.REGULAR_LAYER;this.master.addChild(k);this.master.addChild(n);b.stencyl.Engine.NO_PHYSICS&&this.scene.terrain.get(i).mountGrid();
this.layers.set(i,k)}p.name=b.stencyl.Engine.REGULAR_LAYER;this.master.addChild(p);this.master.addChild(l);this.master.addChild(m);this.actorsPerLayer.set(i,p);this.topLayer=j;this.defaultGroup=p;h++}}null==this.defaultGroup&&(this.defaultGroup=new b.stencyl.models.scene.layers.RegularLayer,this.defaultGroup.name=b.stencyl.Engine.REGULAR_LAYER,this.master.addChild(this.defaultGroup))},loadTerrain:function(){this.initLayers();for(var a=0,c=this.scene.wireframes;a<c.length;){var f=c[a];++a;var d=null;
b.stencyl.Engine.NO_PHYSICS||(d=new b.stencyl.models.Actor(this,1E8,b.stencyl.models.GameModel.TERRAIN_ID,f.x,f.y,this.getTopLayer(),f.width|0,f.height|0,null,new F,null,null,!1,!0,!1,!1,f.shape));d.name="Terrain";d.typeID=-1;d.jeashSetVisible(!1);this.getGroup(b.stencyl.models.GameModel.TERRAIN_ID).list.set(d,d)}},loadJoints:function(){if(!b.stencyl.Engine.NO_PHYSICS)for(var a=this.scene.joints.iterator();a.hasNext();){var c=a.next(),f=c.actor1,d=c.actor2,o=c.collideConnected,g=null,h=null,i=null;
if(3==c.type)this.joints.set(c.ID,this.createStickJoint(this.getActor(f).body,this.getActor(d).body,c.ID,o));else if(1==c.type){var j=n.Boot.__cast(c,e.dynamics.joints.B2RevoluteJointDef),i=this.getActor(f).body.getLocalCenter().copy();i.x=b.stencyl.Engine.toPixelUnits(i.x);i.y=b.stencyl.Engine.toPixelUnits(i.y);g=this.getActor(f).body;h=-1==d?this.world.m_groundBody:this.getActor(d).body;this.joints.set(c.ID,this.createHingeJoint(g,h,i,c.ID,o,j.enableLimit,j.enableMotor,j.lowerAngle,j.upperAngle,
j.maxMotorTorque,-j.motorSpeed))}else if(2==c.type||7==c.type)j=n.Boot.__cast(c,e.dynamics.joints.B2LineJointDef),i=this.getActor(f).body.getLocalCenter().copy(),i.x=b.stencyl.Engine.toPixelUnits(i.x),i.y=b.stencyl.Engine.toPixelUnits(i.y),g=this.getActor(f).body,h=-1==d?this.world.m_groundBody:this.getActor(d).body,this.joints.set(c.ID,this.createSlidingJoint(g,h,j.localAxisA,c.ID,o,j.enableLimit,j.enableMotor,j.lowerTranslation,j.upperTranslation,j.maxMotorForce,j.motorSpeed))}},loadTerrainRegions:function(){this.terrainRegions=
new B;if(!b.stencyl.Engine.NO_PHYSICS)for(var a=this.scene.terrainRegions.iterator();a.hasNext();){var c=a.next(),f=new b.stencyl.models.Terrain(this,c.x,c.y,c.shapes,c.groupID,c.fillColor);f.name=c.name;f.setX(b.stencyl.Engine.toPixelUnits(c.x)+f.regionWidth/2);f.setY(b.stencyl.Engine.toPixelUnits(c.y)+f.regionHeight/2);f.ID=c.ID;this.addTerrainRegion(f);this.terrainRegions.set(c.ID,f)}},loadRegions:function(){this.regions=new B;for(var a=this.scene.regions.iterator();a.hasNext();){var c=a.next(),
f=new b.stencyl.models.Region(this,c.x,c.y,c.shapes,c.simpleBounds);f.name=c.name;b.stencyl.Engine.NO_PHYSICS||(f.setX(b.stencyl.Engine.toPixelUnits(c.x)+f.regionWidth/2),f.setY(b.stencyl.Engine.toPixelUnits(c.y)+f.regionHeight/2));f.ID=c.ID;this.addRegion(f);this.regions.set(c.ID,f)}},loadCamera:function(){this.camera=new b.stencyl.models.Actor(this,-1,b.stencyl.models.GameModel.DOODAD_ID,0,0,this.getTopLayer(),2,2,null,null,null,null,!0,!1,!0,!1,null,0,!0,!1);this.camera.name="Camera";this.cameraMoved=
this.camera.isCamera=!0;this.cameraOldY=this.cameraOldX=-1},initActorScripts:function(){for(var a=0,c=this.actorsToCreate;a<c.length;){var f=c[a];++a;f.initScripts()}this.actorsToCreate=null},loadDeferredActors:function(){for(var a=0,c=this.actorsToCreateInNextScene;a<c.length;){var f=c[a];++a;b.stencyl.behavior.Script.lastCreatedActor=this.createActorOfType(f.type,f.x,f.y,f.layer)}this.actorsToCreateInNextScene=[]},loadActors:function(){this.actorsToCreate=[];for(var a=this.scene.actors.iterator();a.hasNext();){var c=
a.next();this.actorsToCreate.push(this.createActor(c,!0))}},initPhysics:function(){var a=new e.common.math.B2Vec2(this.scene.gravityX,this.scene.gravityY);this.world=new e.dynamics.B2World(a,!1);e.dynamics.B2World.m_continuousPhysics=!1;e.dynamics.B2World.m_warmStarting=!0;a=new e.collision.B2AABB;a.lowerBound.x=0;a.lowerBound.y=0;a.upperBound.x=b.stencyl.Engine.screenWidth/b.stencyl.Engine.physicsScale;a.upperBound.y=b.stencyl.Engine.screenHeight/b.stencyl.Engine.physicsScale;this.world.setScreenBounds(a);
b.stencyl.Engine.debugDrawer=new e.dynamics.B2DebugDraw;b.stencyl.Engine.debugDrawer.setSprite(this.debugLayer);b.stencyl.Engine.debugDrawer.setLineThickness(3);b.stencyl.Engine.debugDrawer.setDrawScale(10*b.stencyl.Engine.SCALE);b.stencyl.Engine.debugDrawer.setFillAlpha(0);b.stencyl.Engine.debugDrawer.setFlags(e.dynamics.B2DebugDraw.e_shapeBit);this.world.setDebugDraw(b.stencyl.Engine.debugDrawer)},loadBackground:function(a){var c=n.Boot.__cast(b.stencyl.Data.get().resources.get(a),b.stencyl.models.background.ImageBackground),
a=new b.stencyl.models.scene.layers.BackgroundLayer(c.img);null==c||null==c.img||(c.repeats&&c.drawRepeated(a,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0),n.Boot.__instanceof(c,b.stencyl.models.background.ScrollingBackground)?(c=n.Boot.__cast(c,b.stencyl.models.background.ScrollingBackground),a=new b.stencyl.models.scene.ScrollingBitmap(a.bitmapData,c.xVelocity,c.yVelocity),a.name=b.stencyl.Engine.SCROLLING_BACKGROUND):c.repeats?(a=
new b.stencyl.models.scene.ScrollingBitmap(a.bitmapData,0,0,c.parallaxX,c.parallaxY),a.name=b.stencyl.Engine.SCROLLING_BACKGROUND):(a.cacheWidth=a.jeashGetWidth(),a.cacheHeight=a.jeashGetHeight(),a.name=b.stencyl.Engine.BACKGROUND),this.master.addChild(a))},loadForegrounds:function(){for(var a=0,c=this.scene.fgs;a<c.length;){var f=c[a];++a;this.loadBackground(f,!0)}},loadBackgrounds:function(){var a=new d.display.Shape;this.scene.colorBackground.draw(a.jeashGetGraphics(),0,0,b.stencyl.Engine.screenWidth*
b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.master.addChild(a);for(var a=0,c=this.scene.bgs;a<c.length;){var f=c[a];++a;this.loadBackground(f)}},loadScene:function(a){for(var c=this.atlasesToUnload.iterator();c.hasNext();){var f=c.next();b.stencyl.Data.get().unloadAtlas(f)}for(c=this.atlasesToLoad.iterator();c.hasNext();)f=c.next(),b.stencyl.Data.get().loadAtlas(f);this.atlasesToLoad=new B;this.atlasesToUnload=new B;b.stencyl.Engine.paddingTop=0;b.stencyl.Engine.paddingLeft=
0;b.stencyl.Engine.paddingBottom=0;b.stencyl.Engine.paddingRight=0;this.tasks=[];this.scene=b.stencyl.models.GameModel.get().scenes.get(a);if(-1==a||null==this.scene)if(this.scene=b.stencyl.models.GameModel.get().scenes.get(b.stencyl.models.GameModel.get().defaultSceneID),null==this.scene){b.stencyl.Engine.stage.removeEventListener(d.events.Event.ENTER_FRAME,A(this,this.onUpdate));return}b.stencyl.Engine.sceneWidth=this.scene.sceneWidth;b.stencyl.Engine.sceneHeight=this.scene.sceneHeight;this.behaviors=
new b.stencyl.behavior.BehaviorManager;this.groups=new B;a=0;for(f=b.stencyl.models.GameModel.get().groups;a<f.length;){c=f[a];++a;var e=new b.stencyl.models.actor.Group(c.ID,c.name);this.groups.set(c.ID,e);e.name=c.name}this.groups.set(b.stencyl.models.GameModel.REGION_ID,new b.stencyl.models.actor.Group(b.stencyl.models.GameModel.REGION_ID,"Regions"));this.actorsOfType=new B;this.recycledActorsOfType=new B;this.regions=new B;this.terrainRegions=new B;this.joints=new B;this.layers=new B;this.tileLayers=
new B;this.dynamicTiles=new F;this.animatedTiles=[];this.hudActors=new b.stencyl.utils.HashMap;this.allActors=new B;this.actorsPerLayer=new B;this.nextID=0;this.whenKeyPressedListeners=new F;this.whenTypeGroupCreatedListeners=new b.stencyl.utils.HashMap;this.whenTypeGroupDiesListeners=new b.stencyl.utils.HashMap;this.typeGroupPositionListeners=new B;this.collisionListeners=new B;this.soundListeners=new b.stencyl.utils.HashMap;this.nativeListeners=[];this.whenUpdatedListeners=[];this.whenDrawingListeners=
[];this.whenMousePressedListeners=[];this.whenMouseReleasedListeners=[];this.whenMouseMovedListeners=[];this.whenMouseDraggedListeners=[];this.whenPausedListeners=[];this.whenSwipedListeners=[];this.whenMTStartListeners=[];this.whenMTDragListeners=[];this.whenMTEndListeners=[];this.whenFocusChangedListeners=[];b.stencyl.Engine.NO_PHYSICS||this.initPhysics();this.loadBackgrounds();this.loadTerrain();this.loadRegions();this.loadTerrainRegions();this.loadActors();this.loadCamera();this.loadJoints();
this.loadDeferredActors();b.stencyl.Engine.initBehaviors(this.behaviors,this.scene.behaviorValues,this,this,!0);this.initActorScripts();this.loadForegrounds()},begin:function(a){this.atlasesToLoad=new B;this.atlasesToUnload=new B;b.stencyl.Input.enable();b.stencyl.Input.define(b.stencyl.Engine.INTERNAL_SHIFT,[16]);b.stencyl.Input.define(b.stencyl.Engine.INTERNAL_CTRL,[17]);b.stencyl.Engine.landscape=r.MyAssets.landscape;var c=r.MyAssets.stageWidth,f=r.MyAssets.stageHeight;b.stencyl.Engine.screenWidth=
c|0;b.stencyl.Engine.screenHeight=f|0;b.stencyl.Engine.screenWidthHalf=c/2|0;b.stencyl.Engine.screenHeightHalf=f/2|0;b.stencyl.Data.get();b.stencyl.models.GameModel.get().loadScenes();this.g=new b.stencyl.graphics.G;b.stencyl.Engine.started=!0;this.tileUpdated=this.cameraMoved=!1;this.shakeTimer=0;this.shakeIntensity=0.01;this.isShaking=!1;this.enter=this.leave=null;b.stencyl.Engine.cameraX=0;b.stencyl.Engine.cameraY=0;this.cameraOldY=this.cameraOldX=-1;this.acc=0;this.lastTime=d.Lib.getTimer();b.stencyl.Engine.sceneWidth=
c;b.stencyl.Engine.sceneHeight=f;this.master=new d.display.Sprite;this.root.addChild(this.master);this.hudLayer=new d.display.Sprite;this.root.addChild(this.hudLayer);this.transitionLayer=new d.display.Sprite;this.root.addChild(this.transitionLayer);this.transitionBitmapLayer=new d.display.Bitmap(new d.display.BitmapData(1,1,!0,0));this.debugLayer=new d.display.Sprite;this.root.addChild(this.debugLayer);this.actorsToCreateInNextScene=[];this.gameAttributes=new F;r.MyAssets.showConsole&&(this.stats=
new b.nmefermmmtools.debug.Stats,b.stencyl.Engine.stage.addChild(this.stats));for(c=b.stencyl.models.GameModel.get().gameAttributes.keys();c.hasNext();)f=c.next(),this.gameAttributes.set(f,b.stencyl.models.GameModel.get().gameAttributes.get(f));this.channels=[];c=0;for(f=b.stencyl.behavior.Script.CHANNELS;c<f;){var e=c++;this.channels.push(new b.stencyl.models.SoundChannel(this,e))}this.enter=new b.stencyl.graphics.transitions.FadeInTransition(0.5);this.enter.start();this.sceneToEnter=a;this.loadScene(a)},
stats:null,isFullScreen:null,nativeListeners:null,whenFocusChangedListeners:null,whenMTEndListeners:null,whenMTDragListeners:null,whenMTStartListeners:null,whenSwipedListeners:null,whenPausedListeners:null,whenMouseDraggedListeners:null,whenMouseMovedListeners:null,whenMouseReleasedListeners:null,whenMousePressedListeners:null,whenDrawingListeners:null,whenUpdatedListeners:null,soundListeners:null,collisionListeners:null,typeGroupPositionListeners:null,whenTypeGroupDiesListeners:null,whenTypeGroupCreatedListeners:null,
whenKeyPressedListeners:null,collisionPairs:null,my:null,mx:null,acc:null,lastTime:null,behaviors:null,gameAttributes:null,actorsToCreate:null,atlasesToUnload:null,atlasesToLoad:null,cameraOldY:null,cameraOldX:null,cameraMoved:null,tileUpdated:null,layerOrders:null,layersToDraw:null,middleLayer:null,bottomLayer:null,topLayer:null,animatedTiles:null,dynamicTiles:null,tileLayers:null,layers:null,actorsToCreateInNextScene:null,recycledActorsOfType:null,actorsOfType:null,hudActors:null,actorsPerLayer:null,
nextID:null,allActors:null,groups:null,g:null,debugLayer:null,transitionLayer:null,transitionBitmapLayer:null,hudLayer:null,master:null,root:null,defaultGroup:null,joints:null,terrainRegions:null,regions:null,tasks:null,channels:null,camera:null,scene:null,isShaking:null,shakeIntensity:null,shakeTimer:null,sceneToEnter:null,enter:null,leave:null,physicalHeight:null,physicalWidth:null,world:null,__class__:b.stencyl.Engine};b.stencyl.Input=function(){};l["com.stencyl.Input"]=b.stencyl.Input;b.stencyl.Input.__name__=
["com","stencyl","Input"];b.stencyl.Input.lastKey=null;b.stencyl.Input.mouseDown=null;b.stencyl.Input.mouseUp=null;b.stencyl.Input.mousePressed=null;b.stencyl.Input.mouseReleased=null;b.stencyl.Input.mouseWheel=null;b.stencyl.Input.accelX=null;b.stencyl.Input.accelY=null;b.stencyl.Input.accelZ=null;b.stencyl.Input.numTouches=null;b.stencyl.Input.swipeDirection=null;b.stencyl.Input.swipedUp=null;b.stencyl.Input.swipedDown=null;b.stencyl.Input.swipedLeft=null;b.stencyl.Input.swipedRight=null;b.stencyl.Input.define=
function(a,c){b.stencyl.Input._control.set(a,c)};b.stencyl.Input.check=function(a){if(n.Boot.__instanceof(a,String)){a=b.stencyl.Input._control.get(a);if(null==a)return!1;for(var c=a.length;0<c--;)if(0>a[c]){if(0<b.stencyl.Input._keyNum)return!0}else if(b.stencyl.Input._key[a[c]])return!0;return!1}return 0>a?0<b.stencyl.Input._keyNum:b.stencyl.Input._key[a]};b.stencyl.Input.pressed=function(a){if(n.Boot.__instanceof(a,String)){a=b.stencyl.Input._control.get(a);if(null==a)return!1;for(var c=a.length;0<
c--;)if(0>a[c]?0!=b.stencyl.Input._pressNum:0<=b.stencyl.Input.indexOf(b.stencyl.Input._press,a[c]))return!0;return!1}return 0>a?0!=b.stencyl.Input._pressNum:0<=b.stencyl.Input.indexOf(b.stencyl.Input._press,a)};b.stencyl.Input.released=function(a){if(n.Boot.__instanceof(a,String)){a=b.stencyl.Input._control.get(a);if(null==a)return!1;for(var c=a.length;0<c--;)if(0>a[c]?0!=b.stencyl.Input._releaseNum:0<=b.stencyl.Input.indexOf(b.stencyl.Input._release,a[c]))return!0;return!1}return 0>a?0!=b.stencyl.Input._releaseNum:
0<=b.stencyl.Input.indexOf(b.stencyl.Input._release,a)};b.stencyl.Input.indexOf=function(a,c){for(var f=0,b=0;b<a.length;){var d=a[b];++b;if(c==d)return f;f++}return-1};b.stencyl.Input.enable=function(){!b.stencyl.Input._enabled&&null!=b.stencyl.Engine.stage&&(b.stencyl.Engine.stage.addEventListener(d.events.KeyboardEvent.KEY_DOWN,b.stencyl.Input.onKeyDown,!1,2),b.stencyl.Engine.stage.addEventListener(d.events.KeyboardEvent.KEY_UP,b.stencyl.Input.onKeyUp,!1,2),b.stencyl.Engine.stage.addEventListener(d.events.MouseEvent.MOUSE_DOWN,
b.stencyl.Input.onMouseDown,!1,2),b.stencyl.Engine.stage.addEventListener(d.events.MouseEvent.MOUSE_UP,b.stencyl.Input.onMouseUp,!1,2),b.stencyl.Engine.stage.addEventListener(d.events.MouseEvent.MOUSE_WHEEL,b.stencyl.Input.onMouseWheel,!1,2),b.stencyl.Input.swipeDirection=-1,b.stencyl.Input.swipedLeft=!1,b.stencyl.Input.swipedRight=!1,b.stencyl.Input.swipedUp=!1,b.stencyl.Input.swipedDown=!1,b.stencyl.Input.mouseX=0,b.stencyl.Input.mouseY=0,b.stencyl.Input.accelX=0,b.stencyl.Input.accelY=0,b.stencyl.Input.accelZ=
0,b.stencyl.Input.numTouches=0,b.stencyl.Input._enabled=!0)};b.stencyl.Input.update=function(){b.stencyl.Input.mouseX=(b.stencyl.Engine.stage.jeashGetMouseX()-b.stencyl.Engine.screenOffsetX)/b.stencyl.Engine.screenScaleX;for(b.stencyl.Input.mouseY=(b.stencyl.Engine.stage.jeashGetMouseY()-b.stencyl.Engine.screenOffsetY)/b.stencyl.Engine.screenScaleY;-1<b.stencyl.Input._pressNum--;)b.stencyl.Input._press[b.stencyl.Input._pressNum]=-1;for(b.stencyl.Input._pressNum=0;-1<b.stencyl.Input._releaseNum--;)b.stencyl.Input._release[b.stencyl.Input._releaseNum]=
-1;b.stencyl.Input._releaseNum=0;b.stencyl.Input.mousePressed&&(b.stencyl.Input.mousePressed=!1);b.stencyl.Input.mouseReleased&&(b.stencyl.Input.mouseReleased=!1)};b.stencyl.Input.simulateKeyPress=function(a){var c=b.stencyl.Input._control.get(a)[0];b.stencyl.Input.onKeyDown(new d.events.KeyboardEvent(d.events.KeyboardEvent.KEY_DOWN,!0,!0,c,c));a=b.stencyl.Engine.engine.whenKeyPressedListeners.get(a);null!=a&&b.stencyl.Engine.invokeListeners3(a,!0,!1)};b.stencyl.Input.simulateKeyRelease=function(a){var c=
b.stencyl.Input._control.get(a)[0];b.stencyl.Input.onKeyUp(new d.events.KeyboardEvent(d.events.KeyboardEvent.KEY_UP,!0,!0,c,c));a=b.stencyl.Engine.engine.whenKeyPressedListeners.get(a);null!=a&&b.stencyl.Engine.invokeListeners3(a,!1,!0)};b.stencyl.Input.onKeyDown=function(a){a=b.stencyl.Input.lastKey=a.keyCode;if(8==a)b.stencyl.Input.keyString=x.substr(b.stencyl.Input.keyString,0,b.stencyl.Input.keyString.length-1);else if(47<a&&58>a||64<a&&91>a||32==a){100<b.stencyl.Input.keyString.length&&(b.stencyl.Input.keyString=
x.substr(b.stencyl.Input.keyString,1,null));var c=String.fromCharCode(a);b.stencyl.Input.keyString+=c}b.stencyl.Input._key[a]||(b.stencyl.Input._key[a]=!0,b.stencyl.Input._keyNum++,b.stencyl.Input._press[b.stencyl.Input._pressNum++]=a)};b.stencyl.Input.onKeyUp=function(a){a=a.keyCode;b.stencyl.Input._key[a]&&(b.stencyl.Input._key[a]=!1,b.stencyl.Input._keyNum--,b.stencyl.Input._release[b.stencyl.Input._releaseNum++]=a)};b.stencyl.Input.onMouseDown=function(){b.stencyl.Input.mouseDown||(b.stencyl.Input.mouseDown=
!0,b.stencyl.Input.mouseUp=!1,b.stencyl.Input.mousePressed=!0)};b.stencyl.Input.onMouseUp=function(){b.stencyl.Input.mouseDown=!1;b.stencyl.Input.mouseUp=!0;b.stencyl.Input.mouseReleased=!0};b.stencyl.Input.onMouseWheel=function(a){b.stencyl.Input.mouseWheel=!0;b.stencyl.Input._mouseWheelDelta=a.delta};b.stencyl.Key=function(){};l["com.stencyl.Key"]=b.stencyl.Key;b.stencyl.Key.__name__=["com","stencyl","Key"];b.stencyl.Key.nameOfKey=function(a){if(97<=a&&122>=a)return String.fromCharCode(a);if(112<=
a&&126>=a)return"F"+m.string(a-111);if(96<=a&&105>=a)return"NUMPAD "+m.string(a-96);switch(a){case 37:return"LEFT";case 38:return"UP";case 39:return"RIGHT";case 40:return"DOWN";case 13:return"ENTER";case 17:return"CONTROL";case 32:return"SPACE";case 16:return"SHIFT";case 8:return"BACKSPACE";case 20:return"CAPS LOCK";case 46:return"DELETE";case 35:return"END";case 27:return"ESCAPE";case 36:return"HOME";case 45:return"INSERT";case 9:return"TAB";case 34:return"PAGE DOWN";case 33:return"PAGE UP";case 107:return"NUMPAD ADD";
case 110:return"NUMPAD DECIMAL";case 111:return"NUMPAD DIVIDE";case 108:return"NUMPAD ENTER";case 106:return"NUMPAD MULTIPLY";case 109:return"NUMPAD SUBTRACT";default:return String.fromCharCode(a)}};b.stencyl.behavior={};b.stencyl.behavior.Script=function(a){this.engine=this.scene=a;this.nameMap=new F;this.propertyChangeListeners=new F;this.equalityPairs=new b.stencyl.utils.HashMap};l["com.stencyl.behavior.Script"]=b.stencyl.behavior.Script;b.stencyl.behavior.Script.__name__=["com","stencyl","behavior",
"Script"];b.stencyl.behavior.Script.strCompare=function(a,c,f){return 0>f?a<c:a>c};b.stencyl.behavior.Script.strCompareBefore=function(a,c){return a<c};b.stencyl.behavior.Script.strCompareAfter=function(a,c){return a>c};b.stencyl.behavior.Script.abortTween=function(){};b.stencyl.behavior.Script.prototype={createBrightnessFilter:function(){return new d.filters.BitmapFilter("")},createSaturationFilter:function(){return new d.filters.BitmapFilter("")},createHueFilter:function(){return new d.filters.BitmapFilter("")},
createTintFilter:function(){return new d.filters.BitmapFilter("")},createNegativeFilter:function(){return new d.filters.BitmapFilter("")},createSepiaFilter:function(){return new d.filters.BitmapFilter("")},createGrayscaleFilter:function(){return new d.filters.BitmapFilter("")},disableDebugDrawing:function(){b.stencyl.Engine.DEBUG_DRAW=!1;b.stencyl.Engine.NO_PHYSICS||b.stencyl.Engine.debugDrawer.m_sprite.jeashGetGraphics().clear()},enableDebugDrawing:function(){b.stencyl.Engine.DEBUG_DRAW=!0;b.stencyl.Engine.NO_PHYSICS||
b.stencyl.Engine.debugDrawer.m_sprite.jeashGetGraphics().clear()},setIconBadgeNumber:function(){},hideKeyboard:function(){},showKeyboard:function(){},vibrate:function(){},showAlert:function(){},purchasesGetQuantity:function(){return 0},purchasesUse:function(){},purchasesGetPrice:function(){return""},purchasesGetDescription:function(){return""},purchasesGetTitle:function(){return""},purchasesHasBought:function(){return!1},purchasesBuy:function(){},purchasesRestore:function(){},purchasesAreInitialized:function(){return!1},
gameCenterResetAchievements:function(){},gameCenterSubmitAchievement:function(){},gameCenterSubmitScore:function(){},gameCenterShowAchievements:function(){},gameCenterShowLeaderboard:function(){},gameCenterGetPlayerID:function(){return"None"},gameCenterGetPlayerName:function(){return"None"},gameCenterIsAuthenticated:function(){return!1},gameCenterInitialize:function(){},hideMobileAd:function(){},showMobileAd:function(){},unloadAtlas:function(a){this.engine.atlasesToUnload.set(a,a)},loadAtlas:function(a){this.engine.atlasesToLoad.set(a,
a)},mochiSubmitScore:function(){},mochiShowScores:function(){},mochiShowAd:function(){},kongregateGetUserID:function(){return 0},kongregateGetUsername:function(){return"Guest"},kongregateIsGuest:function(){return!0},kongregateSubmitStat:function(){},kongregateInitAPI:function(){},newgroundsHelper:function(){},newgroundsShowScore:function(){},newgroundsSubmitScore:function(){},newgroundsUnlockMedal:function(){},newgroundsSetMedalPosition:function(){},newgroundsShowAd:function(){},simpleTweet:function(a,
c){this.openURLInBrowser("http://twitter.com/home?status="+E.urlEncode(a+" "+c))},postToURL:function(a,c,f){null==f&&(f=A(this,this.defaultURLHandler));a=new d.net.URLRequest(a);a.method=d.net.URLRequestMethod.POST;null!=c&&(a.data=new d.net.URLVariables(c));try{(new d.net.URLLoader(a)).addEventListener(d.events.Event.COMPLETE,f)}catch(b){if(n.Boot.__instanceof(b,String))null;else throw b;}},visitURL:function(a,c){null==c&&(c=A(this,this.defaultURLHandler));try{var b=new d.net.URLRequest(a);b.method=
d.net.URLRequestMethod.GET;(new d.net.URLLoader(b)).addEventListener(d.events.Event.COMPLETE,c)}catch(e){if(n.Boot.__instanceof(e,String))null;else throw e;}},openURLInBrowser:function(a){s.Lib.getURL(new d.net.URLRequest(a))},defaultURLHandler:function(a){new d.net.URLLoader(a.target);null},loadGame:function(a,c){for(var b=d.net.SharedObject.getLocal(a),e=0,o=w.fields(b.data);e<o.length;){var g=o[e];++e;this.engine.gameAttributes.set(g,w.field(b.data,g))}c(!0)},saveGame:function(a,c){for(var b=d.net.SharedObject.getLocal(a),
e=this.engine.gameAttributes.keys();e.hasNext();){var o=e.next();b.data[o]=this.engine.gameAttributes.get(o)}e=null;try{e=b.flush()}catch(g){c(!1);return}if(null!=e)switch(e){case d.net.SharedObjectFlushedStatus.FLUSHED:c(!0)}},tweenNumber:function(){},randomInt:function(a,c){return(a|0)+Math.floor(this.randomFloat()*((c|0)-(a|0)+1))},randomFloat:function(){return Math.random()},setTimeScale:function(a){b.stencyl.Engine.timeScale=a},isTransitioning:function(){return this.engine.isTransitioning()},
setOffscreenTolerance:function(a,c,f,d){b.stencyl.Engine.paddingTop=a|0;b.stencyl.Engine.paddingLeft=c|0;b.stencyl.Engine.paddingRight=d|0;b.stencyl.Engine.paddingBottom=f|0},getScreenHeight:function(){return b.stencyl.Engine.screenHeight},getScreenWidth:function(){return b.stencyl.Engine.screenWidth},unpauseAll:function(){b.stencyl.Engine.paused=!1},pauseAll:function(){b.stencyl.Engine.paused=!0},toggleFullScreen:function(){},unpause:function(){this.engine.unpause()},pause:function(){this.engine.pause()},
getFont:function(a){return n.Boot.__cast(b.stencyl.Data.get().resources.get(a),b.stencyl.models.Font)},getMiddleLayer:function(){return this.engine.getMiddleLayer()},getBottomLayer:function(){return this.engine.getBottomLayer()},getTopLayer:function(){return this.engine.getTopLayer()},stopShakingScreen:function(){this.engine.stopShakingScreen()},startShakingScreen:function(a,c){null==c&&(c=0.5);null==a&&(a=0.05);this.engine.shakeScreen(a,c)},setBackground:function(){},setScrollSpeedForBackground:function(a,
c){for(var f=0,d=b.stencyl.Engine.engine.master.jeashChildren.length;f<d;){var e=f++,e=b.stencyl.Engine.engine.master.getChildAt(e);n.Boot.__instanceof(e,b.stencyl.models.scene.ScrollingBitmap)&&(e=n.Boot.__cast(e,b.stencyl.models.scene.ScrollingBitmap),e.xVelocity=a,e.yVelocity=c)}},fadeOutForAllSounds:function(a){for(var c=0,f=b.stencyl.behavior.Script.CHANNELS;c<f;){var d=c++;this.engine.channels[d].fadeOutSound(a)}},fadeInForAllSounds:function(a){for(var c=0,f=b.stencyl.behavior.Script.CHANNELS;c<
f;){var d=c++;this.engine.channels[d].fadeInSound(a)}},fadeOutSoundOnChannel:function(a,c){this.engine.channels[a].fadeOutSound(c)},fadeInSoundOnChannel:function(a,c){this.engine.channels[a].fadeInSound(c)},setVolumeForAllSounds:function(a){b.stencyl.models.SoundChannel.masterVolume=a;for(var c=0,f=b.stencyl.behavior.Script.CHANNELS;c<f;){var d=c++;this.engine.channels[d].setVolume(a)}},stopAllSounds:function(){for(var a=0,c=b.stencyl.behavior.Script.CHANNELS;a<c;){var f=a++;this.engine.channels[f].stopSound()}},
setVolumeForChannel:function(a,c){this.engine.channels[c].setVolume(a)},resumeSoundOnChannel:function(a){this.engine.channels[a].setPause(!1)},pauseSoundOnChannel:function(a){this.engine.channels[a].setPause(!0)},stopSoundOnChannel:function(a){this.engine.channels[a].stopSound()},loopSoundOnChannel:function(a,c){this.engine.channels[c].loopSound(a)},playSoundOnChannel:function(a,c){this.engine.channels[c].playSound(a)},loopSound:function(a){if(null!=a){for(var c=0,f=b.stencyl.behavior.Script.CHANNELS;c<
f;){var d=c++,d=this.engine.channels[d];if(null==d.currentSound){d.loopSound(a);return}}null}},playSound:function(a){if(null!=a){for(var c=0,f=b.stencyl.behavior.Script.CHANNELS;c<f;){var d=c++,d=this.engine.channels[d];if(null==d.currentSound){d.playSound(a);return}}null}},getSound:function(a){return n.Boot.__cast(b.stencyl.Data.get().resources.get(a),b.stencyl.models.Sound)},unmute:function(){},mute:function(){},makeActorNotPassThroughTerrain:function(a){e.dynamics.B2World.m_continuousPhysics=!0;
null!=a&&!a.isLightweight&&a.body.setBullet(!0)},toPixelUnits:function(a){return b.stencyl.Engine.toPixelUnits(a)},toPhysicalUnits:function(a){return b.stencyl.Engine.toPhysicalUnits(a)},enableContinuousCollisions:function(){e.dynamics.B2World.m_continuousPhysics=!0},getGravity:function(){return this.engine.world.getGravity()},setGravity:function(a,c){this.engine.world.setGravity(new e.common.math.B2Vec2(a,c))},getActorGroup:function(a){return this.engine.getGroup(a)},getActor:function(a){return this.engine.getActor(a)},
getActorsOfType:function(a){return this.engine.getActorsOfType(a)},getAllActorTypes:function(){return b.stencyl.Data.get().getAllActorTypes()},getActorType:function(a){return n.Boot.__cast(b.stencyl.Data.get().resources.get(a),b.stencyl.models.actor.ActorType)},getActorTypeByName:function(a){for(var c=this.getAllActorTypes(),b=0;b<c.length;){var d=c[b];++b;if(d.name==a)return d}return null},createActorInNextScene:function(a,c,b,d){this.engine.createActorInNextScene(a,c,b,d)},recycleActor:function(a){this.engine.recycleActor(a)},
createRecycledActor:function(a,c,f,d){a=this.engine.getRecycledActorOfType(a,c,f,d);return b.stencyl.behavior.Script.lastCreatedActor=a},createActor:function(a,c,f,d){a=this.engine.createActorOfType(a,c,f,d);return b.stencyl.behavior.Script.lastCreatedActor=a},getLastCreatedActor:function(){return b.stencyl.behavior.Script.lastCreatedActor},hideCursor:function(){d.ui.Mouse.hide()},showCursor:function(){d.ui.Mouse.show()},getMouseReleasedY:function(){return b.stencyl.behavior.Script.mry},getMouseReleasedX:function(){return b.stencyl.behavior.Script.mrx},
getMousePressedY:function(){return b.stencyl.behavior.Script.mpy},getMousePressedX:function(){return b.stencyl.behavior.Script.mpx},getMouseWorldY:function(){return b.stencyl.Input.mouseY/b.stencyl.Engine.SCALE+b.stencyl.Engine.cameraX},getMouseWorldX:function(){return b.stencyl.Input.mouseX/b.stencyl.Engine.SCALE+b.stencyl.Engine.cameraY},getMouseY:function(){return b.stencyl.Input.mouseY/b.stencyl.Engine.SCALE},getMouseX:function(){return b.stencyl.Input.mouseX/b.stencyl.Engine.SCALE},isMouseReleased:function(){return b.stencyl.Input.mouseReleased},
isMousePressed:function(){return b.stencyl.Input.mousePressed},isMouseDown:function(){return b.stencyl.Input.mouseDown},isKeyReleased:function(a){return b.stencyl.Input.released(a)},isKeyPressed:function(a){return b.stencyl.Input.pressed(a)},isKeyDown:function(a){return b.stencyl.Input.check(a)},simulateKeyRelease:function(a){b.stencyl.Input.simulateKeyRelease(a)},simulateKeyPress:function(a){b.stencyl.Input.simulateKeyPress(a)},isShiftDown:function(){return b.stencyl.Input.check(b.stencyl.Engine.INTERNAL_SHIFT)},
isCtrlDown:function(){return b.stencyl.Input.check(b.stencyl.Engine.INTERNAL_CTRL)},getCamera:function(){return this.engine.camera},getScreenY:function(){return Math.abs(b.stencyl.Engine.cameraY/b.stencyl.Engine.SCALE)},getScreenX:function(){return Math.abs(b.stencyl.Engine.cameraX/b.stencyl.Engine.SCALE)},fadeTileLayerTo:function(a,c,f,d){null==d&&(d=b.eclecticdesignstudio.motion.easing.Linear.getEaseNone());b.eclecticdesignstudio.motion.Actuate.tween(this.engine.layers.get(a),f,{alpha:c}).ease(d);
b.eclecticdesignstudio.motion.Actuate.tween(this.engine.actorsPerLayer.get(a),f,{alpha:c}).ease(d)},hideTileLayer:function(a){this.engine.layers.get(a).alpha=0;this.engine.actorsPerLayer.get(a).alpha=0},showTileLayer:function(a){this.engine.layers.get(a).alpha=255;this.engine.actorsPerLayer.get(a).alpha=255},setBlendModeForLayer:function(a,c){this.engine.layers.get(a).blendMode=c;this.engine.actorsPerLayer.get(a).blendMode=c},getLayer:function(a){return this.engine.layers.get(a)},createCircleIn:function(a,
c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.CircleTransition(b.stencyl.graphics.transitions.Transition.IN,a,c)},createCircleOut:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.CircleTransition(b.stencyl.graphics.transitions.Transition.OUT,a,c)},createFadeIn:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.FadeInTransition(a,c)},createFadeOut:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.FadeOutTransition(a,
c)},createCrossfadeTransition:function(a){return new b.stencyl.graphics.transitions.CrossfadeTransition(this.engine.root,a)},createSlideRightTransition:function(a){return this.createSlideTransition(a,b.stencyl.graphics.transitions.SlideTransition.SLIDE_RIGHT)},createSlideLeftTransition:function(a){return this.createSlideTransition(a,b.stencyl.graphics.transitions.SlideTransition.SLIDE_LEFT)},createSlideDownTransition:function(a){return this.createSlideTransition(a,b.stencyl.graphics.transitions.SlideTransition.SLIDE_DOWN)},
createSlideUpTransition:function(a){return this.createSlideTransition(a,b.stencyl.graphics.transitions.SlideTransition.SLIDE_UP)},createSlideTransition:function(a,c){return new b.stencyl.graphics.transitions.SlideTransition(this.engine.master,a,c)},createRectangleIn:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.RectangleTransition(b.stencyl.graphics.transitions.Transition.IN,a,c)},createRectangleOut:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.RectangleTransition(b.stencyl.graphics.transitions.Transition.OUT,
a,c)},createBlindsIn:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.BlindsTransition(b.stencyl.graphics.transitions.Transition.IN,a,10,c)},createBlindsOut:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.BlindsTransition(b.stencyl.graphics.transitions.Transition.OUT,a,10,c)},createBubblesIn:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.BubblesTransition(b.stencyl.graphics.transitions.Transition.IN,a,50,
c)},createBubblesOut:function(a,c){null==c&&(c=-16777216);return new b.stencyl.graphics.transitions.BubblesTransition(b.stencyl.graphics.transitions.Transition.OUT,a,50,c)},createPixelizeIn:function(a,c){null==c&&(c=15);return new b.stencyl.graphics.transitions.PixelizeTransition(a,c,1)},createPixelizeOut:function(a,c){null==c&&(c=15);return new b.stencyl.graphics.transitions.PixelizeTransition(a,1,c)},switchScene:function(a,c,b){this.engine.switchScene(a,c,b)},reloadCurrentScene:function(a,c){this.engine.switchScene(this.getCurrentScene(),
a,c)},getTileHeight:function(){return this.getScene().tileHeight},getTileWidth:function(){return this.getScene().tileWidth},getSceneHeight:function(){return this.getScene().sceneHeight},getSceneWidth:function(){return this.getScene().sceneWidth},getCurrentSceneName:function(){return this.getScene().name},getIDForScene:function(a){for(var c=b.stencyl.models.GameModel.get().scenes.iterator();c.hasNext();){var f=c.next();if(a==f.name)return f.ID}return 0},getCurrentScene:function(){return this.getScene().ID},
getScene:function(){return this.engine.scene},getStepSize:function(){return b.stencyl.Engine.STEP_SIZE},runPeriodically:function(a,c,f){a=new b.stencyl.behavior.TimedTask(c,a|0,!0,f);this.engine.addTask(a);return a},runLater:function(a,c,f){a=new b.stencyl.behavior.TimedTask(c,a|0,!1,f);this.engine.addTask(a);return a},getGameAttribute:function(a){return this.engine.getGameAttribute(a)},setGameAttribute:function(a,c){this.engine.gameAttributes.set(a,c)},sayToScene:function(a,c,b){return this.engine.say(a,
c,b)},shoutToScene:function(a,c){return this.engine.shout(a,c)},setValueForScene:function(a,c,b){this.engine.setValue(a,c,b)},getValueForScene:function(a,c){return this.engine.getValue(a,c)},disableThisBehavior:function(){this.engine.behaviors.disableBehavior(this.wrapper.name)},isBehaviorEnabledForScene:function(a){return this.engine.behaviors.isBehaviorEnabled(a)},disableBehaviorForScene:function(a){this.engine.behaviors.disableBehavior(a)},enableBehaviorForScene:function(a){this.engine.behaviors.enableBehavior(a)},
sceneHasBehavior:function(a){return this.engine.behaviors.hasBehavior(a)},getActorsInRegion:function(a){for(var c=[],a=a.getContainedActors().iterator();a.hasNext();){var b=a.next();c.push(this.engine.getActor(b))}return c},isInRegion:function(a,c){return this.engine.isInRegion(a,c)},createCircularRegion:function(a,c,f){return b.stencyl.behavior.Script.lastCreatedRegion=this.engine.createCircularRegion(a,c,f)},createBoxRegion:function(a,c,f,d){return b.stencyl.behavior.Script.lastCreatedRegion=this.engine.createBoxRegion(a,
c,f,d)},removeRegion:function(a){this.engine.removeRegion(a)},getRegion:function(a){return this.engine.getRegion(a)},getAllRegions:function(){for(var a=[],c=this.engine.regions.iterator();c.hasNext();){var b=c.next();null!=b&&a.push(b)}return a},getLastCreatedRegion:function(){return b.stencyl.behavior.Script.lastCreatedRegion},addPauseListener:function(a){this.engine.whenPausedListeners.push(a);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(this.engine.whenPausedListeners,
a)},addFocusChangeListener:function(a){this.engine.whenFocusChangedListeners.push(a);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(this.engine.whenFocusChangedListeners,a)},addSoundListener:function(a,c){this.engine.soundListeners.exists(a)||this.engine.soundListeners.set(a,[]);var f=this.engine.soundListeners.get(a);f.push(c);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(f,
c)},addWhenTypeGroupKilledListener:function(a,c){this.engine.whenTypeGroupDiesListeners.exists(a)||this.engine.whenTypeGroupDiesListeners.set(a,[]);var f=this.engine.whenTypeGroupDiesListeners.get(a);f.push(c);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(f,c)},addWhenTypeGroupCreatedListener:function(a,c){this.engine.whenTypeGroupCreatedListeners.exists(a)||this.engine.whenTypeGroupCreatedListeners.set(a,[]);var f=
this.engine.whenTypeGroupCreatedListeners.get(a);f.push(c);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(f,c)},addSceneCollisionListener:function(a,c,f){this.engine.collisionListeners.exists(a)||this.engine.collisionListeners.set(a,new B);this.engine.collisionListeners.exists(c)||this.engine.collisionListeners.set(c,new B);this.engine.collisionListeners.get(a).exists(c)||this.engine.collisionListeners.get(a).set(c,
[]);a=n.Boot.__cast(this.engine.collisionListeners.get(a).get(c),Array);a.push(f);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a,f)},addCollisionListener:function(a,c){null!=a&&(a.collisionListeners.push(c),a.collisionListenerCount++,n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a.collisionListeners,c))},propertyChanged:function(a,
c){var f=this.propertyChangeListeners.get(a);if(null!=f)for(var d=0;d<f.length;){try{var e=f[d];e(c,f);if(-1==b.stencyl.utils.Utils.indexOf(f,e)&&(d--,null!=this.equalityPairs.get(e))){for(var g=0,h=n.Boot.__cast(this.equalityPairs.get(e),Array);g<h.length;){var i=h[g];++g;i!=f&&i.splice(b.stencyl.utils.Utils.indexOf(i,e),1)}this.equalityPairs["delete"](e)}}catch(j){if(n.Boot.__instanceof(j,String))null;else throw j;}d++}},addPropertyChangeListener:function(a,c,f){this.propertyChangeListeners.exists(a)||
this.propertyChangeListeners.set(a,[]);null!=c&&!this.propertyChangeListeners.exists(c)&&this.propertyChangeListeners.set(c,[]);var a=this.propertyChangeListeners.get(a),d=this.propertyChangeListeners.get(c);a.push(f);if(null!=c){d.push(f);var e=[];e.push(a);e.push(d);this.equalityPairs.set(f,e)}n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&(n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a,f),null!=c&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(d,
f))},addMouseOverActorListener:function(a,c){null!=a&&(a.mouseOverListeners.push(c),n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a.mouseOverListeners,c))},addMouseDraggedListener:function(a){this.engine.whenMouseDraggedListeners.push(a);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(this.engine.whenMouseDraggedListeners,a)},addMouseMovedListener:function(a){this.engine.whenMouseMovedListeners.push(a);
n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(this.engine.whenMouseMovedListeners,a)},addMouseReleasedListener:function(a){this.engine.whenMouseReleasedListeners.push(a);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(this.engine.whenMouseReleasedListeners,a)},addMousePressedListener:function(a){this.engine.whenMousePressedListeners.push(a);
n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(this.engine.whenMousePressedListeners,a)},addKeyStateListener:function(a,c){null==this.engine.whenKeyPressedListeners.get(a)&&this.engine.whenKeyPressedListeners.set(a,[]);var f=this.engine.whenKeyPressedListeners.get(a);f.push(c);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(f,c)},
addMultiTouchEndListener:function(){},addMultiTouchMoveListener:function(){},addMultiTouchStartListener:function(){},addSwipeListener:function(){},addActorTypeGroupPositionListener:function(a,c){this.engine.typeGroupPositionListeners.exists(a)||this.engine.typeGroupPositionListeners.set(a,[]);var f=n.Boot.__cast(this.engine.typeGroupPositionListeners.get(a),Array);f.push(c);n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(f,
c)},addActorPositionListener:function(a,c){null!=a&&(a.positionListeners.push(c),a.positionListenerCount++,n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a.positionListeners,c))},addActorExitsRegionListener:function(a,c){null!=a&&(a.whenActorExitsListeners.push(c),n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a.whenActorExitsListeners,
c))},addActorEntersRegionListener:function(a,c){null!=a&&(a.whenActorEntersListeners.push(c),n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript)&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a.whenActorEntersListeners,c))},addWhenDrawingListener:function(a,c){var f=n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript);null==a&&f&&(a=n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor);var d;d=null!=a?a.whenDrawingListeners:this.engine.whenDrawingListeners;
d.push(c);f&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(d,c)},addWhenUpdatedListener:function(a,c){var f=n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript);null==a&&f&&(a=n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor);var d;d=null!=a?a.whenUpdatedListeners:this.engine.whenUpdatedListeners;d.push(c);f&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(d,c)},addWhenKilledListener:function(a,c){var f=n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript);
null!=a&&(a.whenKilledListeners.push(c),f&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a.whenKilledListeners,c))},addWhenCreatedListener:function(a,c){var f=n.Boot.__instanceof(this,b.stencyl.behavior.ActorScript);null!=a&&(a.whenCreatedListeners.push(c),f&&n.Boot.__cast(this,b.stencyl.behavior.ActorScript).actor.registerListener(a.whenCreatedListeners,c))},addPurchaseListener:function(a,c){this.engine.nativeListeners.push(new b.stencyl.event.NativeListener(b.stencyl.event.EventMaster.TYPE_PURCHASES,
a,c))},addGameCenterListener:function(a,c){this.engine.nativeListeners.push(new b.stencyl.event.NativeListener(b.stencyl.event.EventMaster.TYPE_GAMECENTER,a,c))},addMobileAdListener:function(a,c){this.engine.nativeListeners.push(new b.stencyl.event.NativeListener(b.stencyl.event.EventMaster.TYPE_ADS,a,c))},addMobileKeyboardListener:function(a,c){this.engine.nativeListeners.push(new b.stencyl.event.NativeListener(b.stencyl.event.EventMaster.TYPE_KEYBOARD,a,c))},init:function(){},internalGetGroup:function(a,
c){if(b.stencyl.Engine.NO_PHYSICS)return n.Boot.__cast(a,b.stencyl.models.Actor).getGroup();var f=n.Boot.__cast(c,e.dynamics.B2Fixture);if(null==f)return n.Boot.__cast(a,b.stencyl.models.Actor).getGroup();var d=f.groupID;if(d==b.stencyl.models.GameModel.INHERIT_ID){f=f.getBody();if(null!=f)return this.engine.getGroup(f.getUserData().groupID);null}return this.engine.getGroup(d)},clearListeners:function(){this.propertyChangeListeners=new F},forwardMessage:function(){},toInternalName:function(a){if(null==
this.nameMap)return a;var c=this.nameMap.get(a);return null==c?a:c},getDefaultValue:function(){return null},isPrimitive:function(a){return n.Boot.__instanceof(a,Q)||n.Boot.__instanceof(a,P)||n.Boot.__instanceof(a,R)?!0:!1},hasValue:function(a){return n.Boot.__instanceof(a,Q)?!0:n.Boot.__instanceof(a,String)?!0:n.Boot.__instanceof(a,P)?!0:n.Boot.__instanceof(a,R)?!0:null!=a},asNumber:function(a){return null==a?0:n.Boot.__instanceof(a,P)?a:n.Boot.__instanceof(a,R)?a:n.Boot.__instanceof(a,Q)?n.Boot.__cast(a,
Q)?1:0:n.Boot.__instanceof(a,String)?m.parseFloat(a):0},asBoolean:function(a){return!0==a||"true"==a},sameAsAny:function(a,c,b){return a==c||a==b},sameAs:function(a,c){return a==c},nameMap:null,equalityPairs:null,propertyChangeListeners:null,scene:null,engine:null,wrapper:null,__class__:b.stencyl.behavior.Script};b.stencyl.behavior.ActorScript=function(a,c){b.stencyl.behavior.Script.call(this,c);this.actor=a};l["com.stencyl.behavior.ActorScript"]=b.stencyl.behavior.ActorScript;b.stencyl.behavior.ActorScript.__name__=
["com","stencyl","behavior","ActorScript"];b.stencyl.behavior.ActorScript.__super__=b.stencyl.behavior.Script;b.stencyl.behavior.ActorScript.prototype=t(b.stencyl.behavior.Script.prototype,{disableThisBehavior:function(){this.actor.disableBehavior(this.wrapper.name)},shout:function(a,c){return this.actor.shout(a,c)},setValue:function(a,c,b){this.actor.setValue(a,c,b)},getValue:function(a,c){return this.actor.getValue(a,c)},actor:null,__class__:b.stencyl.behavior.ActorScript});b.stencyl.behavior.Attribute=
function(a,c,b,d,e){this.ID=a;this.fieldName=c;this.fullName=b;this.type=e;this.value=d;this.realValue=null};l["com.stencyl.behavior.Attribute"]=b.stencyl.behavior.Attribute;b.stencyl.behavior.Attribute.__name__=["com","stencyl","behavior","Attribute"];b.stencyl.behavior.Attribute.prototype={getRealValue:function(){if(null==this.realValue)if("int"==this.type)this.realValue=m.parseInt(this.value);else if("float"==this.type||"number"==this.type)this.realValue=m.parseFloat(this.value);else if("boolean"==
this.type)this.realValue="true"==this.value?!0:!1;else if("color"==this.type)if(null==this.value||""==this.value)this.realValue=-16777216;else{var a=this.value.split(","),c=m.parseInt(a[0]),f=m.parseInt(a[1]),d=m.parseInt(a[2]);this.realValue=m.parseInt(a[3])<<24|c<<16|f<<8|d}else if("sound"==this.type||"actortype"==this.type||"font"==this.type){if(null!=this.value&&(this.realValue="null"==this.value||""==this.value?null:b.stencyl.Data.get().resources.get(this.value),"font"==this.type&&!n.Boot.__instanceof(this.realValue,
b.stencyl.models.Font)&&(this.realValue=null),"sound"==this.type&&!n.Boot.__instanceof(this.realValue,b.stencyl.models.Sound)&&(this.realValue=null),"actortype"==this.type&&!n.Boot.__instanceof(this.realValue,b.stencyl.models.actor.ActorType)))this.realValue=null}else if("actorgroup"==this.type)this.realValue=m.parseInt(this.value);else if("control"==this.type)this.realValue=this.value;else if("effect"==this.type)this.realValue=this.value;else if("animation"==this.type)this.realValue=this.value;else if("game-attribute"==
this.type)this.realValue=this.value;else if("scene"==this.type)this.realValue=b.stencyl.models.GameModel.get().scenes.get(this.value);else if("text"==this.type)this.realValue=this.value;else if("list"==this.type){if(this.realValue=this.value,null==this.value||""==this.value)this.realValue=[]}else null!=this.value&&"actor"==this.type?this.realValue="thisactor"==this.value?this.parent:m.parseInt(this.value):null!=this.value&&"joint"==this.type?this.realValue=m.parseInt(this.value):null!=this.value&&
"region"==this.type&&(this.realValue=m.parseInt(this.value));return this.realValue},parent:null,realValue:null,value:null,defaultValue:null,type:null,fullName:null,fieldName:null,ID:null,__class__:b.stencyl.behavior.Attribute};b.stencyl.behavior.Behavior=function(a,c,b,d,e,g,h,i,j,p){this.isEvent=p;this.parent=a;this.engine=c;this.classname=e;if(null!=c)try{this.cls=C.resolveClass(e)}catch(k){if(n.Boot.__instanceof(k,String))null;else throw k;}this.enabled=g;this.drawable=h;this.ID=b;this.name=d;
this.type=j;this.attributes=i};l["com.stencyl.behavior.Behavior"]=b.stencyl.behavior.Behavior;b.stencyl.behavior.Behavior.__name__=["com","stencyl","behavior","Behavior"];b.stencyl.behavior.Behavior.prototype={initAttributes:function(){for(var a=this.attributes.iterator();a.hasNext();){var c=a.next();try{if(!("actor"==c.type&&"actor"==c.fieldName&&n.Boot.__instanceof(this.script,b.stencyl.behavior.ActorScript))){var f=this.script.toInternalName(c.fieldName);if("actor"==c.type||"joint"==c.type||"region"==
c.type){var d=m.parseInt(""+m.string(c.getRealValue()));"actor"==c.type?this.script[f]=this.engine.getActor(d):"joint"!=c.type&&"region"==c.type&&(this.script[f]=this.engine.getRegion(d))}else if("actorgroup"==c.type){var e=m.parseInt(""+m.string(c.getRealValue()));this.script[f]=this.engine.getGroup(e)}else{var g=c.getRealValue();"list"==c.type?(c=null,null!=g?(c=n.Boot.__cast(g,Array),c=c.slice()):c=[],this.script[f]=c):this.script[f]=g}}}catch(h){if(n.Boot.__instanceof(h,String))null;else throw h;
}}},initScript:function(a){null==a&&(a=!1);if(null==this.cls)this.script=new b.stencyl.behavior.SceneScript(this.engine);else if(this.script="actor"==this.type?C.createInstance(this.cls,[0,this.parent,this.engine]):C.createInstance(this.cls,[0,this.engine]),this.script.wrapper=this,this.initAttributes(),!a)try{this.script.init()}catch(c){if(n.Boot.__instanceof(c,String))null;else throw c;}},attributes:null,script:null,cls:null,classname:null,type:null,name:null,ID:null,isEvent:null,drawable:null,
enabled:null,engine:null,parent:null,__class__:b.stencyl.behavior.Behavior};b.stencyl.behavior.BehaviorInstance=function(a,c){this.behaviorID=a;this.values=c;this.enabled=!0};l["com.stencyl.behavior.BehaviorInstance"]=b.stencyl.behavior.BehaviorInstance;b.stencyl.behavior.BehaviorInstance.__name__=["com","stencyl","behavior","BehaviorInstance"];b.stencyl.behavior.BehaviorInstance.prototype={enabled:null,values:null,behaviorID:null,__class__:b.stencyl.behavior.BehaviorInstance};b.stencyl.behavior.BehaviorManager=
function(){this.behaviors=[];this.cache=new F};l["com.stencyl.behavior.BehaviorManager"]=b.stencyl.behavior.BehaviorManager;b.stencyl.behavior.BehaviorManager.__name__=["com","stencyl","behavior","BehaviorManager"];b.stencyl.behavior.BehaviorManager.prototype={call2:function(a,c,b){if(null==this.cache)return null;var d=null,a=this.cache.get(a);if(null!=a){if(!a.enabled||null==a.script)return d;try{var e=w.field(a.script,c);null!=e?d=e.apply(a.script,b):a.script.forwardMessage(c)}catch(g){if(n.Boot.__instanceof(g,
String))a.script.forwardMessage(c);else throw g;}}return d},call:function(a,c){if(null==this.cache)return null;for(var b=null,d=0,e=this.behaviors.length;d<e;){var g=d++,g=this.behaviors[g];if(g.enabled&&null!=g.script)try{var h=w.field(g.script,a);null!=h?b=h.apply(g.script,c):g.script.forwardMessage(a)}catch(i){if(n.Boot.__instanceof(i,String))g.script.forwardMessage(a);else throw i;}}return b},setAttribute:function(a,c,b){a=this.cache.get(a);null!=a&&null!=a.script?null!=w.field(a.script,c)||w.hasField(a.script,
c)?a.script[c]=b:null:null},getAttribute:function(a,c){var b=this.cache.get(a);if(null!=b&&null!=b.script){var c=b.script.toInternalName(c),d=w.field(b.script,c);null==d&&(w.hasField(b.script,c)||null);return d}null;return null},initScripts:function(){for(var a=0,c=this.behaviors.length;a<c;){var b=a++,b=this.behaviors[b];b.initScript(!b.enabled)}},isBehaviorEnabled:function(a){return this.hasBehavior(a)?this.cache.get(a).enabled:!1},disableBehavior:function(a){this.hasBehavior(a)&&(this.cache.get(a).enabled=
!1)},enableBehavior:function(a){this.hasBehavior(a)&&(this.cache.get(a).enabled=!0)},hasBehavior:function(a){return null==this.cache?!1:null!=this.cache.get(a)},add:function(a){this.cache.set(a.name,a);this.behaviors.push(a)},destroy:function(){this.cache=this.behaviors=null},cache:null,behaviors:null,__class__:b.stencyl.behavior.BehaviorManager};b.stencyl.behavior.SceneScript=function(a){b.stencyl.behavior.Script.call(this,a)};l["com.stencyl.behavior.SceneScript"]=b.stencyl.behavior.SceneScript;
b.stencyl.behavior.SceneScript.__name__=["com","stencyl","behavior","SceneScript"];b.stencyl.behavior.SceneScript.__super__=b.stencyl.behavior.Script;b.stencyl.behavior.SceneScript.prototype=t(b.stencyl.behavior.Script.prototype,{__class__:b.stencyl.behavior.SceneScript});b.stencyl.behavior.TimedTask=function(a,c,b,d){this.toExecute=a;this.interval=c;this.repeats=b;this.actor=d;this.done=!1;this.timer=c};l["com.stencyl.behavior.TimedTask"]=b.stencyl.behavior.TimedTask;b.stencyl.behavior.TimedTask.__name__=
["com","stencyl","behavior","TimedTask"];b.stencyl.behavior.TimedTask.prototype={update:function(a){null!=this.actor&&!this.actor.isAlive()?this.done=!0:null==this.actor&&b.stencyl.Engine.engine.isPaused()||null!=this.actor&&this.actor.isPaused()||(this.timer-=a,0>=this.timer&&(this.toExecute(this),this.done=!this.repeats,this.repeats&&(this.timer+=this.interval)))},actorCreateTime:null,done:null,timer:null,actor:null,repeats:null,interval:null,toExecute:null,__class__:b.stencyl.behavior.TimedTask};
b.stencyl.event.NativeListener=function(a,c,b){this.metaType=a;this.type=c;this.fn=b};l["com.stencyl.event.NativeListener"]=b.stencyl.event.NativeListener;b.stencyl.event.NativeListener.__name__=["com","stencyl","event","NativeListener"];b.stencyl.event.NativeListener.prototype={checkEvents:function(a){a=a.eventTable.get(this.metaType);if(null!=a)for(var c=0;c<a.length;){var f=a[c];++c;f.type==this.type&&(this.metaType==b.stencyl.event.EventMaster.TYPE_ADS?this.fn():this.metaType==b.stencyl.event.EventMaster.TYPE_PURCHASES?
this.fn(f.data1):this.metaType==b.stencyl.event.EventMaster.TYPE_GAMECENTER?this.fn(f.data1):this.metaType==b.stencyl.event.EventMaster.TYPE_KEYBOARD&&this.fn(f.data1))}},fn:null,type:null,metaType:null,__class__:b.stencyl.event.NativeListener};b.stencyl.event.StencylEvent=function(a,c){null==c&&(c="");this.type=a;this.data1=c};l["com.stencyl.event.StencylEvent"]=b.stencyl.event.StencylEvent;b.stencyl.event.StencylEvent.__name__=["com","stencyl","event","StencylEvent"];b.stencyl.event.StencylEvent.prototype=
{data1:null,type:null,__class__:b.stencyl.event.StencylEvent};b.stencyl.graphics={};b.stencyl.graphics.AbstractAnimation=function(){};l["com.stencyl.graphics.AbstractAnimation"]=b.stencyl.graphics.AbstractAnimation;b.stencyl.graphics.AbstractAnimation.__name__=["com","stencyl","graphics","AbstractAnimation"];b.stencyl.graphics.AbstractAnimation.prototype={draw:null,reset:null,isFinished:null,setFrame:null,getNumFrames:null,getCurrentFrame:null,update:null,__class__:b.stencyl.graphics.AbstractAnimation};
d.display.Bitmap=function(a,c,b){d.display.DisplayObject.call(this);this.pixelSnapping=c;this.smoothing=b;this.jeashGraphics=new d.display.Graphics;null!=a&&(this.jeashSetBitmapData(a),this.jeashRender())};l["jeash.display.Bitmap"]=d.display.Bitmap;d.display.Bitmap.__name__=["jeash","display","Bitmap"];d.display.Bitmap.__super__=d.display.DisplayObject;d.display.Bitmap.prototype=t(d.display.DisplayObject.prototype,{jeashGetObjectUnderPoint:function(a){return this.jeashGetVisible()?null!=this.bitmapData?
(a=this.globalToLocal(a),0>a.x||0>a.y||a.x>this.jeashGetWidth()||a.y>this.jeashGetHeight()?null:this):d.display.DisplayObject.prototype.jeashGetObjectUnderPoint.call(this,a):null},getBitmapSurfaceTransform:function(a){var a=a.jeashExtentWithFilters,c=this.transform.jeashGetFullMatrix(null);c.jeashTranslateTransformed(a.get_topLeft());return c},jeashRender:function(a,c){if(this.jeashVisible&&null!=this.bitmapData){(0!=(this._jeashRenderFlags&4)||0!=(this._jeashRenderFlags&8))&&this.jeashValidateMatrix();
var b=this.bitmapData.jeashLease;if(null!=b&&(null==this.jeashCurrentLease||b.seed!=this.jeashCurrentLease.seed||b.time!=this.jeashCurrentLease.time)){var e=this.bitmapData._jeashTextureBuffer;this.jeashGraphics.jeashSurface.width=e.width;this.jeashGraphics.jeashSurface.height=e.height;this.jeashGraphics.clear();d.Lib.jeashDrawToSurface(e,this.jeashGraphics.jeashSurface);this.jeashCurrentLease=b.clone();this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64);this.jeashApplyFilters(this.jeashGraphics.jeashSurface);
this._jeashRenderFlags|=32}b=(null!=this.parent?this.parent.alpha:1)*this.alpha;if(null!=a)this.jeashApplyFilters(this.jeashGraphics.jeashSurface),e=this.getBitmapSurfaceTransform(this.jeashGraphics),d.Lib.jeashDrawToSurface(this.jeashGraphics.jeashSurface,a,e,b,c);else if(0!=(this._jeashRenderFlags&32)&&(e=this.getBitmapSurfaceTransform(this.jeashGraphics),d.Lib.jeashSetSurfaceTransform(this.jeashGraphics.jeashSurface,e),this._jeashRenderFlags&=-33),b!=this._lastFullAlpha)d.Lib.jeashSetSurfaceOpacity(this.jeashGraphics.jeashSurface,
b),this._lastFullAlpha=b}},validateBounds:function(){if(this.getBoundsInvalid()){d.display.DisplayObject.prototype.validateBounds.call(this);if(null!=this.bitmapData){var a=new d.geom.Rectangle(0,0,this.bitmapData.getWidth(),this.bitmapData.getHeight());if(0!=a.width||0!=a.height)0==this.jeashBoundsRect.width&&0==this.jeashBoundsRect.height?this.jeashBoundsRect=a.clone():this.jeashBoundsRect.extendBounds(a)}null!=this.scale9Grid?(this.jeashBoundsRect.width*=this.jeashScaleX,this.jeashBoundsRect.height*=
this.jeashScaleY,this.jeashWidth=this.jeashBoundsRect.width,this.jeashHeight=this.jeashBoundsRect.height):(this.jeashWidth=this.jeashBoundsRect.width*this.jeashScaleX,this.jeashHeight=this.jeashBoundsRect.height*this.jeashScaleY)}},jeashGetGraphics:function(){return this.jeashGraphics},jeashSetBitmapData:function(a){this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64);return this.bitmapData=a},toString:function(){return"[Bitmap name="+this.name+" id="+this._jeashId+"]"},
jeashCurrentLease:null,jeashGraphics:null,smoothing:null,pixelSnapping:null,bitmapData:null,__class__:d.display.Bitmap,__properties__:t(d.display.DisplayObject.prototype.__properties__,{set_bitmapData:"jeashSetBitmapData"})});b.stencyl.graphics.BitmapAnimation=function(a,c,f,e,o){d.display.Bitmap.call(this,new d.display.BitmapData((null!=a._jeashTextureBuffer?a._jeashTextureBuffer.width:0)/c|0,null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0));this.model=o;this.frameWidth=(null!=a._jeashTextureBuffer?
a._jeashTextureBuffer.width:0)/c|0;this.jeashSetX(-(null!=a._jeashTextureBuffer?a._jeashTextureBuffer.width:0)/(2*c)*b.stencyl.Engine.SCALE);this.jeashSetY(-(null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0)/2*b.stencyl.Engine.SCALE);this.frameIndex=this.timer=0;this.looping=e;this.sheet=a;this.durations=f;this.numFrames=c;this.smoothing=r.MyAssets.antialias;this.region=new d.geom.Rectangle(0,0,this.frameWidth,null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0);this.pt=new d.geom.Point(0,
0);this.region.x=this.frameWidth*this.frameIndex;this.bitmapData.fillRect(this.bitmapData.rect,0);this.bitmapData.copyPixels(this.sheet,this.region,this.pt)};l["com.stencyl.graphics.BitmapAnimation"]=b.stencyl.graphics.BitmapAnimation;b.stencyl.graphics.BitmapAnimation.__name__=["com","stencyl","graphics","BitmapAnimation"];b.stencyl.graphics.BitmapAnimation.__interfaces__=[b.stencyl.graphics.AbstractAnimation];b.stencyl.graphics.BitmapAnimation.__super__=d.display.Bitmap;b.stencyl.graphics.BitmapAnimation.prototype=
t(d.display.Bitmap.prototype,{draw:function(a,c,b){a.drawImage(this.bitmapData,c,b)},updateBitmap:function(){this.region.x=this.frameWidth*this.frameIndex;this.bitmapData.fillRect(this.bitmapData.rect,0);this.bitmapData.copyPixels(this.sheet,this.region,this.pt)},reset:function(){this.frameIndex=this.timer=0;this.region.x=this.frameWidth*this.frameIndex;this.bitmapData.fillRect(this.bitmapData.rect,0);this.bitmapData.copyPixels(this.sheet,this.region,this.pt)},isFinished:function(){return!this.looping&&
this.frameIndex>=this.numFrames-1},setFrame:function(a){if(0>a||a>=this.numFrames)a=0;this.frameIndex=a;this.region.x=this.frameWidth*this.frameIndex;this.bitmapData.fillRect(this.bitmapData.rect,0);this.bitmapData.copyPixels(this.sheet,this.region,this.pt);null!=this.model&&(this.model.sharedFrameIndex=a)},getNumFrames:function(){return this.numFrames},getCurrentFrame:function(){return this.frameIndex},update:function(a){if(null==this.model||!this.looping){if(this.timer+=a,1<this.numFrames&&this.timer>
this.durations[this.frameIndex]&&(a=this.frameIndex,this.timer-=this.durations[this.frameIndex],this.frameIndex++,this.frameIndex>=this.numFrames&&(this.looping?this.frameIndex=0:this.frameIndex--),a!=this.frameIndex))this.region.x=this.frameWidth*this.frameIndex,this.bitmapData.fillRect(this.bitmapData.rect,0),this.bitmapData.copyPixels(this.sheet,this.region,this.pt)}else a=this.frameIndex,this.timer=this.model.sharedTimer,this.frameIndex=this.model.sharedFrameIndex,a!=this.frameIndex&&(this.region.x=
this.frameWidth*this.frameIndex,this.bitmapData.fillRect(this.bitmapData.rect,0),this.bitmapData.copyPixels(this.sheet,this.region,this.pt))},pt:null,region:null,frameWidth:null,numFrames:null,durations:null,sheet:null,timer:null,looping:null,frameIndex:null,model:null,__class__:b.stencyl.graphics.BitmapAnimation});b.stencyl.graphics.BitmapFont=function(a,c,b,e,o,g,h,i,j){null==j&&(j=0);null==i&&(i=0);null==h&&(h=0);null==g&&(g=0);d.display.Bitmap.call(this);this.align="left";this.multiLine=!1;this.autoUpperCase=
!0;this.customSpacingY=this.customSpacingX=0;this.fontSet=s.installer.Assets.getBitmapData(a);this.characterWidth=c;this.characterHeight=b;this.characterSpacingX=g;this.characterSpacingY=h;this.characterPerRow=o;this.offsetX=i;this.offsetY=j;this.grabData=[];a=this.offsetX;c=this.offsetY;o=b=0;for(g=e.length;o<g;)h=o++,this.grabData[x.cca(e,h)]=new d.geom.Rectangle(a,c,this.characterWidth,this.characterHeight),b++,b==this.characterPerRow?(b=0,a=this.offsetX,c+=this.characterHeight+this.characterSpacingY):
a+=this.characterWidth+this.characterSpacingX};l["com.stencyl.graphics.BitmapFont"]=b.stencyl.graphics.BitmapFont;b.stencyl.graphics.BitmapFont.__name__=["com","stencyl","graphics","BitmapFont"];b.stencyl.graphics.BitmapFont.__super__=d.display.Bitmap;b.stencyl.graphics.BitmapFont.prototype=t(d.display.Bitmap.prototype,{removeUnsupportedCharacters:function(a){null==a&&(a=!0);for(var c="",b=0,e=this._text.length;b<e;){var o=b++;if(n.Boot.__instanceof(this.grabData[x.cca(this._text,o)],d.geom.Rectangle)||
32==x.cca(this._text,o)||!1==a&&"\n"==this._text.charAt(o))c+=this._text.charAt(o)}return c},getLongestLine:function(){var a=0;if(0<this._text.length)for(var c=this._text.split("\n"),b=0,d=c.length;b<d;){var e=b++;c[e].length>a&&(a=c[e].length)}return a},pasteLine:function(a,c,b,e,o){null==o&&(o=0);null==e&&(e=0);null==b&&(b=0);for(var g=0,h=c.length;g<h;){var i=g++;" "==c.charAt(i)?b+=this.characterWidth+o:n.Boot.__instanceof(this.grabData[x.cca(c,i)],d.geom.Rectangle)&&(a.copyPixels(this.fontSet,
this.grabData[x.cca(c,i)],new d.geom.Point(b,e)),b+=this.characterWidth+o)}},getCharacter:function(a){var c=new d.display.Bitmap,b=new d.display.BitmapData(this.characterWidth,this.characterHeight,!0,15);n.Boot.__instanceof(this.grabData[x.cca(a,0)],d.geom.Rectangle)&&32!=x.cca(a,0)&&b.copyPixels(this.fontSet,this.grabData[x.cca(a,0)],new d.geom.Point(0,0));c.jeashSetBitmapData(b);return c},buildBitmapFontText:function(){var a;if(this.multiLine){var c=this._text.split("\n"),f=0;a=new d.display.BitmapData(this.getLongestLine()*
(this.characterWidth+this.customSpacingX),c.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0,15);var e=0,o=c.length;try{for(;e<o;){var g=e++;switch(this.align){case b.stencyl.graphics.BitmapFont.ALIGN_LEFT:throw"__break__";case b.stencyl.graphics.BitmapFont.ALIGN_RIGHT:throw"__break__";case b.stencyl.graphics.BitmapFont.ALIGN_CENTER:throw"__break__";}this.pasteLine(a,c[g],0,f,this.customSpacingX);f+=this.characterHeight+this.customSpacingY}}catch(h){if("__break__"!=h)throw h;
}}else a=new d.display.BitmapData(this._text.length*(this.characterWidth+this.customSpacingX),this.characterHeight,!0,15),this.pasteLine(a,this._text,0,0,this.customSpacingX);this.jeashSetBitmapData(a)},setText:function(a,c,b,d,e,g){null==g&&(g=!1);null==e&&(e="left");null==d&&(d=0);null==b&&(b=0);null==c&&(c=!1);this.customSpacingX=b;this.customSpacingY=d;this.align=e;this.multiLine=c;this.autoUpperCase=g?!1:!0;this.setTextString(a)},getTextString:function(){return this._text},setTextString:function(a){this._text=
this.autoUpperCase?a.toUpperCase():a;this.removeUnsupportedCharacters(this.multiLine);this.buildBitmapFontText();return this._text},text:null,grabData:null,characterPerRow:null,characterSpacingY:null,characterSpacingX:null,characterHeight:null,characterWidth:null,offsetY:null,offsetX:null,fontSet:null,_text:null,customSpacingY:null,customSpacingX:null,autoUpperCase:null,multiLine:null,align:null,__class__:b.stencyl.graphics.BitmapFont,__properties__:t(d.display.Bitmap.prototype.__properties__,{set_text:"setTextString",
get_text:"getTextString"})});b.stencyl.graphics.G=function(){this.drawActor=!1;this.x=this.y=0;this.scaleX=this.scaleY=b.stencyl.Engine.SCALE;this.alpha=1;this.blendMode=d.display.BlendMode.NORMAL;this.strokeColor=this.fillColor=this.strokeSize=0;this.rect=new d.geom.Rectangle;this.point=new d.geom.Point;this.point2=new d.geom.Point;this.data=[0,0,0];this.drawPoly=!1;this.firstY=this.firstX=this.pointCounter=0;this.font=this.defaultFont=new b.stencyl.models.Font(-1,0,"",!0);this.drawData=[];null==
b.stencyl.graphics.G.fontCache&&(b.stencyl.graphics.G.fontCache=new B);this.mtx=new d.geom.Matrix;var a=b.stencyl.graphics.G.fontCache.get(-1);null==a&&(a=this.font.font.getPreparedGlyphs(this.font.fontScale,0,!0),b.stencyl.graphics.G.fontCache.set(-1,a));this.fontData=a};l["com.stencyl.graphics.G"]=b.stencyl.graphics.G;b.stencyl.graphics.G.__name__=["com","stencyl","graphics","G"];b.stencyl.graphics.G.prototype={resetFont:function(){this.font=this.defaultFont},drawImage:function(a,c,f){c*=this.scaleX;
f*=this.scaleY;this.rect.x=0;this.rect.y=0;this.rect.width=null!=a._jeashTextureBuffer?a._jeashTextureBuffer.width:0;this.rect.height=null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0;this.drawActor?(this.point.x=this.x+c+b.stencyl.Engine.cameraX,this.point.y=this.y+f+b.stencyl.Engine.cameraY):(this.point.x=this.x+c,this.point.y=this.y+f);this.canvas.copyPixels(a,this.rect,this.point)},addPointToPolygon:function(a,c){a*=this.scaleX;c*=this.scaleY;0==this.pointCounter&&(this.firstX=a,this.firstY=
c,this.graphics.moveTo(this.x+a,this.y+c),this.drawPoly||this.graphics.beginFill(this.fillColor,this.alpha));this.pointCounter++;this.graphics.lineTo(this.x+a,this.y+c)},beginDrawPolygon:function(){this.drawPoly=!0;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.moveTo(this.x,this.y);this.pointCounter=0},endDrawingPolygon:function(){2>
this.pointCounter||(this.drawPoly?this.graphics.lineTo(this.x+this.firstX,this.y+this.firstY):(this.graphics.lineTo(this.x+this.firstX,this.y+this.firstY),this.graphics.endFill()),this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY),this.graphics.lineStyle())},beginFillPolygon:function(){this.drawPoly=!1;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,
this.strokeColor,this.alpha);this.graphics.moveTo(this.x,this.y);this.pointCounter=0},fillCircle:function(a,c,f){a*=this.scaleX;c*=this.scaleY;f*=this.scaleX;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.beginFill(this.fillColor,this.alpha);this.graphics.drawCircle(this.x+a,this.y+c,f);this.graphics.endFill();this.drawActor&&(this.x-=
b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},drawCircle:function(a,c,f){a*=this.scaleX;c*=this.scaleY;f*=this.scaleX;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.drawCircle(this.x+a,this.y+c,f);this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},
fillRoundRect:function(a,c,f,d,e){a*=this.scaleX;c*=this.scaleY;f*=this.scaleX;d*=this.scaleY;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.beginFill(this.fillColor,this.alpha);this.graphics.drawRoundRect(this.x+a,this.y+c,f,d,e,e);this.graphics.endFill();this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);
this.graphics.lineStyle()},drawRoundRect:function(a,c,f,d,e){a*=this.scaleX;c*=this.scaleY;f*=this.scaleX;d*=this.scaleY;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.drawRoundRect(this.x+a,this.y+c,f,d,e,e);this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},fillRect:function(a,
c,f,d){a*=this.scaleX;c*=this.scaleY;f*=this.scaleX;d*=this.scaleY;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.beginFill(this.fillColor,this.alpha);this.graphics.drawRect(this.x+a,this.y+c,f,d);this.graphics.endFill();this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},drawRect:function(a,
c,f,d){a*=this.scaleX;c*=this.scaleY;f*=this.scaleX;d*=this.scaleY;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.drawRect(this.x+a,this.y+c,f,d);this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},fillPixel:function(a,c){this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=
b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.lineStyle();this.graphics.beginFill(this.fillColor,this.alpha);this.graphics.drawRect(this.x+(a*b.stencyl.Engine.SCALE|0),this.y+(c*b.stencyl.Engine.SCALE|0),b.stencyl.Engine.SCALE|0,b.stencyl.Engine.SCALE|0);this.graphics.endFill();this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},drawLine:function(a,
c,f,d){a*=this.scaleX;c*=this.scaleY;f*=this.scaleX;d*=this.scaleY;this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha);this.graphics.moveTo(this.x+a,this.y+c);this.graphics.lineTo(this.x+f,this.y+d);this.drawActor&&(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},drawString:function(a,c,f){null==this.font&&(this.font=
this.defaultFont);this.drawActor?(c=this.x+c*this.scaleX+b.stencyl.Engine.cameraX,f=this.y+f*this.scaleY+b.stencyl.Engine.cameraY):(c=this.x+c*this.scaleX,f=this.y+f*this.scaleY);this.mtx.identity();this.mtx.translate(c,f);var e=this.font.font.getTextWidth(a,0,this.font.fontScale),o=this.font.font.getFontHeight()*this.font.fontScale|0;if(0<e&&0<o){var g=new d.display.BitmapData(e,o,!0,0);this.font.font.render(g,this.fontData,a,0,0,0,0,0);this.graphics.beginBitmapFill(g,this.mtx);this.graphics.drawRect(c,
f,e,o);this.graphics.endFill()}},drawData:null,translateToActor:function(a){this.drawActor=!0;this.actor=a;this.x=a.colX*this.scaleX;this.y=a.colY*this.scaleY},translateToScreen:function(){this.drawActor=!1;this.actor=null;this.y=this.x=0},moveTo:function(a,c){this.drawActor?(null!=this.actor&&this.translateToActor(this.actor),this.x+=a*this.scaleX,this.y+=c*this.scaleY):(this.x=a*this.scaleX,this.y=c*this.scaleY)},translate:function(a,c){this.x+=a*this.scaleX;this.y+=c*this.scaleY},endGraphics:function(){this.drawActor&&
(this.x-=b.stencyl.Engine.cameraX,this.y-=b.stencyl.Engine.cameraY);this.graphics.lineStyle()},startGraphics:function(){this.drawActor&&(this.x+=b.stencyl.Engine.cameraX,this.y+=b.stencyl.Engine.cameraY);0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize,this.strokeColor,this.alpha)},setFont:function(a){null!=a&&a!=this.font&&(this.font=a,this.font==this.defaultFont?(this.fontData=b.stencyl.graphics.G.fontCache.get(-1),null==this.fontData&&(this.fontData=this.font.font.getPreparedGlyphs(this.font.fontScale,
0,!0),b.stencyl.graphics.G.fontCache.set(-1,this.fontData))):(this.fontData=b.stencyl.graphics.G.fontCache.get(this.font.ID),null==this.fontData&&(this.fontData=this.font.font.getPreparedGlyphs(this.font.fontScale,0,!1),b.stencyl.graphics.G.fontCache.set(this.font.ID,this.fontData))))},actor:null,drawActor:null,firstY:null,firstX:null,pointCounter:null,drawPoly:null,data:null,point2:null,point:null,rect:null,mtx:null,fontData:null,font:null,strokeColor:null,fillColor:null,strokeSize:null,blendMode:null,
alpha:null,scaleY:null,scaleX:null,y:null,x:null,canvas:null,graphics:null,defaultFont:null,__class__:b.stencyl.graphics.G};b.stencyl.graphics.SheetAnimation=function(a,c,f,e,o,g){d.display.Sprite.call(this);this.model=g;this.jeashSetX(-f/2*b.stencyl.Engine.SCALE);this.jeashSetY(-e/2*b.stencyl.Engine.SCALE);this.frameIndex=this.timer=0;this.looping=o;this.durations=c;this.numFrames=c.length;this.data=[0,0,0];null};l["com.stencyl.graphics.SheetAnimation"]=b.stencyl.graphics.SheetAnimation;b.stencyl.graphics.SheetAnimation.__name__=
["com","stencyl","graphics","SheetAnimation"];b.stencyl.graphics.SheetAnimation.__interfaces__=[b.stencyl.graphics.AbstractAnimation];b.stencyl.graphics.SheetAnimation.__super__=d.display.Sprite;b.stencyl.graphics.SheetAnimation.prototype=t(d.display.Sprite.prototype,{draw:function(){},updateBitmap:function(){},reset:function(){this.frameIndex=this.timer=0;null},isFinished:function(){return!this.looping&&this.frameIndex>=this.numFrames-1},setFrame:function(a){if(0>a||a>=this.numFrames)a=0;this.frameIndex=
a;null!=this.model&&(this.model.sharedFrameIndex=a)},getNumFrames:function(){return this.numFrames},getCurrentFrame:function(){return this.frameIndex},update:function(a){null==this.model||!this.looping?(this.timer+=a,1<this.numFrames&&this.timer>this.durations[this.frameIndex]&&(a=this.frameIndex,this.timer-=this.durations[this.frameIndex],this.frameIndex++,this.frameIndex>=this.numFrames&&(this.looping?this.frameIndex=0:this.frameIndex--),a!=this.frameIndex&&null)):(a=this.frameIndex,this.timer=
this.model.sharedTimer,this.frameIndex=this.model.sharedFrameIndex,a!=this.frameIndex&&null)},model:null,data:null,numFrames:null,durations:null,timer:null,looping:null,frameIndex:null,__class__:b.stencyl.graphics.SheetAnimation});d.geom={};d.geom.Point=function(a,c){this.x=null==a?0:a;this.y=null==c?0:c};l["jeash.geom.Point"]=d.geom.Point;d.geom.Point.__name__=["jeash","geom","Point"];d.geom.Point.distance=function(a,c){var b=a.x-c.x,d=a.y-c.y;return Math.sqrt(b*b+d*d)};d.geom.Point.interpolate=
function(a,c,b){return new d.geom.Point(c.x+b*(a.x-c.x),c.y+b*(a.y-c.y))};d.geom.Point.polar=function(a,c){return new d.geom.Point(a*Math.cos(c),a*Math.sin(c))};d.geom.Point.prototype={subtract:function(a){return new d.geom.Point(this.x-a.x,this.y-a.y)},offset:function(a,c){this.x+=a;this.y+=c},normalize:function(a){0==this.x&&0==this.y?this.x=a:(a/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=a,this.y*=a)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},length:null,equals:function(a){return a.x==
this.x&&a.y==this.y},clone:function(){return new d.geom.Point(this.x,this.y)},add:function(a){return new d.geom.Point(a.x+this.x,a.y+this.y)},y:null,x:null,__class__:d.geom.Point,__properties__:{get_length:"get_length"}};b.stencyl.graphics.fonts={};b.stencyl.graphics.fonts.BitmapFont=function(){this._maxHeight=0;this._point=new d.geom.Point;this._matrix=new d.geom.Matrix;this._colorTransform=new d.geom.ColorTransform;this._glyphs=[]};l["com.stencyl.graphics.fonts.BitmapFont"]=b.stencyl.graphics.fonts.BitmapFont;
b.stencyl.graphics.fonts.BitmapFont.__name__=["com","stencyl","graphics","fonts","BitmapFont"];b.stencyl.graphics.fonts.BitmapFont.store=function(a,c){b.stencyl.graphics.fonts.BitmapFont._storedFonts.set(a,c)};b.stencyl.graphics.fonts.BitmapFont.fetch=function(a){return b.stencyl.graphics.fonts.BitmapFont._storedFonts.get(a)};b.stencyl.graphics.fonts.BitmapFont.prototype={get_numLetters:function(){return this._glyphs.length},numLetters:null,getFontHeight:function(){return this._maxHeight},getTextWidth:function(a,
c,b){null==b&&(b=1);null==c&&(c=0);for(var d=0,e=0,g=a.length,h=0;h<g;){var i=h++;if(!(i<e)){var j=x.cca(a,i);126==j&&"x"==a.charAt(i+1)&&(i=a.substring(i+2,i+6),j=m.parseInt("0x"+i),e+=5);i=this._glyphs[j];null!=i&&(d+=null!=i._jeashTextureBuffer?i._jeashTextureBuffer.width:0);e++}}d=Math.round(d*b);1<g&&(d+=(g-1)*c);return d},render:function(a,c,b,d,e,g,h){this._point.x=e;this._point.y=g;for(var i,e=d=0,g=b.length;e<g;)if(i=e++,!(i<d)){var j=x.cca(b,i);126==j&&"x"==b.charAt(i+1)&&(i=b.substring(i+
2,i+6),j=m.parseInt("0x"+i),d+=5);i=c[j];null!=i&&(a.copyPixels(i,i.rect,this._point,null,null,!0),this._point.x+=(null!=i._jeashTextureBuffer?i._jeashTextureBuffer.width:0)+h);d++}},setGlyph:function(a,c){null!=this._glyphs[a]&&this._glyphs[a].dispose();this._glyphs[a]=c;if((null!=c._jeashTextureBuffer?c._jeashTextureBuffer.height:0)>this._maxHeight)this._maxHeight=null!=c._jeashTextureBuffer?c._jeashTextureBuffer.height:0},getFontData:function(){for(var a="",c=0,b=this._glyphString.length;c<b;)for(var d=
c++,e=x.cca(this._glyphString,d),e=this._glyphs[e],a=a+x.substr(this._glyphString,d,1),a=a+(null!=e._jeashTextureBuffer?e._jeashTextureBuffer.width:0),a=a+(null!=e._jeashTextureBuffer?e._jeashTextureBuffer.height:0),d=0,g=null!=e._jeashTextureBuffer?e._jeashTextureBuffer.height:0;d<g;)for(var h=d++,i=0,j=null!=e._jeashTextureBuffer?e._jeashTextureBuffer.width:0;i<j;)var p=i++,a=a+(0!=e.getPixel32(p,h)?"1":"0");return a},dispose:function(){for(var a,c=0,b=this._glyphs.length;c<b;){var d=c++;a=this._glyphs[d];
null!=a&&this._glyphs[d].dispose()}this._glyphs=null},getPreparedGlyphs:function(a,c,b){null==b&&(b=!0);var e=[];this._matrix.identity();this._matrix.scale(a,a);this._colorTransform.redOffset=0;this._colorTransform.greenOffset=0;this._colorTransform.blueOffset=0;this._colorTransform.redMultiplier=0.00392*(c>>16);this._colorTransform.greenMultiplier=0.00392*(c>>8&255);this._colorTransform.blueMultiplier=0.00392*(c&255);for(var o,g=0,h=this._glyphs.length;g<h;){var i=g++,c=this._glyphs[i];null!=c&&
(o=new d.display.BitmapData(Math.floor((null!=c._jeashTextureBuffer?c._jeashTextureBuffer.width:0)*a),Math.floor((null!=c._jeashTextureBuffer?c._jeashTextureBuffer.height:0)*a),!0,0),b?o.draw(c,this._matrix,this._colorTransform):o.draw(c,this._matrix),e[i]=o)}return e},prepareBitmapData:function(a,c){for(var b=a.getPixel(0,0),e=0,o;e<(null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0);){var g=0;for(o=0;o<(null!=a._jeashTextureBuffer?a._jeashTextureBuffer.width:0);){if((a.getPixel(o,e)|0)!=
b){for(var h=o,i=e;(a.getPixel(h,e)|0)!=b;)h++;for(;(a.getPixel(o,i)|0)!=b;)i++;h-=o;i-=e;c.push(new d.geom.Rectangle(o,e,h,i));i>g&&(g=i);i>this._maxHeight&&(this._maxHeight=i);o+=h}o++}e+=g+1}b=a.clone();i=a.getPixel(0,0);for(e=0;e<(null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0);){for(o=0;o<(null!=a._jeashTextureBuffer?a._jeashTextureBuffer.width:0);)g=a.getPixel32(o,e),g==i&&b.setPixel32(o,e,0),o++;e++}return b},reset:function(){this.dispose();this._maxHeight=0;this._glyphs=[];this._glyphString=
""},loadAngelCode:function(a,c){this.reset();if(null!=a){this._glyphString="";var b=new d.geom.Rectangle,e=new d.geom.Point,o,g=0,h,i;h=null;for(var j=c.elements();j.hasNext();)if(o=j.next(),"font"==o.getNodeName())for(o=o.elements();o.hasNext();)if(i=o.next(),"chars"==i.getNodeName()){h=i;break}if(null!=h)for(j=h.elements();j.hasNext();)o=j.next(),"char"==o.getNodeName()&&(b.x=m.parseInt(o.get("x")),b.y=m.parseInt(o.get("y")),b.width=m.parseInt(o.get("width")),b.height=m.parseInt(o.get("height")),
e.x=m.parseInt(o.get("xoffset")),e.y=m.parseInt(o.get("yoffset")),h=m.parseInt(o.get("id")),i=String.fromCharCode(h),this._glyphString+=i,o=" "!=i&&""!=i?new d.display.BitmapData(m.parseInt(o.get("xadvance")),m.parseInt(o.get("height"))+m.parseInt(o.get("yoffset")),!0,0):new d.display.BitmapData(m.parseInt(o.get("xadvance")),1,!0,0),o.copyPixels(a,b,e,null,null,!0),this.setGlyph(h,o),g++)}return this},loadPixelizer:function(a,c){this.reset();this._glyphString=c;if(null!=a){var f=[];this.prepareBitmapData(a,
f);for(var e,o=0,g=f.length;o<g;){var h=o++;e=f[h];var i=new d.display.BitmapData(Math.floor(e.width),Math.floor(e.height),!0,0);i.copyPixels(a,e,b.stencyl.graphics.fonts.BitmapFont.ZERO_POINT,null,null,!0);this.setGlyph(x.cca(this._glyphString,h),i)}}return this},_point:null,_colorTransform:null,_matrix:null,_maxHeight:null,_glyphString:null,_glyphs:null,__class__:b.stencyl.graphics.fonts.BitmapFont,__properties__:{get_numLetters:"get_numLetters"}};b.stencyl.graphics.fonts.DefaultFontGenerator=function(){};
l["com.stencyl.graphics.fonts.DefaultFontGenerator"]=b.stencyl.graphics.fonts.DefaultFontGenerator;b.stencyl.graphics.fonts.DefaultFontGenerator.__name__=["com","stencyl","graphics","fonts","DefaultFontGenerator"];b.stencyl.graphics.fonts.DefaultFontGenerator.generateAndStoreDefaultFont=function(){for(var a="",c=new d.display.BitmapData(700,9,!0,-7829368),f=0,e=0;e<b.stencyl.graphics.fonts.DefaultFontGenerator.fontData.length;){for(var a=a+x.substr(b.stencyl.graphics.fonts.DefaultFontGenerator.fontData,
e,1),o=m.parseInt(x.substr(b.stencyl.graphics.fonts.DefaultFontGenerator.fontData,++e,1)),g=0,h=m.parseInt(x.substr(b.stencyl.graphics.fonts.DefaultFontGenerator.fontData,++e,1));g<h;)for(var i=g++,j=0,p=o;j<p;){var k=j++;e++;"1"==x.substr(b.stencyl.graphics.fonts.DefaultFontGenerator.fontData,e,1)?c.setPixel32(1+7*f+k,1+i,-1):c.setPixel32(1+7*f+k,1+i,0)}e++;f++}b.stencyl.graphics.fonts.BitmapFont.store("default",(new b.stencyl.graphics.fonts.BitmapFont).loadPixelizer(c,a));c.dispose()};b.stencyl.graphics.fonts.Label=
function(a){d.display.Sprite.call(this);this.canvas=this.jeashGetGraphics();this._text="";this._color=0;this._useColor=!0;this._outline=!1;this._outlineColor=0;this._shadow=!1;this._shadowColor=0;this._background=!1;this._backgroundColor=16777215;this._alignment=1;this._padding=0;this._pendingTextChange=!1;this._fieldWidth=1;this._multiLine=!1;this._letterSpacing=this._lineSpacing=0;this._fontScale=1;this._autoUpperCase=!1;this._wordWrap=this._fixedWidth=!0;this._alpha=1;null==a?(null==b.stencyl.graphics.fonts.BitmapFont.fetch("default")&&
b.stencyl.graphics.fonts.DefaultFontGenerator.generateAndStoreDefaultFont(),this._font=b.stencyl.graphics.fonts.BitmapFont.fetch("default")):this._font=a;this.updateGlyphs(!0,this._shadow,this._outline);this.bitmapData=new d.display.BitmapData(1,1,!0);this._bitmap=new d.display.Bitmap(this.bitmapData);this.addChild(this._bitmap);this._pendingTextChange=!0;this.update()};l["com.stencyl.graphics.fonts.Label"]=b.stencyl.graphics.fonts.Label;b.stencyl.graphics.fonts.Label.__name__=["com","stencyl","graphics",
"fonts","Label"];b.stencyl.graphics.fonts.Label.__super__=d.display.Sprite;b.stencyl.graphics.fonts.Label.prototype=t(d.display.Sprite.prototype,{clearPreparedGlyphs:function(a){if(null!=a)for(var c=0;c<a.length;){var b=a[c];++c;null!=b&&b.dispose()}},updateGlyphs:function(a,c,b){null==b&&(b=!1);null==c&&(c=!1);null==a&&(a=!1);a&&(this.clearPreparedGlyphs(this._preparedTextGlyphs),this._preparedTextGlyphs=this._font.getPreparedGlyphs(this._fontScale,this._color,this._useColor));c&&(this.clearPreparedGlyphs(this._preparedShadowGlyphs),
this._preparedShadowGlyphs=this._font.getPreparedGlyphs(this._fontScale,this._shadowColor));b&&(this.clearPreparedGlyphs(this._preparedOutlineGlyphs),this._preparedOutlineGlyphs=this._font.getPreparedGlyphs(this._fontScale,this._outlineColor))},set_fixedWidth:function(a){this._fixedWidth!=a&&(this._fixedWidth=a,this._pendingTextChange=!0,this.update());return this._fixedWidth},get_fixedWidth:function(){return this._fixedWidth},fixedWidth:null,set_wordWrap:function(a){this._wordWrap!=a&&(this._wordWrap=
a,this._pendingTextChange=!0,this.update());return this._wordWrap},get_wordWrap:function(){return this._wordWrap},wordWrap:null,set_autoUpperCase:function(a){this._autoUpperCase!=a&&(this._autoUpperCase=a)&&this.set_text(this._text.toUpperCase());return this._autoUpperCase},get_autoUpperCase:function(){return this._autoUpperCase},autoUpperCase:null,set_letterSpacing:function(a){a=Math.floor(Math.abs(a));a!=this._letterSpacing&&(this._letterSpacing=a,this._pendingTextChange=!0,this.update());return this._letterSpacing},
get_letterSpacing:function(){return this._letterSpacing},letterSpacing:null,set_fontScale:function(a){var c=Math.abs(a);c!=this._fontScale&&(this._fontScale=c,this.updateGlyphs(!0,this._shadow,this._outline),this._pendingTextChange=!0,this.update());return a},get_fontScale:function(){return this._fontScale},fontScale:null,getAlpha:function(){return this._alpha},setAlpha:function(a){return this.alpha=this._alpha=a},set_lineSpacing:function(a){this._lineSpacing!=a&&(this._lineSpacing=Math.floor(Math.abs(a)),
this._pendingTextChange=!0,this.update());return a},get_lineSpacing:function(){return this._lineSpacing},lineSpacing:null,set_font:function(a){this._font!=a&&(this._font=a,this.updateGlyphs(!0,this._shadow,this._outline),this._pendingTextChange=!0,this.update());return a},get_font:function(){return this._font},font:null,set_outlineColor:function(a){this._outlineColor!=a&&(this._outlineColor=a,this.updateGlyphs(!1,!1,this._outline),this._pendingTextChange=!0,this.update());return a},get_outlineColor:function(){return this._outlineColor},
outlineColor:null,set_outline:function(a){this._outline!=a&&(this._outline=a,this._shadow=!1,this.updateGlyphs(!1,!1,!0),this._pendingTextChange=!0,this.update());return a},get_outline:function(){return this._outline},outline:null,set_multiLine:function(a){this._multiLine!=a&&(this._multiLine=a,this._pendingTextChange=!0,this.update());return a},get_multiLine:function(){return this._multiLine},multiLine:null,set_alignment:function(a){this._alignment!=a&&(this._alignment=a,this._pendingTextChange=
!0,this.update());return a},get_alignment:function(){return this._alignment},alignment:null,setWidth:function(a){1>a&&(a=1);a!=this._fieldWidth&&(this._fieldWidth=a,this._pendingTextChange=!0,this.update());return a},set_useColor:function(a){this._useColor!=a&&(this._useColor=a,this.updateGlyphs(!0,!1,!1),this._pendingTextChange=!0,this.update());return a},get_useColor:function(){return this._useColor},useColor:null,set_color:function(a){this._color!=a&&(this._color=a,this.updateGlyphs(!0,!1,!1),
this._pendingTextChange=!0,this.update());return a},get_color:function(){return this._color},color:null,set_padding:function(a){this._padding!=a&&(this._padding=a,this._pendingTextChange=!0,this.update());return a},get_padding:function(){return this._padding},padding:null,set_shadowColor:function(a){this._shadowColor!=a&&(this._shadowColor=a,this.updateGlyphs(!1,this._shadow,!1),this._pendingTextChange=!0,this.update());return a},get_shadowColor:function(){return this._shadowColor},shadowColor:null,
set_shadow:function(a){this._shadow!=a&&(this._shadow=a,this._outline=!1,this.updateGlyphs(!1,this._shadow,!1),this._pendingTextChange=!0,this.update());return a},get_shadow:function(){return this._shadow},shadow:null,set_backgroundColor:function(a){this._backgroundColor!=a&&(this._backgroundColor=a,this._background&&(this._pendingTextChange=!0,this.update()));return a},get_backgroundColor:function(){return this._backgroundColor},backgroundColor:null,set_background:function(a){this._background!=a&&
(this._background=a,this._pendingTextChange=!0,this.update());return a},get_background:function(){return this._background},background:null,update:function(){this._pendingTextChange&&(this.updateBitmapData(),this._bitmap.jeashSetBitmapData(this.bitmapData))},updateBitmapData:function(){if(null!=this._font){var a=this._fieldWidth,c=[],b=Math.floor(this._font.getFontHeight()*this._fontScale),e=this._alignment,o,g=this._text.split("\n"),h=-1,i=-1;this._multiLine||(g=[g[0]]);for(var j,p;++h<g.length;)if(this._fixedWidth){o=
!1;var k=g[h].split(" ");if(0<k.length)for(var l=0,m="";!o;){p=k[l];var n=m+p+" ",q=!1;if(this._wordWrap)this._font.getTextWidth(n,this._letterSpacing,this._fontScale)>this._fieldWidth?(""==m?k.splice(0,1):c.push(x.substr(m,0,m.length-1)),m="",this._multiLine?k.splice(0,l):k.splice(0,k.length),l=0,q=!0):(m+=p+" ",l++);else if(this._font.getTextWidth(n,this._letterSpacing,this._fontScale)>this._fieldWidth){i=0;for(j=p.length;i<j;)n=m+p.charAt(i),this._font.getTextWidth(n,this._letterSpacing,this._fontScale)>
this._fieldWidth?(c.push(x.substr(m,0,m.length-1)),p=m="",l=k.length,i=j,q=!0):m+=p.charAt(i),i++}else m+=p+" ",l++;l>=k.length&&(q||(o=x.substr(m,0,m.length-1),a=Math.floor(Math.max(a,this._font.getTextWidth(o,this._letterSpacing,this._fontScale))),c.push(o)),o=!0)}else c.push("")}else a=Math.floor(Math.max(a,this._font.getTextWidth(g[h],this._letterSpacing,this._fontScale))),c.push(g[h]);a=a+2*this._padding+(this._outline?2:0);g=Math.floor(2*this._padding+Math.max(1,c.length*b+(this._shadow?1:0)+
(this._outline?2:0)))+(1<=c.length?this._lineSpacing*(c.length-1):0);if(null!=this.bitmapData&&(a!=this.bitmapData.getWidth()||g!=this.bitmapData.getHeight()))this.bitmapData.dispose(),this.bitmapData=null;null==this.bitmapData?this.bitmapData=new d.display.BitmapData(a,g,!this._background,this._backgroundColor):this.bitmapData.fillRect(this.bitmapData.rect,this._backgroundColor);this.bitmapData.lock();for(h=g=0;h<c.length;){k=c[h];++h;m=l=0;3==e&&(l=this._fixedWidth?Math.floor((this._fieldWidth-
this._font.getTextWidth(k,this._letterSpacing,this._fontScale))/2):Math.floor((a-this._font.getTextWidth(k,this._letterSpacing,this._fontScale))/2));2==e&&(l=this._fixedWidth?this._fieldWidth-Math.floor(this._font.getTextWidth(k,this._letterSpacing,this._fontScale)):a-Math.floor(this._font.getTextWidth(k,this._letterSpacing,this._fontScale))-2*this.get_padding());if(this._outline){for(o=0;3>o;){i=o++;for(j=0;3>j;)p=j++,this._font.render(this.bitmapData,this._preparedOutlineGlyphs,k,this._outlineColor,
p+l+this._padding,i+g*(b+this._lineSpacing)+this._padding,this._letterSpacing)}l+=1;m+=1}this._shadow&&this._font.render(this.bitmapData,this._preparedShadowGlyphs,k,this._shadowColor,1+l+this._padding,1+m+g*(b+this._lineSpacing)+this._padding,this._letterSpacing);this._font.render(this.bitmapData,this._preparedTextGlyphs,k,this._color,l+this._padding,m+g*(b+this._lineSpacing)+this._padding,this._letterSpacing);g++}this.bitmapData.unlock();this._pendingTextChange=!1}},set_text:function(a){var c;c=
a.split("\\n").join("\n");c!=this._text&&(this._text=a,this._text=this._text.split("\\n").join("\n"),this._autoUpperCase&&(this._text=this._text.toUpperCase()),this._pendingTextChange=!0,this.update());return this._text},get_text:function(){return this._text},text:null,destroy:function(){this._font=null;this.removeChild(this._bitmap);this._bitmap=null;this.bitmapData.dispose();this.bitmapData=null;this.clearPreparedGlyphs(this._preparedTextGlyphs);this.clearPreparedGlyphs(this._preparedShadowGlyphs);
this.clearPreparedGlyphs(this._preparedOutlineGlyphs)},canvas:null,_preparedOutlineGlyphs:null,_preparedShadowGlyphs:null,_preparedTextGlyphs:null,_bitmap:null,bitmapData:null,_alpha:null,_multiLine:null,_fieldWidth:null,_pendingTextChange:null,_fixedWidth:null,_wordWrap:null,_autoUpperCase:null,_fontScale:null,_letterSpacing:null,_lineSpacing:null,_padding:null,_alignment:null,_backgroundColor:null,_background:null,_shadowColor:null,_shadow:null,_outlineColor:null,_outline:null,_useColor:null,_color:null,
_text:null,_font:null,__class__:b.stencyl.graphics.fonts.Label,__properties__:t(d.display.Sprite.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_background:"set_background",get_background:"get_background",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_shadow:"set_shadow",get_shadow:"get_shadow",set_shadowColor:"set_shadowColor",get_shadowColor:"get_shadowColor",set_padding:"set_padding",get_padding:"get_padding",set_color:"set_color",
get_color:"get_color",set_useColor:"set_useColor",get_useColor:"get_useColor",set_alignment:"set_alignment",get_alignment:"get_alignment",set_multiLine:"set_multiLine",get_multiLine:"get_multiLine",set_outline:"set_outline",get_outline:"get_outline",set_outlineColor:"set_outlineColor",get_outlineColor:"get_outlineColor",set_font:"set_font",get_font:"get_font",set_lineSpacing:"set_lineSpacing",get_lineSpacing:"get_lineSpacing",set_fontScale:"set_fontScale",get_fontScale:"get_fontScale",set_letterSpacing:"set_letterSpacing",
get_letterSpacing:"get_letterSpacing",set_autoUpperCase:"set_autoUpperCase",get_autoUpperCase:"get_autoUpperCase",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_fixedWidth:"set_fixedWidth",get_fixedWidth:"get_fixedWidth"})});b.stencyl.graphics.fonts.TextAlign=function(){};l["com.stencyl.graphics.fonts.TextAlign"]=b.stencyl.graphics.fonts.TextAlign;b.stencyl.graphics.fonts.TextAlign.__name__=["com","stencyl","graphics","fonts","TextAlign"];b.stencyl.graphics.transitions={};b.stencyl.graphics.transitions.Transition=
function(a){this.duration=a;this.complete=this.active=!1;0==a&&(this.complete=!0)};l["com.stencyl.graphics.transitions.Transition"]=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.Transition.__name__=["com","stencyl","graphics","transitions","Transition"];b.stencyl.graphics.transitions.Transition.prototype={getDuration:function(){return this.duration},draw:function(){},update:function(){},isComplete:function(){return this.complete},isActive:function(){return this.active},
cleanup:function(){},stop:function(){this.active=!1;this.complete=!0},reset:function(){this.complete=!1},start:function(){this.complete=!0},complete:null,active:null,direction:null,duration:null,__class__:b.stencyl.graphics.transitions.Transition};b.stencyl.graphics.transitions.BlindsTransition=function(a,c,f,d){null==f&&(f=10);b.stencyl.graphics.transitions.Transition.call(this,c);this.color=d;this.direction=a;this.numBlinds=f;a==b.stencyl.graphics.transitions.Transition.IN?(this.beginBlindWidth=
b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE/f,this.endBlindWidth=0):a==b.stencyl.graphics.transitions.Transition.OUT?(this.beginBlindWidth=0,this.endBlindWidth=b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE/f):this.complete=!0};l["com.stencyl.graphics.transitions.BlindsTransition"]=b.stencyl.graphics.transitions.BlindsTransition;b.stencyl.graphics.transitions.BlindsTransition.__name__=["com","stencyl","graphics","transitions","BlindsTransition"];b.stencyl.graphics.transitions.BlindsTransition.__super__=
b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.BlindsTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),this.rect=null)},draw:function(){this.graphics.clear();this.graphics.beginFill(this.color);this.blindRect.x=0;this.blindRect.width=this.blindWidth;this.direction==b.stencyl.graphics.transitions.Transition.IN&&(this.blindRect.x+=b.stencyl.Engine.screenWidth*
b.stencyl.Engine.SCALE/this.numBlinds-this.blindWidth);for(var a=0,c=this.numBlinds;a<c;)a++,this.graphics.drawRect(this.blindRect.x,this.blindRect.y,this.blindRect.width,this.blindRect.height),this.blindRect.x+=b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE/this.numBlinds;this.graphics.endFill()},start:function(){this.active=!0;this.blindRect=new d.geom.Rectangle(0,0,this.beginBlindWidth,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);this.blindWidth=this.beginBlindWidth;this.rect=new d.display.Shape;
this.graphics=this.rect.jeashGetGraphics();this.direction==b.stencyl.graphics.transitions.Transition.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE),this.graphics.endFill());b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this,this.duration,{blindWidth:this.endBlindWidth}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,
this.stop))},graphics:null,rect:null,blindRect:null,endBlindWidth:null,beginBlindWidth:null,blindWidth:null,numBlinds:null,color:null,__class__:b.stencyl.graphics.transitions.BlindsTransition});b.stencyl.graphics.transitions.BubblesTransition=function(a,c,f,d){null==d&&(d=-16777216);null==f&&(f=50);b.stencyl.graphics.transitions.Transition.call(this,c);this.color=d;this.direction=a;this.numBubbles=f};l["com.stencyl.graphics.transitions.BubblesTransition"]=b.stencyl.graphics.transitions.BubblesTransition;
b.stencyl.graphics.transitions.BubblesTransition.__name__=["com","stencyl","graphics","transitions","BubblesTransition"];b.stencyl.graphics.transitions.BubblesTransition.__super__=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.BubblesTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),this.rect=null)},draw:function(){this.graphics.clear();if(this.direction==
b.stencyl.graphics.transitions.Transition.IN){this.drawBitmap.draw(b.stencyl.Engine.engine.master);this.graphics.beginFill(this.color);this.graphics.drawRect(0,0,this.screenWidth,this.screenHeight);this.graphics.endFill();for(var a=0,c=this.bubblePositions;a<c.length;){var f=c[a];++a;this.graphics.beginBitmapFill(this.drawBitmap);this.graphics.drawCircle(f.x,f.y,this.radius);this.graphics.endFill()}}else if(this.direction==b.stencyl.graphics.transitions.Transition.OUT){a=0;for(c=this.bubblePositions;a<
c.length;)f=c[a],++a,this.graphics.beginFill(this.color),this.graphics.drawCircle(f.x,f.y,this.radius),this.graphics.endFill()}},start:function(){this.active=!0;this.rect=new d.display.Shape;this.graphics=this.rect.jeashGetGraphics();this.screenWidth=b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0;this.screenHeight=b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0;this.direction==b.stencyl.graphics.transitions.Transition.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,
0,this.screenWidth,this.screenHeight),this.graphics.endFill());this.drawBitmap=new d.display.BitmapData(this.screenWidth,this.screenHeight);var a=this.screenWidth/this.screenHeight,c=Math.sqrt(this.numBubbles/a)|0,f=this.screenHeight/c,a=Math.ceil(c*a|0),c=Math.ceil(c),e=a*f-this.screenWidth|0,o=new d.geom.Rectangle(-e/2,-(c*f-this.screenHeight|0)/2,f,f);this.bubblePositions=[];for(var g=0;g<c;){g++;for(var h=0;h<a;)h++,this.bubblePositions.push(new d.geom.Point(o.x+Math.floor(Math.random()*(f+1)),
o.y+Math.floor(Math.random()*(f+1)))),o.x+=f;o.x=-e/2;o.y+=f}this.beginRadius=0;this.endRadius=Math.ceil(d.geom.Point.distance(new d.geom.Point(0,0),new d.geom.Point(f,f)));this.radius=this.beginRadius;b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this,this.duration,{radius:this.endRadius}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,this.stop))},screenHeight:null,screenWidth:null,bubbleRect:null,bubblePositions:null,
drawBitmap:null,graphics:null,rect:null,endRadius:null,beginRadius:null,radius:null,numBubbles:null,color:null,__class__:b.stencyl.graphics.transitions.BubblesTransition});b.stencyl.graphics.transitions.CircleTransition=function(a,c,f){null==f&&(f=-16777216);b.stencyl.graphics.transitions.Transition.call(this,c);this.color=f;this.direction=a;a==b.stencyl.graphics.transitions.Transition.IN?(this.beginRadius=0,this.endRadius=Math.ceil(d.geom.Point.distance(new d.geom.Point(0,0),new d.geom.Point(b.stencyl.Engine.screenWidthHalf*
b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeightHalf*b.stencyl.Engine.SCALE)))|0):a==b.stencyl.graphics.transitions.Transition.OUT&&(this.beginRadius=Math.ceil(d.geom.Point.distance(new d.geom.Point(0,0),new d.geom.Point(b.stencyl.Engine.screenWidthHalf*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeightHalf*b.stencyl.Engine.SCALE)))|0,this.endRadius=0)};l["com.stencyl.graphics.transitions.CircleTransition"]=b.stencyl.graphics.transitions.CircleTransition;b.stencyl.graphics.transitions.CircleTransition.__name__=
["com","stencyl","graphics","transitions","CircleTransition"];b.stencyl.graphics.transitions.CircleTransition.__super__=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.CircleTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){null!=this.s&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.s),this.s=null)},draw:function(){this.s.jeashGetGraphics().clear();this.s.jeashGetGraphics().beginFill(this.color);this.s.jeashGetGraphics().drawRect(0,
0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);this.s.jeashGetGraphics().endFill();this.circleImg.draw(b.stencyl.Engine.engine.master);this.s.jeashGetGraphics().beginBitmapFill(this.circleImg);this.s.jeashGetGraphics().drawCircle(b.stencyl.Engine.screenWidthHalf*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeightHalf*b.stencyl.Engine.SCALE,this.radius);this.s.jeashGetGraphics().endFill()},start:function(){this.active=!0;this.s=new d.display.Shape;
this.circleImg=new d.display.BitmapData(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.radius=this.beginRadius;if(this.direction==b.stencyl.graphics.transitions.Transition.IN){var a=this.s.jeashGetGraphics();a.beginFill(this.color);a.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);a.endFill()}b.stencyl.Engine.engine.transitionLayer.addChild(this.s);b.eclecticdesignstudio.motion.Actuate.tween(this,
this.duration,{radius:this.endRadius}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,this.stop))},s:null,circleImg:null,endRadius:null,beginRadius:null,radius:null,color:null,__class__:b.stencyl.graphics.transitions.CircleTransition});b.stencyl.graphics.transitions.CrossfadeTransition=function(a,c){b.stencyl.graphics.transitions.Transition.call(this,c);this.oldImg=a};l["com.stencyl.graphics.transitions.CrossfadeTransition"]=b.stencyl.graphics.transitions.CrossfadeTransition;
b.stencyl.graphics.transitions.CrossfadeTransition.__name__=["com","stencyl","graphics","transitions","CrossfadeTransition"];b.stencyl.graphics.transitions.CrossfadeTransition.__super__=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.CrossfadeTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){this.bitmap=this.oldImg=null;null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),this.rect=null)},draw:function(){},
start:function(){this.active=!0;this.bitmap=new d.display.BitmapData(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.bitmap.draw(this.oldImg);this.rect=new d.display.Shape;var a=this.rect.jeashGetGraphics();a.beginBitmapFill(this.bitmap);a.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);a.endFill();b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this.rect,
this.duration,{alpha:0}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,this.stop))},rect:null,bitmap:null,oldImg:null,__class__:b.stencyl.graphics.transitions.CrossfadeTransition});b.stencyl.graphics.transitions.FadeInTransition=function(a,c){null==c&&(c=-16777216);b.stencyl.graphics.transitions.Transition.call(this,a);this.color=c;this.direction=b.stencyl.graphics.transitions.Transition.IN};l["com.stencyl.graphics.transitions.FadeInTransition"]=b.stencyl.graphics.transitions.FadeInTransition;
b.stencyl.graphics.transitions.FadeInTransition.__name__=["com","stencyl","graphics","transitions","FadeInTransition"];b.stencyl.graphics.transitions.FadeInTransition.__super__=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.FadeInTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),this.rect=null)},start:function(){this.active=!0;this.rect=new d.display.Shape;
var a=this.rect.jeashGetGraphics();a.beginFill(this.color);a.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);a.endFill();b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this.rect,this.duration,{alpha:0}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,this.stop))},rect:null,color:null,__class__:b.stencyl.graphics.transitions.FadeInTransition});
b.stencyl.graphics.transitions.FadeOutTransition=function(a,c){null==c&&(c=-16777216);b.stencyl.graphics.transitions.Transition.call(this,a);this.color=c;this.direction=b.stencyl.graphics.transitions.Transition.IN};l["com.stencyl.graphics.transitions.FadeOutTransition"]=b.stencyl.graphics.transitions.FadeOutTransition;b.stencyl.graphics.transitions.FadeOutTransition.__name__=["com","stencyl","graphics","transitions","FadeOutTransition"];b.stencyl.graphics.transitions.FadeOutTransition.__super__=b.stencyl.graphics.transitions.Transition;
b.stencyl.graphics.transitions.FadeOutTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),this.rect=null)},start:function(){this.active=!0;this.rect=new d.display.Shape;this.rect.alpha=0;var a=this.rect.jeashGetGraphics();a.beginFill(this.color);a.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);a.endFill();
b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this.rect,this.duration,{alpha:1}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,this.stop))},rect:null,color:null,__class__:b.stencyl.graphics.transitions.FadeOutTransition});b.stencyl.graphics.transitions.PixelizeTransition=function(a,c,f){b.stencyl.graphics.transitions.Transition.call(this,a);this.beginPixelSize=c;this.endPixelSize=f;this.pixelSize=c};l["com.stencyl.graphics.transitions.PixelizeTransition"]=
b.stencyl.graphics.transitions.PixelizeTransition;b.stencyl.graphics.transitions.PixelizeTransition.__name__=["com","stencyl","graphics","transitions","PixelizeTransition"];b.stencyl.graphics.transitions.PixelizeTransition.__super__=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.PixelizeTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),this.rect=null)},
draw:function(){if(1!=this.pixelSize){this.graphics.clear();this.srcImg.draw(b.stencyl.Engine.engine.master);this.c=Math.ceil(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE/this.pixelSize);this.r=Math.ceil(b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE/this.pixelSize);this.xOverflow=this.c*this.pixelSize-b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0;this.yOverflow=this.r*this.pixelSize-b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0;this.pixelRect.x=-this.xOverflow/2;this.pixelRect.y=
-this.yOverflow/2;this.pixelRect.height=this.pixelRect.width=this.pixelSize;this.halfSize=this.pixelSize/2|0;for(var a=0,c=this.r;a<c;){a++;for(var f=0,d=this.c;f<d;)f++,this.graphics.beginFill(this.srcImg.getPixel32(this.pixelRect.x+this.halfSize|0,this.pixelRect.y+this.halfSize|0)),this.graphics.drawRect(this.pixelRect.x,this.pixelRect.y,this.pixelRect.width,this.pixelRect.height),this.graphics.endFill(),this.pixelRect.x+=this.pixelSize;this.pixelRect.x=-this.xOverflow/2;this.pixelRect.y+=this.pixelSize}}},
start:function(){this.active=!0;this.rect=new d.display.Shape;this.graphics=this.rect.jeashGetGraphics();this.srcImg=new d.display.BitmapData(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.pixelRect=new d.geom.Rectangle(0,0,0,0);b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this,this.duration,{pixelSize:this.endPixelSize}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,
this.stop))},halfSize:null,pixelRect:null,yOverflow:null,xOverflow:null,r:null,c:null,srcImg:null,graphics:null,rect:null,endPixelSize:null,beginPixelSize:null,pixelSize:null,__class__:b.stencyl.graphics.transitions.PixelizeTransition});b.stencyl.graphics.transitions.RectangleTransition=function(a,c,f){b.stencyl.graphics.transitions.Transition.call(this,c);this.color=f;this.direction=a;a==b.stencyl.graphics.transitions.Transition.IN?(this.beginHeight=this.beginWidth=0,this.endWidth=b.stencyl.Engine.screenWidth*
b.stencyl.Engine.SCALE|0,this.endHeight=b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0):a==b.stencyl.graphics.transitions.Transition.OUT?(this.beginWidth=b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,this.beginHeight=b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0,this.endHeight=this.endWidth=0):this.complete=!0};l["com.stencyl.graphics.transitions.RectangleTransition"]=b.stencyl.graphics.transitions.RectangleTransition;b.stencyl.graphics.transitions.RectangleTransition.__name__=
["com","stencyl","graphics","transitions","RectangleTransition"];b.stencyl.graphics.transitions.RectangleTransition.__super__=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.RectangleTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),this.rect=null)},draw:function(){this.graphics.clear();this.graphics.beginFill(this.color);this.graphics.drawRect(0,0,
b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);this.graphics.endFill();this.rectangleImg.draw(b.stencyl.Engine.engine.master);this.graphics.beginBitmapFill(this.rectangleImg);this.graphics.drawRect((b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE-this.width)/2,(b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE-this.height)/2,this.width,this.height);this.graphics.endFill()},start:function(){this.active=!0;this.width=this.beginWidth;
this.height=this.beginHeight;this.rectangleImg=new d.display.BitmapData(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.rect=new d.display.Shape;this.graphics=this.rect.jeashGetGraphics();this.direction==b.stencyl.graphics.transitions.Transition.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE),this.graphics.endFill());
b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this,this.duration,{width:this.endWidth,height:this.endHeight}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,this.stop))},rect:null,endHeight:null,beginHeight:null,endWidth:null,beginWidth:null,height:null,width:null,color:null,graphics:null,rectangleImg:null,__class__:b.stencyl.graphics.transitions.RectangleTransition});b.stencyl.graphics.transitions.SlideTransition=
function(a,c,f){b.stencyl.graphics.transitions.Transition.call(this,c);this.sceneSpr=a;this.oldSceneMatrix=new d.geom.Matrix;this.newSceneMatrix=new d.geom.Matrix;this.ty=this.tx=0;f==b.stencyl.graphics.transitions.SlideTransition.SLIDE_UP?(this.newSceneMatrix.setTy(-b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE),this.ty=b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE):f==b.stencyl.graphics.transitions.SlideTransition.SLIDE_DOWN?(this.newSceneMatrix.setTy(b.stencyl.Engine.screenHeight*
b.stencyl.Engine.SCALE),this.ty=-b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE):f==b.stencyl.graphics.transitions.SlideTransition.SLIDE_LEFT?(this.newSceneMatrix.setTx(-b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE),this.tx=b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE):f==b.stencyl.graphics.transitions.SlideTransition.SLIDE_RIGHT?(this.newSceneMatrix.setTx(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE),this.tx=-b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE):this.complete=
!0};l["com.stencyl.graphics.transitions.SlideTransition"]=b.stencyl.graphics.transitions.SlideTransition;b.stencyl.graphics.transitions.SlideTransition.__name__=["com","stencyl","graphics","transitions","SlideTransition"];b.stencyl.graphics.transitions.SlideTransition.__super__=b.stencyl.graphics.transitions.Transition;b.stencyl.graphics.transitions.SlideTransition.prototype=t(b.stencyl.graphics.transitions.Transition.prototype,{cleanup:function(){this.sceneSpr=null;null!=this.rect&&(b.stencyl.Engine.engine.transitionLayer.removeChild(this.rect),
this.rect=null)},draw:function(){this.graphics.clear();this.newBitmap.draw(this.sceneSpr);this.drawBitmap.draw(this.newBitmap,this.newSceneMatrix);this.drawBitmap.draw(this.oldBitmap,this.oldSceneMatrix);this.graphics.beginBitmapFill(this.drawBitmap);this.graphics.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);this.graphics.endFill()},start:function(){this.active=!0;this.oldBitmap=new d.display.BitmapData(b.stencyl.Engine.screenWidth*
b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.oldBitmap.draw(this.sceneSpr);this.newBitmap=new d.display.BitmapData(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.drawBitmap=new d.display.BitmapData(b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE|0,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE|0);this.rect=new d.display.Shape;this.graphics=this.rect.jeashGetGraphics();this.graphics.beginBitmapFill(this.oldBitmap);
this.graphics.drawRect(0,0,b.stencyl.Engine.screenWidth*b.stencyl.Engine.SCALE,b.stencyl.Engine.screenHeight*b.stencyl.Engine.SCALE);this.graphics.endFill();b.stencyl.Engine.engine.transitionLayer.addChild(this.rect);b.eclecticdesignstudio.motion.Actuate.tween(this.oldSceneMatrix,this.duration,{tx:this.tx,ty:this.ty}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,this.stop));b.eclecticdesignstudio.motion.Actuate.tween(this.newSceneMatrix,this.duration,{tx:0,ty:0}).ease(b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()).onComplete(A(this,
this.stop))},rect:null,ty:null,tx:null,newSceneMatrix:null,oldSceneMatrix:null,graphics:null,drawBitmap:null,newBitmap:null,oldBitmap:null,sceneSpr:null,__class__:b.stencyl.graphics.transitions.SlideTransition});b.stencyl.io={};b.stencyl.io.AbstractReader=function(){};l["com.stencyl.io.AbstractReader"]=b.stencyl.io.AbstractReader;b.stencyl.io.AbstractReader.__name__=["com","stencyl","io","AbstractReader"];b.stencyl.io.AbstractReader.prototype={read:null,accepts:null,__class__:b.stencyl.io.AbstractReader};
b.stencyl.io.ActorTypeReader=function(){};l["com.stencyl.io.ActorTypeReader"]=b.stencyl.io.ActorTypeReader;b.stencyl.io.ActorTypeReader.__name__=["com","stencyl","io","ActorTypeReader"];b.stencyl.io.ActorTypeReader.__interfaces__=[b.stencyl.io.AbstractReader];b.stencyl.io.ActorTypeReader.readBehaviors=function(a){for(var c=new F,a=a.getElements();a.hasNext();){var f=a.next();b.stencyl.utils.Utils.toBoolean(f.att.resolve("enabled"))&&c.set(f.att.resolve("id"),b.stencyl.io.ActorTypeReader.readBehavior(f))}return c};
b.stencyl.io.ActorTypeReader.readBehavior=function(a){for(var c=m.parseInt(a.att.resolve("id")),f=new F,a=a.getElements();a.hasNext();){var d=a.next();f.set(d.att.resolve("id"),d.att.resolve("val"));d.getElements().hasNext()&&f.set(d.att.resolve("id"),b.stencyl.io.ActorTypeReader.readList(d))}return new b.stencyl.behavior.BehaviorInstance(c,f)};b.stencyl.io.ActorTypeReader.readList=function(a){for(var c=[],a=a.getElements();a.hasNext();){var f=a.next(),d=m.parseInt(f.att.resolve("order")),e=f.getName();
if("number"==e)e=m.parseFloat(f.att.resolve("value")),c.splice(d,0,e);else if("text"==e)e=f.att.resolve("value"),c.splice(d,0,e);else if("bool"==e)e=b.stencyl.utils.Utils.toBoolean(f.att.resolve("value")),c.splice(d,0,e);else if("list"==e){e=[];for(f=f.getElements();f.hasNext();){var g=f.next(),h=m.parseInt(g.att.resolve("order"));e[h]=g.att.resolve("value")}c.splice(d,0,e)}}return c};b.stencyl.io.ActorTypeReader.prototype={read:function(a,c,f,d,o){f=new e.dynamics.B2BodyDef;f.fixedRotation=b.stencyl.utils.Utils.toBoolean(o.att.resolve("fixedrot"));
f.type="0"==o.att.resolve("bodytype")?e.dynamics.B2Body.b2_staticBody:"1"==o.att.resolve("bodytype")?e.dynamics.B2Body.b2_kinematicBody:e.dynamics.B2Body.b2_dynamicBody;f.linearDamping=m.parseFloat(o.att.resolve("ldamp"));f.angularDamping=m.parseFloat(o.att.resolve("adamp"));f.friction=m.parseFloat(o.att.resolve("fric"));f.bounciness=m.parseFloat(o.att.resolve("rest"));f.mass=m.parseFloat(o.att.resolve("mass"));f.aMass=m.parseFloat(o.att.resolve("inertia"));f.active=!0;f.bullet=!1;f.allowSleep=!1;
f.awake=!0;f.ignoreGravity=b.stencyl.utils.Utils.toBoolean(o.att.resolve("ignoreg"));f.bullet=b.stencyl.utils.Utils.toBoolean(o.att.resolve("continuous"));var g=m.parseInt(o.att.resolve("sprite")),h=m.parseInt(o.att.resolve("gid")),i=b.stencyl.utils.Utils.toBoolean(o.att.resolve("lw")),j=b.stencyl.utils.Utils.toBoolean(o.att.resolve("ascale")),p=b.stencyl.utils.Utils.toBoolean(o.att.resolve("pausable")),k=f.ignoreGravity||f.type==e.dynamics.B2Body.b2_staticBody||f.type==e.dynamics.B2Body.b2_kinematicBody,
l=b.stencyl.io.ActorTypeReader.readBehaviors(o.node.resolve("snippets"));if(""!=o.att.resolve("eventsnippetid")){var n=m.parseInt(o.att.resolve("eventsnippetid"));-1<n&&l.set(o.att.resolve("eventsnippetid"),new b.stencyl.behavior.BehaviorInstance(n,new F))}return new b.stencyl.models.actor.ActorType(a,c,d,h,g,l,f,i,j,p,k)},accepts:function(a){return"actor"==a},__class__:b.stencyl.io.ActorTypeReader};b.stencyl.io.BackgroundReader=function(){};l["com.stencyl.io.BackgroundReader"]=b.stencyl.io.BackgroundReader;
b.stencyl.io.BackgroundReader.__name__=["com","stencyl","io","BackgroundReader"];b.stencyl.io.BackgroundReader.__interfaces__=[b.stencyl.io.AbstractReader];b.stencyl.io.BackgroundReader.prototype={read:function(a,c,f,d,e){if("color-bg"==f)return a=m.parseInt(e.att.resolve("red")),c=m.parseInt(e.att.resolve("green")),d=m.parseInt(e.att.resolve("blue")),f=255,-1==a||-1==c||-1==d?new b.stencyl.models.background.ColorBackground(b.stencyl.models.background.ColorBackground.TRANSPARENT):new b.stencyl.models.background.ColorBackground(f<<
24|a<<16|c<<8|d);if("grad-bg"==f){var a=m.parseInt(e.att.resolve("r1")),c=m.parseInt(e.att.resolve("g1")),d=m.parseInt(e.att.resolve("b1")),f=255,g=f<<24|a<<16|c<<8|d,a=m.parseInt(e.att.resolve("r2")),c=m.parseInt(e.att.resolve("g2")),d=m.parseInt(e.att.resolve("b2"));return new b.stencyl.models.background.GradientBackground(g,f<<24|a<<16|c<<8|d)}var f=m.parseFloat(e.att.resolve("dx")),g=m.parseFloat(e.att.resolve("dy")),h=m.parseFloat(e.att.resolve("xpf")),i=m.parseFloat(e.att.resolve("ypf")),j=
[],p=0;if(0<m.parseInt(e.att.resolve("numframes")))for(var k=e.att.resolve("durations").split(","),l=0;l<k.length;){var n=k[l];++l;j[p]=m.parseInt(n);p++}e=b.stencyl.utils.Utils.toBoolean(e.att.resolve("repeats"));return 0!=f||0!=g?new b.stencyl.models.background.ScrollingBackground(a,c,d,j,h,i,e,f,g):new b.stencyl.models.background.ImageBackground(a,c,d,j,h,i,e)},accepts:function(a){return"background"==a},__class__:b.stencyl.io.BackgroundReader};b.stencyl.io.BehaviorReader=function(){};l["com.stencyl.io.BehaviorReader"]=
b.stencyl.io.BehaviorReader;b.stencyl.io.BehaviorReader.__name__=["com","stencyl","io","BehaviorReader"];b.stencyl.io.BehaviorReader.readBehavior=function(a){var c=m.parseInt(a.att.resolve("id")),f=a.att.resolve("name"),d="",e=!1;try{d=a.att.resolve("class")}catch(g){if(!n.Boot.__instanceof(g,String))throw g;}try{e="true"==a.att.resolve("attachedevent")}catch(h){if(!n.Boot.__instanceof(h,String))throw h;}for(var i=new F,j=a.att.resolve("type"),a=a.getElements();a.hasNext();){var p=a.next(),k=p.getName();
"snippets"!=k&&"blocks"!=k&&"events"!=k&&i.set(p.att.resolve("id"),b.stencyl.io.BehaviorReader.readAttribute(p))}return new b.stencyl.behavior.Behavior(null,null,c,f,d,!0,!0,i,j,e)};b.stencyl.io.BehaviorReader.readAttribute=function(a){var c=m.parseInt(a.att.resolve("id")),f=a.att.resolve("name"),d=a.att.resolve("fullname"),e="";try{e=a.att.resolve("defaultValue")}catch(g){if(!n.Boot.__instanceof(g,String))throw g;}a=a.getName();return new b.stencyl.behavior.Attribute(c,f,d,e,a,null)};b.stencyl.io.BehaviorReader.prototype=
{__class__:b.stencyl.io.BehaviorReader};b.stencyl.io.FontReader=function(){};l["com.stencyl.io.FontReader"]=b.stencyl.io.FontReader;b.stencyl.io.FontReader.__name__=["com","stencyl","io","FontReader"];b.stencyl.io.FontReader.__interfaces__=[b.stencyl.io.AbstractReader];b.stencyl.io.FontReader.prototype={read:function(a,c,f,d){return new b.stencyl.models.Font(a,c,d,!1)},accepts:function(a){return"font"==a},__class__:b.stencyl.io.FontReader};b.stencyl.io.SoundReader=function(){};l["com.stencyl.io.SoundReader"]=
b.stencyl.io.SoundReader;b.stencyl.io.SoundReader.__name__=["com","stencyl","io","SoundReader"];b.stencyl.io.SoundReader.__interfaces__=[b.stencyl.io.AbstractReader];b.stencyl.io.SoundReader.prototype={read:function(a,c,f,d,e){var c=b.stencyl.utils.Utils.toBoolean(e.att.resolve("stream")),f=b.stencyl.utils.Utils.toBoolean(e.att.resolve("loop")),g=m.parseFloat(e.att.resolve("pan")),h=m.parseFloat(e.att.resolve("volume")),e=e.att.resolve("type");return new b.stencyl.models.Sound(a,d,c,f,g,h,e)},accepts:function(a){return"sound"==
a||"music"==a},__class__:b.stencyl.io.SoundReader};b.stencyl.io.SpriteReader=function(){};l["com.stencyl.io.SpriteReader"]=b.stencyl.io.SpriteReader;b.stencyl.io.SpriteReader.__name__=["com","stencyl","io","SpriteReader"];b.stencyl.io.SpriteReader.__interfaces__=[b.stencyl.io.AbstractReader];b.stencyl.io.SpriteReader.createShape=function(a,c,f,d,o,g){null==g&&(g=-1);null==o&&(o=-1);null==d&&(d=0);null==f&&(f=0);var h=0,i=0,j=0,h=0;if("circle"==a){var p=m.parseFloat(c[0]),h=m.parseFloat(c[1]),i=m.parseFloat(c[2]),
c=2*p,a=new e.collision.shapes.B2CircleShape;a.m_radius=b.stencyl.Engine.toPhysicalUnits(p);a.m_p.x=b.stencyl.Engine.toPhysicalUnits(h-(o-c)/2);a.m_p.y=b.stencyl.Engine.toPhysicalUnits(i-(g-c)/2);return a}if("poly"==a||"polyregion"==a){var p=[],k=m.parseInt(c[0]),j=0,l=1,n=0,q=0;"polyregion"==a&&(q=n=1E7);for(var r=0,s=0;j<k;)h=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[l])),i=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[l+1])),n=Math.min(n,m.parseFloat(c[l])),q=Math.min(q,m.parseFloat(c[l+
1])),r=Math.max(r,m.parseFloat(c[l])),s=Math.max(s,m.parseFloat(c[l+1])),p[j]=new e.common.math.B2Vec2(h,i),j++,l+=2;b.stencyl.io.SpriteReader.EnsureCorrectVertexDirection(p);var j=r-n,h=s-q,i=n-b.stencyl.Engine.toPixelUnits(f),d=q-b.stencyl.Engine.toPixelUnits(d),f=j/2,s=h/2,l=e.collision.shapes.B2PolygonShape.asArray(p,p.length),r=new e.collision.B2AABB,t=new e.common.math.B2Transform;t.setIdentity();l.computeAABB(r,t);j<o&&(n="polyregion"==a?n+Math.abs(o-j)/2:n+b.stencyl.Engine.toPhysicalUnits(Math.abs(o-
j)/2));h<g&&(q="polyregion"==a?q+Math.abs(g-h)/2:q+b.stencyl.Engine.toPhysicalUnits(Math.abs(g-h)/2));j=0;for(l=1;j<k;)"polyregion"==a?(o=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[l])-f-n+i),g=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[l+1])-s-q+d),p[j]=new e.common.math.B2Vec2(o,g)):p[j]=new e.common.math.B2Vec2(b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[l])-f)-n,b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[l+1])-s)-q),j++,l+=2;b.stencyl.io.SpriteReader.EnsureCorrectVertexDirection(p);
return e.collision.shapes.B2PolygonShape.asArray(p,p.length)}if("wireframe"==a){p=[];o=m.parseFloat(c[0]);g=0;for(a=1;g<o;)p.push(new e.common.math.B2Vec2(b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[a])),b.stencyl.Engine.toPhysicalUnits(m.parseFloat(c[a+1])))),g++,a+=2;j=b.stencyl.io.SpriteReader.getWidth(p);h=b.stencyl.io.SpriteReader.getHeight(p);c=[];o=0;for(g=p.length+1;o<g;)l=o++,a=e.collision.shapes.B2PolygonShape.asEdge(p[l%p.length],p[(l+1)%p.length]),c.push(a);p=new B;p.set(0,c);p.set(1,
j);p.set(2,h);return p}return null};b.stencyl.io.SpriteReader.CheckVertexDirection=function(a){if(2<a.length){for(var c=0,b=0;0==c&&b<a.length-2;)c=a[b].winding(a[b+1],a[b+2]),++b;if(0>c)return!1}return!0};b.stencyl.io.SpriteReader.EnsureCorrectVertexDirection=function(a){return!b.stencyl.io.SpriteReader.CheckVertexDirection(a)?(b.stencyl.io.SpriteReader.ReverseVertices(a),!1):!0};b.stencyl.io.SpriteReader.ReverseVertices=function(a){for(var c=0,b=a.length-1,d;b>c;)d=a[c].x,a[c].x=a[b].x,a[b].x=d,
d=a[c].y,a[c].y=a[b].y,a[b].y=d,++c,--b};b.stencyl.io.SpriteReader.getWidth=function(a){for(var c=1E7,b=0,d=0;d<a.length;){var e=a[d];++d;c=Math.min(c,e.x);b=Math.max(b,e.x)}return b-c};b.stencyl.io.SpriteReader.getHeight=function(a){for(var c=1E7,b=0,d=0;d<a.length;){var e=a[d];++d;c=Math.min(c,e.y);b=Math.max(b,e.y)}return b-c};b.stencyl.io.SpriteReader.prototype={readShapes:function(a,c,f){for(var d=new B,a=a.getElements();a.hasNext();){var o=a.next(),g=m.parseInt(o.att.resolve("id"));m.parseInt(o.att.resolve("gid"));
var h=b.stencyl.utils.Utils.toBoolean(o.att.resolve("sensor")),i=o.getName(),j=o.att.resolve("data").split(",");if(b.stencyl.Engine.NO_PHYSICS){if(o=m.parseInt(j[0]),"poly"==i&&4==o){for(var i=0,p=1,k=1E7,l=1E7,n=0,q=0,r=m.parseInt(j[1]),s=m.parseInt(j[2]);i<o;)k=Math.min(k,m.parseInt(j[p]))|0,l=Math.min(l,m.parseInt(j[p+1]))|0,n=Math.max(n,m.parseInt(j[p]))|0,q=Math.max(q,m.parseInt(j[p+1]))|0,i++,p+=2;d.set(g,new b.stencyl.models.collision.Hitbox(n-k,q-l,r,s,!h))}}else j=b.stencyl.io.SpriteReader.createShape(i,
j,0,0,c,f),i=new e.dynamics.B2FixtureDef,i.shape=j,i.density=m.parseFloat(o.att.resolve("density")),i.friction=m.parseFloat(o.att.resolve("fric")),i.restitution=m.parseFloat(o.att.resolve("rest")),i.isSensor=h,i.groupID=m.parseInt(o.att.resolve("gid")),d.set(g,i)}return d},readAnimation:function(a,c){for(var f=m.parseInt(a.att.resolve("id")),d=a.att.resolve("name"),e=m.parseInt(a.att.resolve("width")),g=m.parseInt(a.att.resolve("height")),h=m.parseFloat(a.att.resolve("originx")),i=m.parseFloat(a.att.resolve("originy")),
j=m.parseInt(a.att.resolve("across")),p=m.parseInt(a.att.resolve("down")),k=c.ID,l=this.readShapes(a,e/j,g/p),n=b.stencyl.utils.Utils.toBoolean(a.att.resolve("loop")),q=b.stencyl.utils.Utils.toBoolean(a.att.resolve("sync")),r=[],s=0,t=a.att.resolve("durations").split(","),v=0;v<t.length;){var w=t[v];++v;r[s]=m.parseInt(w);r[s]=Math.floor(r[s]/10);r[s]*=10;s++}return new b.stencyl.models.actor.Animation(f,d,k,l,n,q,e,g,h,i,r,j,p,c.atlasID)},read:function(a,c,f,d,e){var f=m.parseInt(e.att.resolve("width")),
g=m.parseInt(e.att.resolve("height")),h=0;try{h=m.parseInt(e.att.resolve("defaultAnimation"))}catch(i){if(!n.Boot.__instanceof(i,String))throw i;}a=new b.stencyl.models.actor.Sprite(a,c,d,f,g,h);for(e=e.getElements();e.hasNext();)c=e.next(),a.animations.set(m.parseInt(c.att.resolve("id")),this.readAnimation(c,a));return a},accepts:function(a){return"sprite"==a},__class__:b.stencyl.io.SpriteReader};b.stencyl.io.TilesetReader=function(){};l["com.stencyl.io.TilesetReader"]=b.stencyl.io.TilesetReader;
b.stencyl.io.TilesetReader.__name__=["com","stencyl","io","TilesetReader"];b.stencyl.io.TilesetReader.__interfaces__=[b.stencyl.io.AbstractReader];b.stencyl.io.TilesetReader.prototype={readTile:function(a,c){for(var f=m.parseInt(a.att.resolve("id")),d=m.parseInt(a.att.resolve("collision")),e=m.parseInt(a.att.resolve("frames")),g=[],h=0,i=a.att.resolve("durations").split(","),j=0;j<i.length;){var p=i[j];++j;g[h]=m.parseInt(p);g[h]=Math.floor(g[h]/10);g[h]*=10;h++}return new b.stencyl.models.scene.Tile(f,
d,e,g,c)},read:function(a,c,f,d,e){for(var g=m.parseInt(e.att.resolve("across")),h=m.parseInt(e.att.resolve("down")),i=m.parseInt(e.att.resolve("tw")),j=m.parseInt(e.att.resolve("th")),f=[],a=new b.stencyl.models.scene.Tileset(a,c,d,g,h,i,j,f),e=e.getElements();e.hasNext();)c=e.next(),f[m.parseInt(c.att.resolve("id"))]=this.readTile(c,a);a.setupTilesheet();return a},accepts:function(a){return"tileset"==a},__class__:b.stencyl.io.TilesetReader};b.stencyl.models={};b.stencyl.models.Actor=function(a,
c,f,z,o,g,h,i,j,p,k,l,m,q,r,s,t,v,w,x,y){null==y&&(y=!1);null==x&&(x=!0);null==w&&(w=!1);null==v&&(v=0);null==s&&(s=!1);null==r&&(r=!1);null==q&&(q=!1);null==m&&(m=!1);null==i&&(i=32);null==h&&(h=32);null==g&&(g=0);null==o&&(o=0);null==z&&(z=0);d.display.Sprite.call(this);this.dummy=new e.common.math.B2Vec2;this.zero=new e.common.math.B2Vec2(0,0);this._point=b.stencyl.utils.Utils.point;this._moveX=this._moveY=0;this.HITBOX=new b.stencyl.models.collision.Mask;this.HITBOX.assignTo(this);n.Boot.__instanceof(this,
b.stencyl.models.Region)&&b.stencyl.Engine.NO_PHYSICS&&(t=new b.stencyl.models.collision.Hitbox(h|0,i|0),this.setShape(t));this.jeashSetX(0);this.jeashSetY(0);this.jeashSetRotation(0);this.realAngle=this.realY=this.realX=0;this.realScaleY=this.realScaleX=1;this.originY=this.originX=0;this.updateMatrix=this.solid=this.collidable=!0;w?(this.jeashSetX(z*b.stencyl.Engine.physicsScale),this.jeashSetY(o*b.stencyl.Engine.physicsScale)):(this.jeashSetX(z),this.jeashSetY(o));this.realX=this.colX=z;this.realY=
this.colY=o;this.activePositionTweens=this.activeAngleTweens=0;this.tweenLoc=new d.geom.Point(0,0);this.tweenAngle=new b.stencyl.models.actor.AngleHolder;this.transformPoint=new d.geom.Point(0,0);this.transformMatrix=new d.geom.Matrix;this.currOrigin=new d.geom.Point(0,0);this.currOffset=new d.geom.Point(0,0);this.registry=new F;this.isLightweight=w;this.autoScale=x;this.mouseState=this.rSpeed=this.ySpeed=this.xSpeed=0;this.isTerrainRegion=this.isRegion=this.isCamera=this.lastSceneState=this.lastScreenState=
!1;this.drawActor=!0;this.fixedRotation=this.isHUD=this.alwaysSimulate=this.killLeaveScreen=!1;this.ignoreGravity=y;this.resetOrigin=!0;this.resetListeners();this.destroyed=this.paused=this.recycled=!1;this.name="Unknown";this.ID=c;this.groupID=f;this.layerID=g;this.typeID=v;this.engine=a;this.groupsToCollideWith=b.stencyl.models.GameModel.get().groupsCollidesWith.get(f);this.collisions=new B;this.simpleCollisions=new B;this.contacts=new B;this.regionContacts=new B;this.collisionsCount=this.contactCount=
0;this.handlesCollisions=!0;this.behaviors=new b.stencyl.behavior.BehaviorManager;this.currAnimationName="";this.animationMap=new F;this.shapeMap=new F;this.originMap=new F;this.sprite=j;if(null!=j&&(c=n.Boot.__cast(b.stencyl.Data.get().resources.get(k.spriteID),b.stencyl.models.actor.Sprite),null!=c)){this.type=n.Boot.__cast(b.stencyl.Data.get().resources.get(v),b.stencyl.models.actor.ActorType);for(v=c.animations.iterator();v.hasNext();)c=v.next(),this.addAnim(c.animID,c.animName,c.imgData,c.framesAcross,
Math.floor(c.imgWidth/c.framesAcross),Math.floor(c.imgHeight/c.framesDown),c.originX,c.originY,c.durations,c.looping,c.shapes)}this.addAnim(-1,"recyclingDefault",null,1,1,1,1,1,[1E3],!1,null);null!=l&&!w?(l.bullet&&(e.dynamics.B2World.m_continuousPhysics=!0),l.groupID=f,this.initFromBody(l),f=new e.collision.shapes.B2PolygonShape,f.setAsBox(1,1),this.body.createFixture2(f,0.1),this.md=new e.collision.shapes.B2MassData,this.md.mass=l.mass,this.md.I=l.aMass,this.md.center.x=0,this.md.center.y=0,this.body.setMassData(this.md),
this.bodyScale=new d.geom.Point(1,1)):(null==t&&(t=b.stencyl.models.Actor.createBox(h,i)),n.Boot.__instanceof(this,b.stencyl.models.Region)&&(m=!0,s=!1),n.Boot.__instanceof(this,b.stencyl.models.Terrain)&&(s=!1),null!=t&&n.Boot.__instanceof(t,b.stencyl.models.collision.Mask))?(this.setShape(t),this.isTerrain=!0):w||this.initBody(f,m,q,r,s,t);this.switchToDefaultAnimation();null!=j?this.setLocation(b.stencyl.Engine.toPixelUnits(z),b.stencyl.Engine.toPixelUnits(o)):null!=t&&n.Boot.__instanceof(t,b.stencyl.models.collision.Mask)?
(z=new d.display.Bitmap(new d.display.BitmapData(1,1,!0,0)),z.jeashSetX(h),z.jeashSetY(i),this.addChild(z),this.cacheWidth=this.jeashSetWidth(h),this.cacheHeight=this.jeashSetHeight(i)):w||this.body.setPosition(new e.common.math.B2Vec2(z,o));null==p&&null!=k&&(p=k.behaviorValues);b.stencyl.Engine.initBehaviors(this.behaviors,p,this,a,!1)};l["com.stencyl.models.Actor"]=b.stencyl.models.Actor;b.stencyl.models.Actor.__name__=["com","stencyl","models","Actor"];b.stencyl.models.Actor.lastCollided=null;
b.stencyl.models.Actor.createBox=function(a,c){var f=new e.collision.shapes.B2PolygonShape;f.setAsBox(b.stencyl.Engine.toPhysicalUnits(a/2),b.stencyl.Engine.toPhysicalUnits(c/2));return f};b.stencyl.models.Actor.__super__=d.display.Sprite;b.stencyl.models.Actor.prototype=t(d.display.Sprite.prototype,{allowAdd:null,simpleCollisions:null,_point:null,_moveY:null,_moveX:null,_y:null,_x:null,_mask:null,HITBOX:null,handleCollisionsSimple:function(a,c,f,d){if(n.Boot.__instanceof(a,b.stencyl.models.Region))n.Boot.__cast(a,
b.stencyl.models.Region).addActor(this);else{var e=this.simpleCollisions.get(this.collisionsCount-1);b.stencyl.utils.Utils.collision.thisActor=b.stencyl.utils.Utils.collision.actorA=this;b.stencyl.utils.Utils.collision.otherActor=b.stencyl.utils.Utils.collision.actorB=a;c&&(1E8==a.ID?(b.stencyl.utils.Utils.collision.thisFromLeft=0>d,b.stencyl.utils.Utils.collision.thisFromRight=0<d):(b.stencyl.utils.Utils.collision.thisFromLeft=a.colX<this.colX,b.stencyl.utils.Utils.collision.thisFromRight=a.colX>
this.colX),b.stencyl.utils.Utils.collision.otherFromLeft=!b.stencyl.utils.Utils.collision.thisFromLeft,b.stencyl.utils.Utils.collision.otherFromRight=!b.stencyl.utils.Utils.collision.thisFromRight,b.stencyl.utils.Utils.collision.thisFromTop=b.stencyl.utils.Utils.collision.otherFromTop=!1,b.stencyl.utils.Utils.collision.thisFromBottom=b.stencyl.utils.Utils.collision.otherFromBottom=!1);f&&(1E8==a.ID?(b.stencyl.utils.Utils.collision.thisFromTop=0>d,b.stencyl.utils.Utils.collision.thisFromBottom=0<d):
(b.stencyl.utils.Utils.collision.thisFromTop=a.colX<this.colX,b.stencyl.utils.Utils.collision.thisFromBottom=a.colX>this.colX),b.stencyl.utils.Utils.collision.otherFromTop=!b.stencyl.utils.Utils.collision.thisFromTop,b.stencyl.utils.Utils.collision.otherFromBottom=!b.stencyl.utils.Utils.collision.thisFromBottom,b.stencyl.utils.Utils.collision.thisFromLeft=b.stencyl.utils.Utils.collision.otherFromLeft=!1,b.stencyl.utils.Utils.collision.thisFromRight=b.stencyl.utils.Utils.collision.otherFromRight=!1);
b.stencyl.utils.Utils.collision.thisCollidedWithActor=!0;b.stencyl.utils.Utils.collision.thisCollidedWithTile=1E8==a.ID;b.stencyl.utils.Utils.collision.thisCollidedWithSensor=null!=e?!e.maskB.solid:!1;b.stencyl.utils.Utils.collision.thisCollidedWithTerrain=!1;b.stencyl.utils.Utils.collision.otherCollidedWithActor=!0;b.stencyl.utils.Utils.collision.otherCollidedWithTile=1E8==a.ID;b.stencyl.utils.Utils.collision.otherCollidedWithSensor=null!=e?!e.maskA.solid:!1;b.stencyl.utils.Utils.collision.otherCollidedWithTerrain=
!1;b.stencyl.models.Actor.lastCollided=a;b.stencyl.Engine.invokeListeners2(this.collisionListeners,b.stencyl.utils.Utils.collision);this.engine.handleCollision(this,b.stencyl.utils.Utils.collision);b.stencyl.models.Actor.lastCollided=this;b.stencyl.Engine.invokeListeners2(a.collisionListeners,b.stencyl.utils.Utils.collision.switchData())}},moveCollideY:function(a,c){this.handleCollisionsSimple(a,!1,!0,c)},moveCollideX:function(a,c){this.handleCollisionsSimple(a,!0,!1,c)},moveActorTowards:function(a,
c,b,d,e){null==e&&(e=!1);this._point.x=a-this.realX;this._point.y=c-this.realY;this._point.normalize(b);this.moveActorBy(this._point.x,this._point.y,d,e)},moveActorTo:function(a,c,b,d){null==d&&(d=!1);this.moveActorBy(a-this.realX,c-this.realY,b,d)},moveActorBy:function(a,c,b,d){null==d&&(d=!1);this.clearCollisionList();this._moveX+=a;this._moveY+=c;a=Math.round(this._moveX);c=Math.round(this._moveY);this._moveX-=a;this._moveY-=c;if(null!=b){var e,g;if(0!=a)if(this.allowAdd=!1,this.collidable&&(d||
null!=this.collideTypes(b,this.realX+a,this.realY))){this.allowAdd=!0;for(e=0<a?1:-1;0!=a;){if(null!=(g=this.collideTypes(b,this.realX+e,this.realY)))if(this.moveCollideX(g,e),this.simpleCollisions.get(this.collisionsCount-1).solidCollision){this.xSpeed=0;break}this.realX+=e;a-=e}}else this.realX+=a;if(0!=c)if(this.allowAdd=!1,this.collidable&&(d||null!=this.collideTypes(b,this.realX,this.realY+c))){this.allowAdd=!0;for(e=0<c?1:-1;0!=c;){if(null!=(g=this.collideTypes(b,this.realX,this.realY+e)))if(this.moveCollideY(g,
e),this.simpleCollisions.get(this.collisionsCount-1).solidCollision){this.ySpeed=0;break}this.realY+=e;c-=e}}else this.realY+=c}else this.realX+=a,this.realY+=c;this.colX=this.realX-Math.floor(this.cacheWidth/2)-this.currOffset.x;this.colY=this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y},resetReal:function(a,c){this.realX=a;this.realY=c;this.colX=this.realX-this.cacheWidth/2-this.currOffset.x;this.colY=this.realY-this.cacheHeight/2-this.currOffset.y},alreadyCollided:function(a,c){for(var b=
this.simpleCollisions.iterator();b.hasNext();){var d=b.next();if(d.maskA==a&&d.maskB==c)return!0}return!1},addCollision:function(a){this.allowAdd&&(this.simpleCollisions.set(this.collisionsCount,a),this.collisionsCount++)},clearCollisionList:function(){for(var a=this.simpleCollisions.keys();a.hasNext();){var c=a.next();this.simpleCollisions.remove(c)}this.collisionsCount=0},collideTypesInto:function(a,c,b,d){for(var e=0;e<a.length;){var g=a[e];++e;this.collideInto(g,c,b,d)}},collideInto:function(a,
c,b,d){a=this.engine.getGroup(a);this._x=this.realX;this._y=this.realY;this.resetReal(c,b);c=d.length;if(null==this._mask)for(b=a.list.iterator();b.hasNext();){if(a=b.next(),this.colX+this.cacheWidth>a.colX&&(this.colY+this.cacheHeight>a.colY&&this.colX<a.colX+a.cacheWidth&&this.colY<a.colY+a.cacheHeight&&a.collidable&&a!=this)&&(null==a._mask||a._mask.collide(this.HITBOX)))d[c++]=a}else for(b=a.list.iterator();b.hasNext();)if(a=b.next(),this.colX+this.cacheWidth>a.colX&&(this.colY+this.cacheHeight>
a.colY&&this.colX<a.colX+a.cacheWidth&&this.colY<a.colY+a.cacheHeight&&a.collidable&&a!=this)&&this._mask.collide(null!=a._mask?a._mask:a.HITBOX))d[c++]=a;this.resetReal(this._x,this._y)},collideWith:function(a,c,b){this._x=this.realX;this._y=this.realY;this.resetReal(c,b);if(this.colX+this.cacheWidth>a.colX&&this.colY+this.cacheHeight>a.colY&&this.colX<a.colX+a.cacheWidth&&this.colY<a.colY+a.cacheHeight&&this.collidable&&a.collidable){if(null==this._mask){if(null==a._mask||a._mask.collide(this.HITBOX))return this.resetReal(this._x,
this._y),a;this.resetReal(this._x,this._y);return null}if(this._mask.collide(null!=a._mask?a._mask:a.HITBOX))return this.resetReal(this._x,this._y),a}this.resetReal(this._x,this._y);return null},collideTypes:function(a,c,b){if(n.Boot.__instanceof(a,String))return this.collide(a,c,b);if(null!=a)for(var d,e=0;e<a.length;)if(d=a[e],++e,d=this.collide(d,c,b),null!=d)return d;return null},collide:function(a,c,b){a=this.engine.getGroup(a);this._x=this.realX;this._y=this.realY;this.resetReal(c,b);if(null==
this._mask){for(c=a.list.iterator();c.hasNext();)if(b=c.next(),this.colX+this.cacheWidth>b.colX&&(this.colY+this.cacheHeight>b.colY&&this.colX<b.colX+b.cacheWidth&&this.colY<b.colY+b.cacheHeight&&b.collidable&&b!=this)&&(null==b._mask||b._mask.collide(this.HITBOX)))return(null==b._mask&&this.solid&&b.solid||!this.allowAdd||this.allowAdd&&this.simpleCollisions.get(this.collisionsCount-1).solidCollision)&&this.resetReal(this._x,this._y),b;this.resetReal(this._x,this._y);return null}for(c=a.list.iterator();c.hasNext();)if(b=
c.next(),this.colX+this.cacheWidth>b.colX&&(this.colY+this.cacheHeight>b.colY&&this.colX<b.colX+b.cacheWidth&&this.colY<b.colY+b.cacheHeight&&b.collidable&&b!=this)&&this._mask.collide(null!=b._mask?b._mask:b.HITBOX))return(null==b._mask&&this.solid&&b.solid||!this.allowAdd||this.allowAdd&&this.simpleCollisions.get(this.collisionsCount-1).solidCollision)&&this.resetReal(this._x,this._y),b;this.resetReal(this._x,this._y);return null},setShape:function(a){if(this._mask==a)return a;null!=this._mask&&
this._mask.assignTo(null);this._mask=a;null!=a&&this._mask.assignTo(this);return this._mask},getShape:function(){return this._mask},shape:null,setLocation:function(a,c){this.isCamera&&(a|=0,c|=0);this.realX=a;this.realY=c;this.setX(a);this.setY(c)},toString:function(){return null==this.name?"Unknown Actor "+this.ID:"[Actor "+this.ID+","+this.name+"]"},killSelfAfterLeavingScreen:function(){this.killLeaveScreen=!0},getLastCollidedActor:function(){return b.stencyl.models.Actor.lastCollided},isInScene:function(){return(this.isLightweight||
this.body.isActive())&&0<=this.getX()&&0<=this.getY()&&this.getX()<b.stencyl.Engine.sceneWidth&&this.getY()<b.stencyl.Engine.sceneHeight},isOnScreen:function(){var a=b.stencyl.Engine.cameraX/b.stencyl.Engine.SCALE,c=b.stencyl.Engine.cameraY/b.stencyl.Engine.SCALE,f=b.stencyl.Engine.paddingLeft,d=b.stencyl.Engine.paddingTop,e=b.stencyl.Engine.paddingRight,g=b.stencyl.Engine.paddingBottom;return(this.isLightweight||this.body.isActive())&&this.getX()>=-a-f&&this.getY()>=-c-d&&this.getX()<-a+b.stencyl.Engine.screenWidth+
e&&this.getY()<-c+b.stencyl.Engine.screenHeight+g},isAlive:function(){return!(this.dead||this.dying||this.recycled)},isDying:function(){return this.dying},die:function(){this.dying=!0;var a=this.engine.whenTypeGroupDiesListeners.get(this.getType()),c=this.engine.whenTypeGroupDiesListeners.get(this.getGroup());b.stencyl.Engine.invokeListeners(this.whenKilledListeners);null!=a&&b.stencyl.Engine.invokeListeners2(a,this);null!=c&&b.stencyl.Engine.invokeListeners2(c,this);this.removeAllListeners()},alwaysSimulates:function(){return this.alwaysSimulate},
makeSometimesSimulate:function(a){null==a&&(a=!0);!this.isLightweight&&a&&this.body.setAlwaysActive(!1);this.alwaysSimulate=!1;this.engine.removeHUDActor(this)},makeAlwaysSimulate:function(a){null==a&&(a=!0);!this.isLightweight&&a&&this.body.setAlwaysActive(!0);this.alwaysSimulate=!0;this.engine.addHUDActor(this)},isAnchoredToScreen:function(){return this.isHUD},unanchorFromScreen:function(){this.isLightweight||this.body.setAlwaysActive(this.alwaysSimulate);this.isHUD=!1;this.engine.removeHUDActor(this);
this.engine.moveActorToLayer(this,this.layerID);this.engine.hudLayer.removeChild(this)},anchorToScreen:function(){this.isLightweight||this.body.setAlwaysActive(!0);this.isHUD=!0;this.engine.addHUDActor(this);this.engine.removeActorFromLayer(this,this.layerID);this.engine.hudLayer.addChild(this)},removeAllListeners:function(){for(var a=this.allListeners.keys();a.hasNext();){var c=a.next(),f=n.Boot.__cast(c,Array);if(null!=f){var d=n.Boot.__cast(this.allListeners.get(f),Array);if(null!=d)for(var c=
0,e=d.length;c<e;){var g=c++;b.stencyl.utils.Utils.removeValueFromArray(f,d[g])}}}e=0;for(c=this.allListenerReferences;e<c.length;)a=c[e],++e,a["delete"](this);this.allListenerReferences.length=0},registerListener:function(a,c){var b=this.allListeners.get(a);null==b&&(b=[],this.allListeners.set(a,b));b.push(c)},hasActorValue:function(a){return null==this.registry?null:null!=this.registry.get(a)},getActorValue:function(a){return null==this.registry?null:this.registry.get(a)},setActorValue:function(a,
c){null!=this.registry&&this.registry.set(a,c)},say:function(a,c,b){return this.behaviors.call2(a,c,b)},shout:function(a,c){return this.behaviors.call(a,c)},setValue:function(a,c,b){this.behaviors.setAttribute(a,c,b)},getValue:function(a,c){return this.behaviors.getAttribute(a,c)},enableAllBehaviors:function(){if(null!=this.behaviors)for(var a=0,c=this.behaviors.behaviors;a<c.length;){var b=c[a];++a;b.enabled=!0}},isBehaviorEnabled:function(a){return null!=this.behaviors?this.behaviors.isBehaviorEnabled(a):
!1},disableBehavior:function(a){null!=this.behaviors&&this.behaviors.disableBehavior(a)},enableBehavior:function(a){null!=this.behaviors&&this.behaviors.enableBehavior(a)},hasBehavior:function(a){return null!=this.behaviors?this.behaviors.hasBehavior(a):!1},addBehavior:function(a){null!=this.behaviors&&this.behaviors.add(a)},clearFilters:function(){this.jeashSetFilters([])},setFilter:function(a){this.jeashSetFilters(a)},drawsImage:function(){return this.drawActor},disableActorDrawing:function(){this.drawActor=
!1;null!=this.currAnimation&&this.currAnimation.jeashSetVisible(!1);for(var a=this.animationMap.iterator();a.hasNext();){var c=a.next();null!=c&&c.jeashSetVisible(!1)}},enableActorDrawing:function(){this.drawActor=!0;null!=this.currAnimation&&this.currAnimation.jeashSetVisible(!0);for(var a=this.animationMap.iterator();a.hasNext();){var c=a.next();null!=c&&c.jeashSetVisible(!0)}},drawImage:function(a){null!=this.currAnimation&&n.Boot.__cast(this.currAnimation,b.stencyl.graphics.AbstractAnimation).draw(a,
0,0)},onTweenPositionComplete:function(){this.activePositionTweens--},onTweenAngleComplete:function(){this.activeAngleTweens--},moveBy:function(a,c,b,d){null==b&&(b=1);this.isLightweight?this.moveTo(this.realX+a,this.realY+c,b,d):this.moveTo(this.getX()+a,this.getY()+c,b,d)},spinBy:function(a,c,b){null==c&&(c=1);this.spinTo(this.realAngle+a,c,b)},moveTo:function(a,c,f,d){null==f&&(f=1);this.tweenLoc.x=this.getX();this.tweenLoc.y=this.getY();null==d&&(d=b.eclecticdesignstudio.motion.easing.Linear.getEaseNone());
this.activePositionTweens++;if(this.isLightweight)b.eclecticdesignstudio.motion.Actuate.tween(this,f,{realX:a,realY:c}).ease(d).onComplete(A(this,this.onTweenPositionComplete));else b.eclecticdesignstudio.motion.Actuate.tween(this.tweenLoc,f,{x:a,y:c}).ease(d).onComplete(A(this,this.onTweenPositionComplete))},spinTo:function(a,c,f){null==c&&(c=1);this.tweenAngle.angle=this.realAngle;null==f&&(f=b.eclecticdesignstudio.motion.easing.Linear.getEaseNone());this.activeAngleTweens++;if(this.isLightweight)b.eclecticdesignstudio.motion.Actuate.tween(this,
c,{realAngle:a}).ease(f).onComplete(A(this,this.onTweenAngleComplete));else b.eclecticdesignstudio.motion.Actuate.tween(this.tweenAngle,c,{angle:a}).ease(f).onComplete(A(this,this.onTweenAngleComplete))},growTo:function(a,c,f,d){null==f&&(f=1);null==c&&(c=1);null==a&&(a=1);null==d&&(d=b.eclecticdesignstudio.motion.easing.Linear.getEaseNone());b.eclecticdesignstudio.motion.Actuate.tween(this,f,{realScaleX:a,realScaleY:c}).ease(d)},fadeTo:function(a,c,f){null==c&&(c=1);null==f&&(f=b.eclecticdesignstudio.motion.easing.Linear.getEaseNone());
b.eclecticdesignstudio.motion.Actuate.tween(this,c,{alpha:a}).ease(f)},cancelTweens:function(){b.eclecticdesignstudio.motion.Actuate.stop(this)},isMouseReleased:function(){return this.isMouseOver()&&b.stencyl.Input.mouseReleased},isMousePressed:function(){return this.isMouseOver()&&b.stencyl.Input.mousePressed},isMouseDown:function(){return this.isMouseOver()&&b.stencyl.Input.mouseDown},isMouseHover:function(){return this.isMouseOver()&&b.stencyl.Input.mouseUp},isMouseOver:function(){var a,c;this.isHUD?
(a=b.stencyl.Input.mouseX/b.stencyl.Engine.SCALE,c=b.stencyl.Input.mouseY/b.stencyl.Engine.SCALE):(a=(b.stencyl.Input.mouseX-b.stencyl.Engine.cameraX)/b.stencyl.Engine.SCALE,c=(b.stencyl.Input.mouseY-b.stencyl.Engine.cameraY)/b.stencyl.Engine.SCALE);var f=(this.jeashGetScaleX()-1)*Math.floor(this.cacheWidth/2),d=(this.jeashGetScaleY()-1)*Math.floor(this.cacheHeight/2),e=this.colX-f,g=this.colY-d;return a>=e&&c>=g&&a<e+this.cacheWidth+2*f&&c<g+this.cacheHeight+2*d},ignoresGravity:function(){return this.isLightweight?
this.ignoreGravity:this.body.isIgnoringGravity()},setIgnoreGravity:function(a){this.ignoreGravity=a;this.isLightweight||this.body.setIgnoreGravity(a)},disableRotation:function(){this.isLightweight?this.fixedRotation=!0:this.body.setFixedRotation(!0)},enableRotation:function(){this.isLightweight?this.fixedRotation=!1:this.body.setFixedRotation(!1)},setBounciness:function(a){this.isLightweight||this.body.setBounciness(a)},setFriction:function(a){this.isLightweight||this.body.setFriction(a)},getBody:function(){return this.body},
getPhysicsHeight:function(){return this.cacheHeight/b.stencyl.Engine.physicsScale},getPhysicsWidth:function(){return this.cacheWidth/b.stencyl.Engine.physicsScale},getHeight:function(){return this.cacheHeight},getWidth:function(){return this.cacheWidth},applyTorque:function(a){this.isLightweight?this.fixedRotation||(this.rSpeed-=a):(this.body.applyTorque(a),this.body.setAwake(!0))},applyImpulseInDirection:function(a,c){this.applyImpulse(Math.cos(Math.PI/180*a),Math.sin(Math.PI/180*a),c)},applyImpulse:function(a,
c,b){this.isLightweight?(this.dummy.x=a,this.dummy.y=c,this.dummy.normalize(),this.accelerateX(this.dummy.x*b),this.accelerateY(this.dummy.y*b)):0==a&&0==c||(this.dummy.x=a,this.dummy.y=c,this.dummy.normalize(),0<b&&this.dummy.multiply(b),this.body.applyImpulse(this.dummy,this.body.getWorldCenter()))},pushInDirection:function(a,c){this.push(Math.cos(Math.PI/180*a),Math.sin(Math.PI/180*a),c)},push:function(a,c,b){this.isLightweight?(this.dummy.x=a,this.dummy.y=c,this.dummy.normalize(),this.accelerateX(0.01*
this.dummy.x*b),this.accelerateY(0.01*this.dummy.y*b)):0==a&&0==c||(this.dummy.x=a,this.dummy.y=c,this.dummy.normalize(),0<b&&this.dummy.multiply(b),this.body.applyForce(this.dummy,this.body.getWorldCenter()))},changeAngularVelocity:function(a){this.isLightweight?this.rSpeed+=180/Math.PI*a:(this.body.setAngularVelocity(this.body.getAngularVelocity()+a),this.body.setAwake(!0))},setAngularVelocity:function(a){this.isLightweight?this.rSpeed=180/Math.PI*a:(this.body.setAngularVelocity(a),this.body.setAwake(!0))},
getAngularVelocity:function(){return this.isLightweight?Math.PI/180*this.rSpeed:this.body.getAngularVelocity()},rotate:function(a,c){null==c&&(c=!0);c?this.isLightweight?this.realAngle+=180/Math.PI*a:this.body.setAngle(this.body.getAngle()+a):this.isLightweight?this.realAngle+=a:this.body.setAngle(this.body.getAngle()+Math.PI/180*a)},setAngle:function(a,c){null==c&&(c=!0);c?this.isLightweight?this.realAngle=180/Math.PI*a:this.body.setAngle(a):this.isLightweight?this.realAngle=a:this.body.setAngle(Math.PI/
180*a);this.updateMatrix=!0},getAngleInDegrees:function(){return this.isLightweight?this.realAngle:180/Math.PI*this.body.getAngle()},getAngle:function(){return this.isLightweight?Math.PI/180*this.realAngle:this.body.getAngle()},accelerate:function(a,c){this.setXVelocity(this.getXVelocity()+c*Math.cos(Math.PI/180*a));this.setYVelocity(this.getYVelocity()+c*Math.sin(Math.PI/180*a))},accelerateY:function(a){this.setYVelocity(this.getYVelocity()+a)},accelerateX:function(a){this.setXVelocity(this.getXVelocity()+
a)},setVelocity:function(a,c){this.setXVelocity(c*Math.cos(Math.PI/180*a));this.setYVelocity(c*Math.sin(Math.PI/180*a))},setYVelocity:function(a){if(this.isLightweight)this.ySpeed=a;else{var c=this.body.getLinearVelocity();c.y=a;this.body.setLinearVelocity(c);this.body.setAwake(!0)}},setXVelocity:function(a){if(this.isLightweight)this.xSpeed=a;else{var c=this.body.getLinearVelocity();c.x=a;this.body.setLinearVelocity(c);this.body.setAwake(!0)}},getYVelocity:function(){return this.isLightweight?this.ySpeed:
this.body.getLinearVelocity().y},getXVelocity:function(){return this.isLightweight?this.xSpeed:this.body.getLinearVelocity().x},setOriginPoint:function(a,c){var f=null,f=this.isLightweight?new e.common.math.B2Vec2(b.stencyl.Engine.toPhysicalUnits(this.realX),b.stencyl.Engine.toPhysicalUnits(this.realY)):this.body.getPosition(),d=new e.common.math.B2Vec2(this.currOffset.x,this.currOffset.y),o=this.getAngle(),g=0!=(o*(180/Math.PI)|0),h=a-this.cacheWidth/2|0,i=c-this.cacheHeight/2|0;if(null!=this.currOrigin&&
((this.currOffset.x|0)!=h||(this.currOffset.y|0)!=i)&&g){var j=o+Math.atan2(-this.currOffset.y,-this.currOffset.x),g=o+Math.atan2(-i,-h),p=Math.sqrt(Math.pow(this.currOffset.x,2)+Math.pow(this.currOffset.y,2)),k=Math.sqrt(Math.pow(h,2)+Math.pow(i,2)),o=Math.round(this.currOrigin.x+Math.cos(j)*p),j=Math.round(this.currOrigin.y+Math.sin(j)*p),p=Math.round(a+Math.cos(g)*k),g=Math.round(c+Math.sin(g)*k);f.x+=b.stencyl.Engine.toPhysicalUnits(o-p);f.y+=b.stencyl.Engine.toPhysicalUnits(j-g)}this.currOrigin.x=
a;this.currOrigin.y=c;this.originX=this.currOffset.x=h;this.originY=this.currOffset.y=i;d.x=this.currOffset.x-d.x;d.y=this.currOffset.y-d.y;f.x+=b.stencyl.Engine.toPhysicalUnits(d.x);f.y+=b.stencyl.Engine.toPhysicalUnits(d.y);this.isLightweight?(this.realX=b.stencyl.Engine.toPixelUnits(f.x)|0,this.realY=b.stencyl.Engine.toPixelUnits(f.y)|0):this.body.setPosition(f);this.resetOrigin=!0},followWithOffset:function(a,c,f){this.isLightweight?this.moveActorBy(a.getXCenter()+c-this.realX,a.getYCenter()+
f-this.realY,null,!1):(a=a.body.getWorldCenter(),a.x+=b.stencyl.Engine.toPhysicalUnits(c),a.y+=b.stencyl.Engine.toPhysicalUnits(f),this.body.setPosition(a))},follow:function(a){null!=a&&(this.isLightweight?this.moveActorBy(a.getXCenter()-this.realX,a.getYCenter()-this.realY,null,!1):this.body.setPosition(a.body.getWorldCenter()))},setY:function(a,c){null==c&&(c=!1);a=Math.floor(a);this.isLightweight?this.moveActorBy(this.realX-this.realX,a+Math.floor(this.cacheHeight/2)+this.currOffset.y-this.realY,
null,!1):(this.dummy.y=this.isRegion||this.isTerrainRegion?b.stencyl.Engine.toPhysicalUnits(a):b.stencyl.Engine.toPhysicalUnits(a+Math.floor(this.cacheHeight/2)+this.currOffset.y),this.dummy.x=this.body.getPosition().x,this.body.setPosition(this.dummy),c&&this.body.setLinearVelocity(this.zero));this.updateMatrix=!0},setX:function(a,c){null==c&&(c=!1);a=Math.floor(a);this.isLightweight?this.moveActorBy(a+Math.floor(this.cacheWidth/2)+this.currOffset.x-this.realX,this.realY-this.realY,null,!1):(this.dummy.x=
this.isRegion||this.isTerrainRegion?b.stencyl.Engine.toPhysicalUnits(a):b.stencyl.Engine.toPhysicalUnits(a+Math.floor(this.cacheWidth/2)+this.currOffset.x),this.dummy.y=this.body.getPosition().y,this.body.setPosition(this.dummy),c&&this.body.setLinearVelocity(this.zero));this.updateMatrix=!0},getScreenY:function(){return this.isHUD?this.getY():this.getY()+b.stencyl.Engine.cameraY/b.stencyl.Engine.SCALE},getScreenX:function(){return this.isHUD?this.getX():this.getX()+b.stencyl.Engine.cameraX/b.stencyl.Engine.SCALE},
getYCenter:function(){return this.isLightweight?this.realY-this.currOffset.y:Math.round(b.stencyl.Engine.toPixelUnits(this.body.getWorldCenter().y)-this.currOffset.y)},getXCenter:function(){return this.isLightweight?this.realX-this.currOffset.x:Math.round(b.stencyl.Engine.toPixelUnits(this.body.getWorldCenter().x)-this.currOffset.x)},getY:function(){if(!b.stencyl.Engine.NO_PHYSICS){if(this.isRegion||this.isTerrainRegion)return Math.round(b.stencyl.Engine.toPixelUnits(this.body.getPosition().y)-this.cacheHeight/
2);if(!this.isLightweight)return Math.round(this.body.getPosition().y*b.stencyl.Engine.physicsScale-Math.floor(this.cacheHeight/2)-this.currOffset.y)}return Math.floor(this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y)},getX:function(){if(!b.stencyl.Engine.NO_PHYSICS){if(this.isRegion||this.isTerrainRegion)return Math.round(b.stencyl.Engine.toPixelUnits(this.body.getPosition().x)-this.cacheWidth/2);if(!this.isLightweight)return Math.round(this.body.getPosition().x*b.stencyl.Engine.physicsScale-
Math.floor(this.cacheWidth/2)-this.currOffset.x)}return this.realX-Math.floor(this.cacheWidth/2)-this.currOffset.x},sendBackward:function(){this.isHUD||this.engine.sendBackward(this)},sendToBack:function(){this.isHUD||this.engine.sendToBack(this)},bringForward:function(){this.isHUD||this.engine.bringForward(this)},bringToFront:function(){this.isHUD||this.engine.bringToFront(this)},moveToLayer:function(a){this.isHUD||this.engine.moveToLayer(this,a|0)},getIsTerrainRegion:function(){return this.isTerrainRegion},
getIsRegion:function(){return this.isRegion},getGroup:function(){return this.engine.groups.get(this.getGroupID())},unpause:function(){this.isPausable()&&(this.paused=!1,this.isLightweight||this.body.setPaused(!1))},pause:function(){this.isPausable()&&(this.paused=!0,this.isLightweight||this.body.setPaused(!0))},isPaused:function(){return this.paused},isPausable:function(){return this.getType().pausable},getType:function(){return-1==this.typeID?null:n.Boot.__cast(b.stencyl.Data.get().resources.get(this.typeID),
b.stencyl.models.actor.ActorType)},getLayerOrder:function(){return this.engine.getOrderForLayerID(this.layerID)+1},getLayerID:function(){return this.layerID},getGroupID:function(){return this.isLightweight?this.groupID:this.body.groupID},getName:function(){return this.name},getID:function(){return this.ID},removeRegionContact:function(a){null!=this.regionContacts&&this.regionContacts.remove(a.key)},addRegionContact:function(a){null!=this.regionContacts&&this.regionContacts.set(a.key,a)},removeContact:function(a){null!=
this.collisions&&this.collisions.remove(a.key)&&this.collisionsCount--;null!=this.contacts&&this.contacts.remove(a.key)&&this.contactCount--},addContact:function(a){null!=this.contacts&&(this.contacts.set(a.key,a),this.contactCount++,this.collisions.remove(a.key)&&this.collisionsCount--)},handleCollisions:function(){var a,c,f;if(0<this.contactCount)for(var d=this.contacts.iterator();d.hasNext();){var o=d.next(),g=o.key;if(null==this.collisions.get(g)){var h=n.Boot.__cast(o.getFixtureA().getUserData(),
b.stencyl.models.Actor),i=n.Boot.__cast(o.getFixtureB().getUserData(),b.stencyl.models.Actor);h==this?(a=i,c=o.getFixtureB(),f=o.getFixtureA()):(a=h,c=o.getFixtureA(),f=o.getFixtureB());var j=new b.stencyl.models.actor.Collision;j.otherActor=a;j.otherShape=c;j.thisActor=this;j.thisShape=f;j.actorA=h;j.actorB=i;o.getWorldManifold(b.stencyl.models.Actor.manifold);h=null==b.stencyl.models.Actor.manifold.getPoint()?new b.stencyl.models.actor.CollisionPoint(-9999,-9999,b.stencyl.models.Actor.manifold.m_normal.x,
b.stencyl.models.Actor.manifold.m_normal.y):n.Boot.__instanceof(f.getShape(),e.collision.shapes.B2CircleShape)?new b.stencyl.models.actor.CollisionPoint(2*b.stencyl.models.Actor.manifold.getPoint().x,2*b.stencyl.models.Actor.manifold.getPoint().y,b.stencyl.models.Actor.manifold.m_normal.x,b.stencyl.models.Actor.manifold.m_normal.y):new b.stencyl.models.actor.CollisionPoint(b.stencyl.models.Actor.manifold.getPoint().x,b.stencyl.models.Actor.manifold.getPoint().y,b.stencyl.models.Actor.manifold.m_normal.x,
b.stencyl.models.Actor.manifold.m_normal.y);this.collisions.set(g,j);this.collisionsCount++;if(-9999!=h.x&&-9999!=h.y){j.points.push(h);var g=this.getBody(),i=a.getBody(),p=o.getFixtureA().getBody(),o=o.getFixtureB().getBody();j.thisFromBottom=!1;j.thisFromTop=!1;j.thisFromLeft=!1;j.thisFromRight=!1;p==g?j.thisFromBottom=0<h.normalY:o==g&&(j.thisFromBottom=0>h.normalY);p==g?j.thisFromTop=0>h.normalY:o==g&&(j.thisFromTop=0<h.normalY);p==g?j.thisFromLeft=0>h.normalX:o==g&&(j.thisFromLeft=0<h.normalX);
p==g?j.thisFromRight=0<h.normalX:o==g&&(j.thisFromRight=0>h.normalX);j.otherFromBottom=!1;j.otherFromTop=!1;j.otherFromLeft=!1;j.otherFromRight=!1;p==i?j.otherFromBottom=0<h.normalY:o==i&&(j.otherFromBottom=0>h.normalY);p==i?j.otherFromTop=0>h.normalY:o==i&&(j.otherFromTop=0<h.normalY);p==i?j.otherFromLeft=0>h.normalX:o==i&&(j.otherFromLeft=0<h.normalX);p==i?j.otherFromRight=0<h.normalX:o==i&&(j.otherFromRight=0>h.normalX)}j.thisCollidedWithActor=!1;j.thisCollidedWithTerrain=!1;j.thisCollidedWithTile=
!1;j.thisCollidedWithSensor=!1;j.otherCollidedWithActor=!1;j.otherCollidedWithTerrain=!1;j.otherCollidedWithTile=!1;j.otherCollidedWithSensor=!1;null!=a&&(j.thisCollidedWithActor=1!=a.groupID&&-2!=a.groupID&&!a.isTerrainRegion,j.thisCollidedWithTerrain=a.isTerrainRegion,j.thisCollidedWithTile=1==a.groupID);j.otherCollidedWithActor=1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion;j.otherCollidedWithTerrain=this.isTerrainRegion;j.otherCollidedWithTile=1==this.groupID;j.thisCollidedWithSensor=
c.isSensor();j.otherCollidedWithSensor=f.isSensor()}}if(0<this.collisionsCount)for(a=this.collisions.iterator();a.hasNext();)c=a.next(),null==c||(null==c.thisActor||null==c.otherActor||!c.thisActor.handlesCollisions||!c.otherActor.handlesCollisions)||(b.stencyl.models.Actor.lastCollided=c.otherActor,b.stencyl.Engine.invokeListeners2(this.collisionListeners,c),this.engine.handleCollision(this,c))},collisionsCount:null,contactCount:null,checkScreenState:function(){var a=this.isOnScreen(),c=a||this.isInScene(),
f=!this.lastScreenState&&a,d=!this.lastSceneState&&c,e=this.lastScreenState&&!a,g=this.lastSceneState&&!c;b.stencyl.Engine.invokeListeners5(this.positionListeners,f,e,d,g);var h=this.engine.typeGroupPositionListeners.get(this.groupID+b.stencyl.models.Actor.GROUP_OFFSET),i=this.engine.typeGroupPositionListeners.get(this.typeID);null!=h&&b.stencyl.Engine.invokeListeners6(h,this,f,e,d,g);null!=i&&b.stencyl.Engine.invokeListeners6(i,this,f,e,d,g);this.lastScreenState=a;this.lastSceneState=c},scaleBody:function(a,
c){for(var b=[],d=this.body.getFixtureList();null!=d;)b.push(d),d=d.getNext();for(d=0;d<b.length;){var o=b[d];++d;var o=o.getShape(),g=this.body.getLocalCenter();if(n.Boot.__instanceof(o,e.collision.shapes.B2CircleShape)){var h=1/this.bodyScale.x*a,i=n.Boot.__cast(o,e.collision.shapes.B2CircleShape).m_p;i.subtract(g);i.x*=h;i.y*=h;n.Boot.__cast(o,e.collision.shapes.B2CircleShape).m_p=g.copy();n.Boot.__cast(o,e.collision.shapes.B2CircleShape).m_p.add(i);o.m_radius*=h}else if(n.Boot.__instanceof(o,
e.collision.shapes.B2PolygonShape)){for(var h=n.Boot.__cast(o,e.collision.shapes.B2PolygonShape).m_vertices,i=[],j=0;j<h.length;){var p=h[j];++j;p.subtract(g);p.x=p.x*(1/this.bodyScale.x)*a;p.y=p.y*(1/this.bodyScale.y)*c;var k=g.copy();k.add(p);i.push(k)}n.Boot.__cast(o,e.collision.shapes.B2PolygonShape).setAsArray(i,i.length)}}this.bodyScale.x=a;this.bodyScale.y=c},updateTweenProperties:function(){if(!this.isLightweight){var a=0<this.activePositionTweens,c=0<this.activeAngleTweens;this.autoScale&&
!this.isLightweight&&null!=this.body&&this.bodyDef.type!=e.dynamics.B2Body.b2_staticBody&&(this.bodyScale.x!=this.realScaleX||this.bodyScale.y!=this.realScaleY)&&0<this.realScaleX&&0<this.realScaleY&&this.scaleBody(this.realScaleX,this.realScaleY);a&&c?(this.realX=this.tweenLoc.x,this.realY=this.tweenLoc.y,this.realAngle=this.tweenAngle.angle,this.dummy.x=b.stencyl.Engine.toPhysicalUnits(this.realX+Math.floor(this.cacheWidth/2)+this.currOffset.x),this.dummy.y=b.stencyl.Engine.toPhysicalUnits(this.realY+
Math.floor(this.cacheHeight/2)+this.currOffset.y),this.body.setPositionAndAngle(this.dummy,Math.PI/180*this.realAngle),this.updateMatrix=!0):(a&&(this.setX(this.tweenLoc.x),this.setY(this.tweenLoc.y)),c&&this.setAngle(this.tweenAngle.angle,!1))}},updateDrawingMatrix:function(){if(!this.paused){if(!this.isLightweight){var a=this.body.getPosition();this.realX=Math.round(a.x*b.stencyl.Engine.physicsScale);this.realY=Math.round(a.y*b.stencyl.Engine.physicsScale)}this.transformPoint.x=this.currOrigin.x-
this.cacheWidth*b.stencyl.Engine.SCALE/2;this.transformPoint.y=this.currOrigin.y-this.cacheHeight*b.stencyl.Engine.SCALE/2;this.transformMatrix.identity();this.transformMatrix.translate(-this.transformPoint.x*b.stencyl.Engine.SCALE,-this.transformPoint.y*b.stencyl.Engine.SCALE);this.transformMatrix.scale(this.realScaleX,this.realScaleY);0!=this.realAngle&&this.transformMatrix.rotate(this.realAngle*(Math.PI/180));this.transformMatrix.translate(this.realX*b.stencyl.Engine.SCALE,this.realY*b.stencyl.Engine.SCALE);
null==this.transformObj&&(this.transformObj=this.transform);this.transformObj.setMatrix(this.transformMatrix);this.currAnimation.jeashInvalidateMatrix()}},internalUpdate:function(a,c){if(!this.paused){this.lastX=this.realX;this.lastY=this.realY;this.lastAngle=this.realAngle;if(this.isLightweight){!this.ignoreGravity&&!this.isHUD&&(this.xSpeed+=0.0010*a*this.engine.scene.gravityX,this.ySpeed+=0.0010*a*this.engine.scene.gravityY);if(0!=this.xSpeed||0!=this.ySpeed)this.colX=this.realX-Math.floor(this.cacheWidth/
2)-this.currOffset.x,this.colY=this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y,this.moveActorBy(0.01*a*this.xSpeed,0.01*a*this.ySpeed,this.groupsToCollideWith);0!=this.rSpeed&&(this.realAngle+=0.0010*a*this.rSpeed);this.fixedRotation&&(this.rSpeed=this.realAngle=0)}else{var f=this.body.getPosition();this.realX=this.jeashX=Math.round(f.x*b.stencyl.Engine.physicsScale);this.realY=this.jeashY=Math.round(f.y*b.stencyl.Engine.physicsScale);this.colX=this.realX-Math.floor(this.cacheWidth/2)-
this.currOffset.x;this.colY=this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y;this.realAngle=this.body.getAngle()*(180/Math.PI);this.isHUD&&(this.transform.getMatrix().identity(),this.transform.getMatrix().translate(b.stencyl.Engine.cameraX,b.stencyl.Engine.cameraY))}if(this.lastX!=this.realX||this.lastY!=this.realY||this.lastAngle!=this.realAngle)this.updateMatrix=!0;c&&this.currAnimationAsAnim.update(a);this.isLightweight||this.updateTweenProperties()}},innerUpdate:function(a,c){if(!this.paused&&
!this.isCamera&&!this.dying&&!this.dead&&!(this.destroyed||c&&(this.isHUD||this.alwaysSimulate))){if(0<this.mouseOverListeners.length){var f=this.isMouseOver();if(0>=this.mouseState&&f)this.mouseState=1;else if(1<=this.mouseState&&f){if(this.mouseState=2,b.stencyl.Input.mousePressed?this.mouseState=3:b.stencyl.Input.mouseDown&&(this.mouseState=4),b.stencyl.Input.mouseReleased)this.mouseState=5}else 0<this.mouseState&&!f?this.mouseState=-1:-1==this.mouseState&&!f&&(this.mouseState=0);b.stencyl.Engine.invokeListeners2(this.mouseOverListeners,
this.mouseState)}var f=this.type.ID,d=b.stencyl.models.Actor.GROUP_OFFSET+this.groupID,e=this.engine.collisionListeners,g=this.engine.typeGroupPositionListeners;this.isLightweight||(0<this.collisionListenerCount||null!=e.get(f)||null!=e.get(d))&&this.handleCollisions();this.internalUpdate(a,!0);b.stencyl.Engine.invokeListeners2(this.whenUpdatedListeners,a);(0<this.positionListenerCount||null!=g.get(f)||null!=g.get(d))&&this.checkScreenState()}},update:function(a){this.innerUpdate(a,!0)},switchAnimation:function(a){if(a!=
this.currAnimationName){var c=this.animationMap.get(a);if(null!=c){null!=this.currAnimation&&this.removeChild(this.currAnimation);this.currAnimationName=a;this.currAnimation=c;this.currAnimationAsAnim=n.Boot.__cast(this.currAnimation,b.stencyl.graphics.AbstractAnimation);this.addChild(c);c=this.originMap.get(a);this.isLightweight||this.updateTweenProperties();var f=this.currAnimation.jeashGetWidth()/b.stencyl.Engine.SCALE/2-c.x,d=this.currAnimation.jeashGetHeight()/b.stencyl.Engine.SCALE/2-c.y;if(null!=
this.body&&!this.isLightweight){for(var o=[],g=this.body.getContactList();null!=g;)n.Boot.__instanceof(g.other.getUserData(),b.stencyl.models.Region)&&g.contact.isTouching()&&o.push(g.other.getUserData()),b.stencyl.Engine.engine.world.m_contactManager.m_contactListener.endContact(g.contact),g=g.next;for(g=this.collisions.keys();g.hasNext();){var h=g.next();this.collisions.remove(h)}this.collisions=new B;this.simpleCollisions=new B;this.contacts=new B;this.regionContacts=new B;for(this.collisionsCount=
this.contactCount=0;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());g=0;for(a=n.Boot.__cast(this.shapeMap.get(a),Array);g<a.length;){var i=a[g];++g;h=new e.dynamics.B2FixtureDef;this.bodyDef.friction<179*Math.pow(10,306)&&(h.friction=this.bodyDef.friction,h.restitution=this.bodyDef.bounciness,0<this.bodyDef.mass&&(h.density=0.1));h.density=i.density;h.isSensor=i.isSensor;h.groupID=i.groupID;h.shape=i.shape;if(null!=c)if(this.body.origin.x=b.stencyl.Engine.toPhysicalUnits(-c.x),
this.body.origin.y=b.stencyl.Engine.toPhysicalUnits(-c.y),n.Boot.__instanceof(i.shape,e.collision.shapes.B2PolygonShape)){var j=new e.common.math.B2Transform,p=n.Boot.__cast(i.shape,e.collision.shapes.B2PolygonShape),i=new e.collision.shapes.B2PolygonShape;i.setAsArray(p.m_vertices,p.m_vertices.length);var p=i.m_vertices,k=i.m_normals;j.position.set(b.stencyl.Engine.toPhysicalUnits(f),b.stencyl.Engine.toPhysicalUnits(d));j.R.setAngle(0);for(var l=0,m=i.m_vertexCount;l<m;){var q=l++;p[q]=j.multiply(p[q]);
k[q]=j.R.multiplyV(k[q])}i.setAsArray(p,p.length);i.m_normals=k;h.shape=i}else n.Boot.__instanceof(i.shape,e.collision.shapes.B2CircleShape)&&(j=n.Boot.__cast(i.shape,e.collision.shapes.B2CircleShape),i=new e.collision.shapes.B2CircleShape,i.setRadius(j.getRadius()),i.m_p.x=j.m_p.x+b.stencyl.Engine.toPhysicalUnits(f),i.m_p.y=j.m_p.y+b.stencyl.Engine.toPhysicalUnits(d),h.shape=i);this.body.createFixture(h).SetUserData(this)}if(null!=this.body.getFixtureList()){this.bodyScale.x=1;this.bodyScale.y=1;
for(g=0;g<o.length;)f=o[g],++g,d=this.body.getFixtureList().m_aabb,f.getBody().getFixtureList().m_aabb.testOverlap(d)&&f.addActor(this)}null!=this.md&&this.body.setMassData(this.md)}else null!=this.shapeMap.get(a)&&b.stencyl.Engine.NO_PHYSICS&&(this.setShape(this.shapeMap.get(a)),this.HITBOX=this._mask);this.cacheWidth=this.currAnimation.jeashGetWidth()/b.stencyl.Engine.SCALE;this.cacheHeight=this.currAnimation.jeashGetHeight()/b.stencyl.Engine.SCALE;null!=this.body&&(this.body.size.x=b.stencyl.Engine.toPhysicalUnits(this.cacheWidth),
this.body.size.y=b.stencyl.Engine.toPhysicalUnits(this.cacheHeight));this.isLightweight||(this.realX=this.getX(),this.realY=this.getY());null!=c&&this.setOriginPoint(c.x|0,c.y|0);this.updateMatrix=!0;n.Boot.__instanceof(this.currAnimation,b.stencyl.graphics.AbstractAnimation)&&n.Boot.__cast(this.currAnimation,b.stencyl.graphics.AbstractAnimation).reset()}}},getNumFrames:function(){return n.Boot.__instanceof(this.currAnimation,b.stencyl.graphics.AbstractAnimation)?n.Boot.__cast(this.currAnimation,
b.stencyl.graphics.AbstractAnimation).getNumFrames():0},setCurrentFrame:function(a){n.Boot.__instanceof(this.currAnimation,b.stencyl.graphics.AbstractAnimation)&&n.Boot.__cast(this.currAnimation,b.stencyl.graphics.AbstractAnimation).setFrame(a)},getCurrentFrame:function(){return n.Boot.__instanceof(this.currAnimation,b.stencyl.graphics.AbstractAnimation)?n.Boot.__cast(this.currAnimation,b.stencyl.graphics.AbstractAnimation).getCurrentFrame():0},isAnimationPlaying:function(){return n.Boot.__instanceof(this.currAnimation,
b.stencyl.graphics.AbstractAnimation)?!n.Boot.__cast(this.currAnimation,b.stencyl.graphics.AbstractAnimation).isFinished():!0},switchToDefaultAnimation:function(){if(null!=this.sprite&&0<this.sprite.animations.size){var a=this.sprite.animations.get(this.sprite.defaultAnimation);if(null==a)for(var c=this.sprite.animations.iterator();c.hasNext();){a=c.next();break}this.defaultAnim=n.Boot.__cast(a,b.stencyl.models.actor.Animation).animName;this.switchAnimation(this.defaultAnim);this.setCurrentFrame(0)}},
setAnimation:function(a){this.switchAnimation(a)},getAnimation:function(){return this.currAnimationName},addAnimation:function(a,c){this.animationMap.set(a,c)},initBody:function(a,c,f,d,o,g){var h=new e.dynamics.B2BodyDef;h.groupID=a;h.position.x=b.stencyl.Engine.toPhysicalUnits(this.jeashGetX());h.position.y=b.stencyl.Engine.toPhysicalUnits(this.jeashGetY());h.angle=0;h.fixedRotation=!o;h.allowSleep=!1;h.type=f?e.dynamics.B2Body.b2_staticBody:d?e.dynamics.B2Body.b2_kinematicBody:e.dynamics.B2Body.b2_dynamicBody;
if(n.Boot.__instanceof(g,Array)){h.userData=this;this.body=b.stencyl.Engine.engine.world.createBody(h);c=n.Boot.__cast(g,Array);for(g=0;g<c.length;)f=c[g],++g,a=new e.dynamics.B2FixtureDef,a.shape=f,a.friction=1,a.density=0.1,a.restitution=0,a.isSensor=!1,a.groupID=b.stencyl.models.GameModel.TERRAIN_ID,a.userData=this,this.body.createFixture(a)}else a=new e.dynamics.B2FixtureDef,a.shape=g,a.friction=1,a.density=0.1,a.restitution=0,a.isSensor=c,a.groupID=b.stencyl.models.GameModel.INHERIT_ID,a.userData=
this,h.userData=this,this.body=b.stencyl.Engine.engine.world.createBody(h),this.body.createFixture(a);this.bodyDef=h},initFromBody:function(a){a.allowSleep=!1;a.userData=this;this.bodyDef=a;this.body=b.stencyl.Engine.engine.world.createBody(a)},initScripts:function(){this.handlesCollisions=!0;this.behaviors.initScripts();for(var a=0;a<this.whenCreatedListeners.length;){try{var c=this.whenCreatedListeners[a];c(this.whenCreatedListeners);-1==b.stencyl.utils.Utils.indexOf(this.whenCreatedListeners,c)&&
a--}catch(f){if(n.Boot.__instanceof(f,String))null;else throw f;}a++}},addAnim:function(a,c,f,z,o,g,h,i,j,p,k){null==p&&(p=!0);null==i&&(i=0);null==h&&(h=0);null==z&&(z=1);if(null!=k){o=[];if(b.stencyl.Engine.NO_PHYSICS)for(g=k.iterator();g.hasNext();)k=g.next(),n.Boot.__instanceof(k,b.stencyl.models.collision.Hitbox)&&b.stencyl.Engine.NO_PHYSICS&&(k=n.Boot.__cast(k,b.stencyl.models.collision.Hitbox).clone(),k.assignTo(this)),o.push(k);else for(g=k.iterator();g.hasNext();)k=g.next(),o.push(k);b.stencyl.Engine.NO_PHYSICS?
this.shapeMap.set(c,new b.stencyl.models.collision.Masklist(o)):this.shapeMap.set(c,o)}null==f?this.animationMap.set(c,new b.stencyl.graphics.BitmapAnimation(new d.display.BitmapData(16,16),1,[1E6],!1,null)):(a=new b.stencyl.graphics.BitmapAnimation(f,z,j,p,this.sprite.animations.get(a).sync?this.sprite.animations.get(a):null),this.animationMap.set(c,a));this.originMap.set(c,new e.common.math.B2Vec2(h,i))},resetListeners:function(){this.allListeners=new b.stencyl.utils.HashMap;this.allListenerReferences=
[];this.whenCreatedListeners=[];this.whenUpdatedListeners=[];this.whenDrawingListeners=[];this.whenKilledListeners=[];this.mouseOverListeners=[];this.positionListeners=[];this.collisionListeners=[];this.collisionListenerCount=this.positionListenerCount=0},destroy:function(){if(!this.destroyed){this.destroyed=!0;for(var a=this.animationMap.iterator();a.hasNext();)a.next().jeashSetVisible(!1);b.stencyl.utils.Utils.removeAllChildren(this);if(null!=this.body&&!this.isLightweight){for(a=this.body.getContactList();null!=
a;)b.stencyl.Engine.engine.world.m_contactManager.m_contactListener.endContact(a.contact),a=a.next;b.stencyl.Engine.engine.world.destroyBody(this.body)}this.regionContacts=this.contacts=this.sprite=this.body=this.currOrigin=this.currOffset=this.currAnimation=this.currAnimationAsAnim=this.animationMap=this.defaultAnim=this.originMap=this.shapeMap=b.stencyl.models.Actor.lastCollided=null;this.collisionsCount=this.contactCount=0;this.collisionListeners=this.positionListeners=this.mouseOverListeners=
this.whenKilledListeners=this.whenDrawingListeners=this.whenUpdatedListeners=this.whenCreatedListeners=this.transformMatrix=this.transformPoint=null;this.collisionListenerCount=this.positionListenerCount=0;this.simpleCollisions=this.collisions=this.registry=null;this.behaviors.destroy()}},zero:null,dummy:null,collisions:null,regionContacts:null,contacts:null,handlesCollisions:null,bodyScale:null,md:null,bodyDef:null,body:null,lastSceneState:null,lastScreenState:null,mouseState:null,collisionListenerCount:null,
positionListenerCount:null,collisionListeners:null,positionListeners:null,mouseOverListeners:null,whenKilledListeners:null,whenDrawingListeners:null,whenUpdatedListeners:null,whenCreatedListeners:null,allListenerReferences:null,allListeners:null,registry:null,behaviors:null,updateMatrix:null,transformMatrix:null,transformPoint:null,transformObj:null,currOffset:null,currOrigin:null,defaultAnim:null,originMap:null,shapeMap:null,sprite:null,animationMap:null,currAnimationName:null,currAnimation:null,
currAnimationAsAnim:null,cacheHeight:null,cacheWidth:null,activePositionTweens:null,activeAngleTweens:null,tweenAngle:null,tweenLoc:null,rSpeed:null,ySpeed:null,xSpeed:null,colY:null,colX:null,lastAngle:null,lastY:null,lastX:null,realScaleY:null,realScaleX:null,realAngle:null,realY:null,realX:null,originY:null,originX:null,resetOrigin:null,solid:null,collidable:null,ignoreGravity:null,fixedRotation:null,dying:null,dead:null,autoScale:null,isLightweight:null,killLeaveScreen:null,isCamera:null,alwaysSimulate:null,
isHUD:null,drawActor:null,destroyed:null,isTerrain:null,isTerrainRegion:null,isRegion:null,paused:null,recycled:null,groupsToCollideWith:null,type:null,typeID:null,layerID:null,groupID:null,ID:null,createTime:null,engine:null,__class__:b.stencyl.models.Actor,__properties__:t(d.display.Sprite.prototype.__properties__,{set_shape:"setShape",get_shape:"getShape"})});b.stencyl.models.Atlas=function(a,c,b,d){this.ID=a;this.name=c;this.members=b;this.active=d};l["com.stencyl.models.Atlas"]=b.stencyl.models.Atlas;
b.stencyl.models.Atlas.__name__=["com","stencyl","models","Atlas"];b.stencyl.models.Atlas.prototype={members:null,active:null,name:null,ID:null,__class__:b.stencyl.models.Atlas};b.stencyl.models.Background=function(){};l["com.stencyl.models.Background"]=b.stencyl.models.Background;b.stencyl.models.Background.__name__=["com","stencyl","models","Background"];b.stencyl.models.Background.prototype={draw:null,update:null,__class__:b.stencyl.models.Background};b.stencyl.models.CollisionGroupDef=function(a,
c){this.group1=a;this.group2=c};l["com.stencyl.models.CollisionGroupDef"]=b.stencyl.models.CollisionGroupDef;b.stencyl.models.CollisionGroupDef.__name__=["com","stencyl","models","CollisionGroupDef"];b.stencyl.models.CollisionGroupDef.prototype={group2:null,group1:null,__class__:b.stencyl.models.CollisionGroupDef};b.stencyl.models.Resource=function(a,c,b){this.ID=a;this.atlasID=b;this.name=c};l["com.stencyl.models.Resource"]=b.stencyl.models.Resource;b.stencyl.models.Resource.__name__=["com","stencyl",
"models","Resource"];b.stencyl.models.Resource.prototype={unloadGraphics:function(){},loadGraphics:function(){},isAtlasActive:function(){var a=b.stencyl.models.GameModel.get().atlases.get(this.atlasID);return null==a?!1:a.active},toString:function(){return this.ID+","+this.name},name:null,atlasID:null,ID:null,__class__:b.stencyl.models.Resource};b.stencyl.models.Font=function(a,c,f,d){b.stencyl.models.Resource.call(this,a,f,c);this.isDefault=d;this.loadGraphics()};l["com.stencyl.models.Font"]=b.stencyl.models.Font;
b.stencyl.models.Font.__name__=["com","stencyl","models","Font"];b.stencyl.models.Font.__super__=b.stencyl.models.Resource;b.stencyl.models.Font.prototype=t(b.stencyl.models.Resource.prototype,{unloadGraphics:function(){this.font=b.stencyl.models.Font.defaultFont;this.fontScale=1;b.stencyl.Data.get().resourceAssets.remove(this.ID+".png")},loadGraphics:function(){if(this.isDefault){var a=s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.fnt"),a=y.parse(a);b.stencyl.models.Font.defaultFont=this.font=
(new b.stencyl.graphics.fonts.BitmapFont).loadAngelCode(s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png"),a);this.fontScale=b.stencyl.Engine.SCALE}else{var a=b.stencyl.Data.get().resourceAssets.get(this.ID+".fnt"),a=y.parse(a),c=b.stencyl.Data.get().getGraphicAsset(this.ID+".png","templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/font-"+this.ID+".png");this.font=(new b.stencyl.graphics.fonts.BitmapFont).loadAngelCode(c,a);this.fontScale=1}},getHeight:function(){return null!=this.font?
this.font.getFontHeight():0},isDefault:null,fontScale:null,font:null,__class__:b.stencyl.models.Font});b.stencyl.models.GameModel=function(a){this.width=m.parseInt(a.att.resolve("width"));this.height=m.parseInt(a.att.resolve("height"));this.actualWidth=m.parseInt(a.att.resolve("awidth"));this.actualHeight=m.parseInt(a.att.resolve("aheight"));this.scale=m.parseInt(a.att.resolve("scale"));this.defaultSceneID=0;try{this.defaultSceneID=m.parseInt(a.att.resolve("defaultSceneID"))}catch(c){if(!n.Boot.__instanceof(c,
String))throw c;}this.shapes=this.readShapes(a.node.resolve("collisions").getElements());this.atlases=this.readAtlases(a.node.resolve("atlases").getElements());this.groups=this.readGroups(a.node.resolve("groups").getElements());this.groups.push(new b.stencyl.models.GroupDef(b.stencyl.models.GameModel.REGION_ID,"Regions"));this.groups.push(new b.stencyl.models.GroupDef(b.stencyl.models.GameModel.PLAYER_ID,"Players"));this.groups.push(new b.stencyl.models.GroupDef(b.stencyl.models.GameModel.TERRAIN_ID,
"Terrain"));this.groups.push(new b.stencyl.models.GroupDef(b.stencyl.models.GameModel.DOODAD_ID,"Doodads"));this.groups.push(new b.stencyl.models.GroupDef(b.stencyl.models.GameModel.ACTOR_ID,"Actors"));this.groupsCollidesWith=new B;this.collisionGroups=this.readCollisionGroups(a.node.resolve("cgroups").getElements());this.collisionGroups.push(new b.stencyl.models.CollisionGroupDef(b.stencyl.models.GameModel.PLAYER_ID,b.stencyl.models.GameModel.TERRAIN_ID));this.collisionGroups.push(new b.stencyl.models.CollisionGroupDef(b.stencyl.models.GameModel.ACTOR_ID,
b.stencyl.models.GameModel.TERRAIN_ID));b.stencyl.models.GameModel.collisionMap=[];for(var f=0,d=0,e=this.groups;d<e.length;){var g=e[d];++d;f=Math.max(g.ID|0,f)|0}f++;for(d=0;d<f;){g=d++;b.stencyl.models.GameModel.collisionMap.push([]);for(e=0;e<f;)e++,b.stencyl.models.GameModel.collisionMap[g].push(!1)}if(b.stencyl.Engine.NO_PHYSICS){d=0;for(e=this.groups;d<e.length;)g=e[d],++d,this.collisionGroups.push(new b.stencyl.models.CollisionGroupDef(g.ID,b.stencyl.models.GameModel.REGION_ID))}d=0;for(e=
this.collisionGroups;d<e.length;)g=e[d],++d,f=g.group1,g=g.group2,this.groupsCollidesWith.exists(f)||this.groupsCollidesWith.set(f,[]),this.groupsCollidesWith.exists(g)||this.groupsCollidesWith.set(g,[]),b.stencyl.Engine.NO_PHYSICS||(b.stencyl.models.GameModel.collisionMap[f][g]=!0,b.stencyl.models.GameModel.collisionMap[g][f]=!0),this.groupsCollidesWith.get(f).push(g),this.groupsCollidesWith.get(g).push(f);this.gameAttributes=b.stencyl.models.GameModel.readGameAttributes(a.node.resolve("attributes").getElements())};
l["com.stencyl.models.GameModel"]=b.stencyl.models.GameModel;b.stencyl.models.GameModel.__name__=["com","stencyl","models","GameModel"];b.stencyl.models.GameModel.instance=null;b.stencyl.models.GameModel.collisionMap=null;b.stencyl.models.GameModel.get=function(){null==b.stencyl.models.GameModel.instance&&(b.stencyl.models.GameModel.instance=new b.stencyl.models.GameModel(b.stencyl.Data.get().gameXML));return b.stencyl.models.GameModel.instance};b.stencyl.models.GameModel.readGameAttributes=function(a){for(var c=
new F;a.hasNext();){var f=a.next(),d=f.getName();if("number"==d)d=m.parseFloat(f.att.resolve("value")),c.set(f.att.resolve("name"),d);else if("text"==d)d=f.att.resolve("value"),c.set(f.att.resolve("name"),d);else if("bool"==d)d=b.stencyl.utils.Utils.toBoolean(f.att.resolve("value")),c.set(f.att.resolve("name"),d);else if("list"==d){for(var d=[],e=f.getElements();e.hasNext();){var g=e.next(),h=m.parseInt(g.att.resolve("order"));d[h]=g.att.resolve("value")}c.set(f.att.resolve("name"),d)}}return c};
b.stencyl.models.GameModel.prototype={readCollisionGroups:function(a){for(var c=[];a.hasNext();){var f=a.next();c.push(new b.stencyl.models.CollisionGroupDef(m.parseInt(f.att.resolve("g1")),m.parseInt(f.att.resolve("g2"))))}return c},readGroups:function(a){for(var c=[];a.hasNext();){var f=a.next();c.push(new b.stencyl.models.GroupDef(m.parseInt(f.att.resolve("id")),f.att.resolve("name")))}return c},readAtlases:function(a){for(var c=new B;a.hasNext();){for(var f=a.next(),d=m.parseInt(f.att.resolve("id")),
e=f.att.resolve("name"),g=f.att.resolve("members").split(","),f="true"==f.att.resolve("start"),h=[],i=0;i<g.length;){var j=g[i];++i;h.push(m.parseInt(j))}c.set(d,new b.stencyl.models.Atlas(d,e,h,f))}return c},readShapes:function(a){for(var c=new B;a.hasNext();){for(var f=a.next(),d=f.att.resolve("pts").split("#"),o=[],g=0;g<d.length;){var h=d[g];++g;var i=h.split(","),h=m.parseFloat(i[0]),i=m.parseFloat(i[1]);o.push(new e.common.math.B2Vec2(3.1*h,3.1*i))}b.stencyl.io.SpriteReader.EnsureCorrectVertexDirection(o);
d=new e.collision.shapes.B2PolygonShape;d.setAsArray(o,o.length);c.set(m.parseInt(f.att.resolve("id")),d)}return c},readScenes:function(a){for(var c=new B,a=a.getElements();a.hasNext();){var f=a.next(),d=m.parseInt(f.att.resolve("id")),e=b.stencyl.Data.get().scenesXML.get(m.parseInt(f.att.resolve("id")));c.set(m.parseInt(f.att.resolve("id")),new b.stencyl.models.Scene(d,f.att.resolve("name"),e))}return c},loadScenes:function(){this.scenes=this.readScenes(b.stencyl.Data.get().sceneListXML)},scenes:null,
atlases:null,shapes:null,gameAttributes:null,collisionGroups:null,groupsCollidesWith:null,groups:null,defaultSceneID:null,scale:null,actualHeight:null,actualWidth:null,height:null,width:null,__class__:b.stencyl.models.GameModel};b.stencyl.models.GroupDef=function(a,c){this.ID=a;this.name=c};l["com.stencyl.models.GroupDef"]=b.stencyl.models.GroupDef;b.stencyl.models.GroupDef.__name__=["com","stencyl","models","GroupDef"];b.stencyl.models.GroupDef.prototype={name:null,ID:null,__class__:b.stencyl.models.GroupDef};
b.stencyl.models.Region=function(a,c,f,d,o){b.stencyl.models.Actor.call(this,a,0,-2,c,f,a.getTopLayer(),b.stencyl.Engine.NO_PHYSICS?o.width:1,b.stencyl.Engine.NO_PHYSICS?o.height:1,null,null,null,null,!1,!1,!1,!1,b.stencyl.Engine.NO_PHYSICS?null:d[0],0,b.stencyl.Engine.NO_PHYSICS);this.isRegion=this.alwaysSimulate=!0;this.solid=this.isTerrainRegion=!1;this.name="Region";this.simpleBounds=o;this.copy=d[0];this.containedActors=new B;this.whenActorEntersListeners=[];this.whenActorExitsListeners=[];this.justAdded=
[];this.justRemoved=[];b.stencyl.Engine.NO_PHYSICS||(this.body.setSleepingAllowed(!0),this.body.setAwake(!1),this.body.setIgnoreGravity(!0));var g=f=c=a=0;if(b.stencyl.Engine.NO_PHYSICS)c=o.width,g=o.height,this.cacheWidth=this.originalWidth=this.regionWidth=Math.round(Math.abs(a-c)),this.cacheHeight=this.originalHeight=this.regionHeight=Math.round(Math.abs(f-g));else if(n.Boot.__instanceof(d[0],e.collision.shapes.B2PolygonShape)){this.isCircle=!1;o=new e.common.math.B2Transform;o.setIdentity();var h=
new e.collision.B2AABB;n.Boot.__cast(d[0],e.collision.shapes.B2PolygonShape).computeAABB(h,o);for(var a=h.lowerBound.x,c=h.upperBound.x,f=h.lowerBound.y,g=h.upperBound.y,i=0,j=d.length;i<j;){var p=i++,k=new e.dynamics.B2FixtureDef;k.isSensor=!0;k.userData=this;k.shape=d[p];k.friction=1;k.density=0.1;k.restitution=0;k.groupID=b.stencyl.models.GameModel.INHERIT_ID;this.body.createFixture(k);n.Boot.__cast(d[p],e.collision.shapes.B2PolygonShape).computeAABB(h,o);a=Math.min(a,h.lowerBound.x);c=Math.max(c,
h.upperBound.x);f=Math.min(f,h.lowerBound.y);g=Math.max(g,h.upperBound.y)}this.cacheWidth=this.originalWidth=this.regionWidth=Math.round(b.stencyl.Engine.toPixelUnits(Math.abs(a-c)));this.cacheHeight=this.originalHeight=this.regionHeight=Math.round(b.stencyl.Engine.toPixelUnits(Math.abs(f-g)))}else n.Boot.__instanceof(d[0],e.collision.shapes.B2CircleShape)&&(this.isCircle=!0,this.cacheWidth=this.originalWidth=this.regionWidth=b.stencyl.Engine.toPixelUnits(2*n.Boot.__cast(this._mask,e.collision.shapes.B2CircleShape).m_radius),
this.cacheHeight=this.originalHeight=this.regionHeight=b.stencyl.Engine.toPixelUnits(2*n.Boot.__cast(this._mask,e.collision.shapes.B2CircleShape).m_radius))};l["com.stencyl.models.Region"]=b.stencyl.models.Region;b.stencyl.models.Region.__name__=["com","stencyl","models","Region"];b.stencyl.models.Region.__super__=b.stencyl.models.Actor;b.stencyl.models.Region.prototype=t(b.stencyl.models.Actor.prototype,{innerUpdate:function(){if(b.stencyl.Engine.NO_PHYSICS)for(var a=this.containedActors.iterator();a.hasNext();){var c=
a.next(),c=b.stencyl.Engine.engine.getActor(c);this.HITBOX.collide(c.HITBOX)||this.removeActor(c)}for(;0<this.justAdded.length;)c=n.Boot.__cast(this.justAdded.pop(),b.stencyl.models.Actor),b.stencyl.Engine.invokeListeners2(this.whenActorEntersListeners,c);for(;0<this.justRemoved.length;)c=n.Boot.__cast(this.justRemoved.pop(),b.stencyl.models.Actor),b.stencyl.Engine.invokeListeners2(this.whenActorExitsListeners,c);if(0<this.mouseOverListeners.length){a=this.isMouseOver();if(0>=this.mouseState&&a)this.mouseState=
1;else if(1<=this.mouseState&&a){if(this.mouseState=2,b.stencyl.Input.mousePressed?this.mouseState=3:b.stencyl.Input.mouseDown&&(this.mouseState=4),b.stencyl.Input.mouseReleased)this.mouseState=5}else 0<this.mouseState&&!a?this.mouseState=-1:-1==this.mouseState&&!a&&(this.mouseState=0);b.stencyl.Engine.invokeListeners2(this.mouseOverListeners,this.mouseState)}},isMouseOver:function(){var a=(b.stencyl.Input.mouseX-b.stencyl.Engine.cameraX)/b.stencyl.Engine.SCALE,c=(b.stencyl.Input.mouseY-b.stencyl.Engine.cameraY)/
b.stencyl.Engine.SCALE,f=this.getX(),d=this.getY();return a>=f&&c>=d&&a<f+this.regionWidth&&c<d+this.regionHeight},getHeight:function(){return this.regionHeight},getWidth:function(){return this.regionWidth},setLocation:function(a,c){this.setX(a+this.regionWidth/2);this.setY(c+this.regionHeight/2)},setRegionSize:function(a,c){var f=this.regionWidth,d=this.regionHeight,a=b.stencyl.Engine.toPhysicalUnits(a),c=b.stencyl.Engine.toPhysicalUnits(c),o;this.isCircle?(o=new e.collision.shapes.B2CircleShape,
o.m_radius=a/2):(o=new e.collision.shapes.B2PolygonShape,o.setAsBox(a/2,c/2));var g=new e.dynamics.B2FixtureDef;g.isSensor=!0;g.userData=this;g.shape=o;if(null!=this.body&&null!=this.body.getFixtureList()){for(;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());this.body.createFixture(g);this.regionWidth=b.stencyl.Engine.toPixelUnits(a);this.regionHeight=b.stencyl.Engine.toPixelUnits(c)}f=this.regionWidth-f;d=this.regionHeight-d;this.setLocation(this.getX()+f/2,this.getY()+
d/2)},setRegionDiameter:function(a){this.setRegionSize(a,a)},resetSize:function(){this.setRegionSize(this.originalWidth,this.originalHeight)},follow:function(a){var c=a.realY+a.cacheHeight/2;this.setX(a.realX+a.cacheWidth/2);this.setY(c)},removeActor:function(a){null!=a&&-1!=a.ID&&(this.containedActors.remove(a.ID),this.justRemoved.push(a))},addActor:function(a){if(null!=a&&-1!=a.ID&&!this.containedActors.exists(a.ID)){this.containedActors.set(a.ID,a.ID);var c=b.stencyl.utils.Utils.indexOf(this.justRemoved,
a);-1==c?this.justAdded.push(a):this.justRemoved.splice(c,1)}},getContainedActors:function(){return this.containedActors},containsActor:function(a){return null!=a?this.containedActors.exists(a.ID):!1},justRemoved:null,justAdded:null,whenActorExitsListeners:null,whenActorEntersListeners:null,originalHeight:null,originalWidth:null,regionHeight:null,regionWidth:null,simpleBounds:null,copy:null,containedActors:null,isCircle:null,__class__:b.stencyl.models.Region});b.stencyl.models.Scene=function(a,c,
f){this.ID=a;this.name=c;c=m.parseInt(f.att.resolve("depth"));this.sceneWidth=m.parseInt(f.att.resolve("width"));this.sceneHeight=m.parseInt(f.att.resolve("height"));this.tileWidth=m.parseInt(f.att.resolve("tilew"));this.tileHeight=m.parseInt(f.att.resolve("tileh"));this.gravityX=m.parseFloat(f.att.resolve("gravx"));this.gravityY=m.parseFloat(f.att.resolve("gravy"));this.animatedTiles=[];this.bgs=this.readBackgrounds(f.node.resolve("backgrounds").getElements());this.fgs=this.readBackgrounds(f.node.resolve("foregrounds").getElements());
this.colorBackground=new b.stencyl.models.background.ColorBackground(-1);for(var d=f.getElements();d.hasNext();){var e=d.next();if("color-bg"==e.getName()||"grad-bg"==e.getName()){this.colorBackground=n.Boot.__cast((new b.stencyl.io.BackgroundReader).read(0,0,e.getName(),"",e),b.stencyl.models.Background);break}}this.actors=this.readActors(f.node.resolve("actors").getElements());this.behaviorValues=b.stencyl.io.ActorTypeReader.readBehaviors(f.node.resolve("snippets"));d="";try{d=f.att.resolve("eventsnippetid")}catch(g){if(!n.Boot.__instanceof(g,
String))throw g;}""!=d&&(this.eventID=m.parseInt(d),-1<this.eventID&&this.behaviorValues.set(d,new b.stencyl.behavior.BehaviorInstance(this.eventID,new F)));this.joints=this.readJoints(f.node.resolve("joints").getElements());this.regions=this.readRegions(f.node.resolve("regions").getElements());this.terrainRegions=this.readTerrainRegions(f.node.resolve("terrainRegions").getElements());this.wireframes=this.readWireframes(f.node.resolve("terrain").getElements());a=this.readRawLayers(s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/scene-"+
a+".txt"),c);this.terrain=this.readLayers(f.node.resolve("layers").getElements(),a)};l["com.stencyl.models.Scene"]=b.stencyl.models.Scene;b.stencyl.models.Scene.__name__=["com","stencyl","models","Scene"];b.stencyl.models.Scene.prototype={getID:function(){return this.ID},readActorInstance:function(a){var c=m.parseInt(a.att.resolve("aid")),f=m.parseInt(a.att.resolve("x")),d=m.parseInt(a.att.resolve("y")),e=1,g=1;try{e=m.parseFloat(a.att.resolve("sx")),g=m.parseFloat(a.att.resolve("sy"))}catch(h){if(!n.Boot.__instanceof(h,
String))throw h;}var i=m.parseInt(a.att.resolve("z")),j=m.parseInt(a.att.resolve("a")),k=m.parseInt(a.att.resolve("group")),l=m.parseInt(a.att.resolve("id")),q=b.stencyl.utils.Utils.toBoolean(a.att.resolve("c")),r=null;q&&(r=b.stencyl.io.ActorTypeReader.readBehaviors(a.node.resolve("snippets")));if(0==e||0==g)g=e=1;q||(r=null);if(null==b.stencyl.Data.get().resources.get(l))return null;a=new b.stencyl.models.scene.ActorInstance(c,f,d,e,g,i,j,k,l,r,q);null!=a.actorType&&(a.groupID=a.actorType.groupID);
return a},readActors:function(a){for(var c=new B;a.hasNext();){var b=a.next(),d=this.readActorInstance(b);null!=d&&c.set(m.parseInt(b.att.resolve("aid")),d)}return c},readWireframes:function(a){for(var c=[];a.hasNext();){var f=a.next(),d=m.parseFloat(f.att.resolve("x")),e=m.parseFloat(f.att.resolve("y")),f=f.att.resolve("pts").split(",");b.stencyl.Engine.NO_PHYSICS||(f=n.Boot.__cast(b.stencyl.io.SpriteReader.createShape("wireframe",f,d,e),B),c.push(new b.stencyl.models.scene.Wireframe(b.stencyl.Engine.toPhysicalUnits(d),
b.stencyl.Engine.toPhysicalUnits(e),f.get(1),f.get(2),f.get(0),null)))}return c},readBackgrounds:function(a){for(var c=[];a.hasNext();){var b=a.next();c.push(m.parseInt(b.att.resolve("id")))}return c},readRawLayer:function(a){var a=a.split("#"),c=Math.floor(this.sceneWidth/this.tileWidth)|0,f=Math.floor(this.sceneHeight/this.tileHeight)|0,d=m.parseInt(a[0]),e=m.parseInt(a[1]),f=new b.stencyl.models.scene.TileLayer(d,e,this,c,f),e=d=0,g=new b.stencyl.models.collision.Grid(this.sceneWidth,this.sceneHeight,
this.tileWidth,this.tileHeight);f.grid=g;for(var a=a[2].split("|"),h=0,i=a.length;h<i;){var j=h++;if(!(""==a[j]||"E"==a[j]||"EMPTY"==a[j])){var k=a[j].split(","),l=m.parseInt(k[0]),j=m.parseInt(k[1]),k=m.parseInt(k[2]),q=null;-1!=l&&(q=n.Boot.__cast(b.stencyl.Data.get().resources.get(l),b.stencyl.models.scene.Tileset));for(l=0;l<k;){l++;if(null==q||0>j||null==q)f.setTileAt(d,e,null);else{f.setTileAt(d,e,q.tiles[j]);0<q.tiles[j].collisionID&&g.setTile(e,d,!0);var r=q.tiles[j];if(null!=r&&null!=r.pixels){for(var s=
!1,t=0,v=this.animatedTiles;t<v.length&&!(s=v[t],++t,s=s==r););s||this.animatedTiles.push(r)}}e++;e>=c&&(e=0,d++)}}}return f},readRawLayers:function(a,c){var b=new B;if(null!=a)for(var d=a.split("~"),e=0;e<c;){var g=e++,g=this.readRawLayer(d[g]);b.set(g.layerID,g)}return b},readLayers:function(a,c){for(var f=new B;a.hasNext();){var d=a.next(),e=m.parseInt(d.att.resolve("id"));f.set(e,c.get(e));var g=f.get(e);null!=g?(g.name=d.att.resolve("name"),g.zOrder=m.parseInt(d.att.resolve("order"))):(d=new b.stencyl.models.scene.TileLayer(e,
m.parseInt(d.att.resolve("order")),this,Math.floor(this.sceneWidth/this.tileWidth)|0,Math.floor(this.sceneHeight/this.tileHeight)|0),f.set(e,d))}return f},readJoint:function(a){var c=a.getName(),f=m.parseInt(a.att.resolve("id")),d=m.parseInt(a.att.resolve("a1")),o=m.parseInt(a.att.resolve("a2")),g=b.stencyl.utils.Utils.toBoolean(a.att.resolve("collide"));return"STICK_JOINT"==c?(c=new e.dynamics.joints.B2DistanceJointDef,c.ID=f,c.actor1=d,c.actor2=o,c.localAnchorA=null,c.localAnchorB=null,c.collideConnected=
g,c.dampingRatio=m.parseFloat(a.att.resolve("damping")),c.frequencyHz=m.parseFloat(a.att.resolve("freq")),c):"HINGE_JOINT"==c?(c=new e.dynamics.joints.B2RevoluteJointDef,c.ID=f,c.actor1=d,c.actor2=o,c.localAnchorA=null,c.localAnchorB=null,c.collideConnected=g,c.enableLimit=b.stencyl.utils.Utils.toBoolean(a.att.resolve("limit")),c.enableMotor=b.stencyl.utils.Utils.toBoolean(a.att.resolve("motor")),c.lowerAngle=m.parseFloat(a.att.resolve("lower")),c.upperAngle=m.parseFloat(a.att.resolve("upper")),c.maxMotorTorque=
m.parseFloat(a.att.resolve("torque")),c.motorSpeed=m.parseFloat(a.att.resolve("speed")),c):"SLIDING_JOINT"==c?(c=new e.dynamics.joints.B2LineJointDef,c.ID=f,c.actor1=d,c.actor2=o,c.localAnchorA=null,c.localAnchorB=null,c.collideConnected=g,c.enableLimit=b.stencyl.utils.Utils.toBoolean(a.att.resolve("limit")),c.enableMotor=b.stencyl.utils.Utils.toBoolean(a.att.resolve("motor")),c.lowerTranslation=m.parseFloat(a.att.resolve("lower")),c.upperTranslation=m.parseFloat(a.att.resolve("upper")),c.maxMotorForce=
m.parseFloat(a.att.resolve("force")),c.motorSpeed=m.parseFloat(a.att.resolve("speed")),c.localAxisA.x=m.parseFloat(a.att.resolve("x")),c.localAxisA.y=m.parseFloat(a.att.resolve("y")),c):null},readJoints:function(a){for(var c=new B;a.hasNext();){var b=a.next(),b=this.readJoint(b);c.set(b.ID,b)}return c},readTerrainRegion:function(a){var c=a.att.resolve("type"),f=m.parseInt(a.att.resolve("id")),d=a.att.resolve("name"),o=m.parseInt(a.att.resolve("group")),g=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("x"))),
h=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("y"))),i=m.parseInt(a.att.resolve("r")),j=m.parseInt(a.att.resolve("g")),k=m.parseInt(a.att.resolve("b")),i=i<<16|j<<8|k,k=null,j=[];if("box"==c)c=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("w"))),a=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("h"))),k=new e.collision.shapes.B2PolygonShape,k.setAsBox(c/2,a/2),j[0]=k;else if("poly"==c){m.parseFloat(a.att.resolve("w"));m.parseFloat(a.att.resolve("h"));for(var c=
[],a=a.att.resolve("pts").split(",").slice(1),k=0,l=a.length/2|0;k<l;){var n=k++,n=new e.common.math.B2Vec2(m.parseFloat(a[2*n%a.length]),m.parseFloat(a[(2*n+1)%a.length]));c.push(n)}j.push(e.collision.shapes.B2PolygonShape.asArray(c,c.length))}else a=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("rad"))),k=new e.collision.shapes.B2CircleShape,k.m_radius=a,j[0]=k;return new b.stencyl.models.scene.TerrainDef(j,f,d,g,h,o,i)},readTerrainRegions:function(a){for(var c=new B;a.hasNext();){var b=
a.next(),b=this.readTerrainRegion(b);c.set(b.ID,b)}return c},readRegion:function(a){var c=a.att.resolve("type"),f=m.parseInt(a.att.resolve("id")),z=a.att.resolve("name"),o=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("x"))),g=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("y"))),h=null,i=[];if("box"==c)h=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("w"))),c=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("h"))),b.stencyl.Engine.NO_PHYSICS?(h=
m.parseFloat(a.att.resolve("w")),c=m.parseFloat(a.att.resolve("h")),f=new b.stencyl.models.scene.RegionDef(i,f,z,o,g,0,new d.geom.Rectangle(0,0,h,c))):(a=new e.collision.shapes.B2PolygonShape,a.setAsBox(h/2,c/2),i[0]=a,f=new b.stencyl.models.scene.RegionDef(i,f,z,o,g));else if("poly"==c){var h=m.parseFloat(a.att.resolve("w")),c=m.parseFloat(a.att.resolve("h")),j=null;a.has.resolve("pts")&&(j=a.att.resolve("pts"));if(null==j||b.stencyl.Engine.NO_PHYSICS)return b.stencyl.Engine.NO_PHYSICS?(h=m.parseFloat(a.att.resolve("w")),
c=m.parseFloat(a.att.resolve("h")),f=new b.stencyl.models.scene.RegionDef(i,f,z,o,g,0,new d.geom.Rectangle(0,0,h,c))):(a=new e.collision.shapes.B2PolygonShape,a.setAsBox(h/2,c/2),i[0]=a,f=new b.stencyl.models.scene.RegionDef(i,f,z,o,g)),f;a=j.split(",");h=[];c=1;for(j=a.length;c<j;){var k=c++,k=new e.common.math.B2Vec2(m.parseFloat(a[k%h.length]),m.parseFloat(a[(k+1)%h.length]));h.push(k)}i.push(e.collision.shapes.B2PolygonShape.asArray(h,h.length));f=new b.stencyl.models.scene.RegionDef(i,f,z,o,
g)}else c=b.stencyl.Engine.toPhysicalUnits(m.parseFloat(a.att.resolve("rad"))),b.stencyl.Engine.NO_PHYSICS?(c=m.parseFloat(a.att.resolve("rad")),f=new b.stencyl.models.scene.RegionDef(i,f,z,o,g,0,new d.geom.Rectangle(0,0,2*c,2*c))):(h=new e.collision.shapes.B2CircleShape,h.m_radius=c,i[0]=h,f=new b.stencyl.models.scene.RegionDef(i,f,z,o,g));return f},readRegions:function(a){for(var c=new B;a.hasNext();){var b=a.next(),b=this.readRegion(b);c.set(b.ID,b)}return c},animatedTiles:null,terrainRegions:null,
regions:null,joints:null,wireframes:null,behaviorValues:null,actors:null,terrain:null,fgs:null,bgs:null,colorBackground:null,eventID:null,gravityY:null,gravityX:null,tileHeight:null,tileWidth:null,sceneHeight:null,sceneWidth:null,name:null,ID:null,__class__:b.stencyl.models.Scene};b.stencyl.models.Sound=function(a,c,f,d,e,g,h){b.stencyl.models.Resource.call(this,a,c,-1);this.streaming=f;this.looping=d;this.panning=e;this.volume=g;this.ext=h;this.ext="mp3";f||(this.src=s.installer.Assets.getSound("templates/"+Common.getTemplateId()+"/assets/sfx/sound-"+
a+"."+this.ext))};l["com.stencyl.models.Sound"]=b.stencyl.models.Sound;b.stencyl.models.Sound.__name__=["com","stencyl","models","Sound"];b.stencyl.models.Sound.__super__=b.stencyl.models.Resource;b.stencyl.models.Sound.prototype=t(b.stencyl.models.Resource.prototype,{loop:function(a,c){null==c&&(c=0);this.streaming&&(this.src=s.installer.Assets.getSound("templates/"+Common.getTemplateId()+"/assets/music/sound-"+this.ID+"."+this.ext));return this.src.play(c,1E8)},play:function(a,c){null==c&&(c=0);this.streaming&&(this.src=s.installer.Assets.getSound("templates/"+Common.getTemplateId()+"/assets/music/sound-"+
this.ID+"."+this.ext));return this.src.play(c)},src:null,ext:null,volume:null,panning:null,looping:null,streaming:null,__class__:b.stencyl.models.Sound});b.stencyl.models.SoundChannel=function(a,c){this.currentClip=this.currentSound=null;this.looping=!1;this.volume=1;this.position=0;this.channelNum=c;this.engine=a;this.transform=new d.media.SoundTransform};l["com.stencyl.models.SoundChannel"]=b.stencyl.models.SoundChannel;b.stencyl.models.SoundChannel.__name__=["com","stencyl","models","SoundChannel"];
b.stencyl.models.SoundChannel.prototype={setVolume:function(a){this.volume=a;null!=this.currentSound&&(this.transform.volume=a,this.currentSound.jeashSetSoundTransform(this.transform))},onUpdate:function(){null!=this.currentSound&&this.currentSound.jeashSetSoundTransform(this.transform)},fadeOutSound:function(a){if(null!=this.currentSound)b.eclecticdesignstudio.motion.Actuate.tween(this.transform,a,{volume:0}).onUpdate(A(this,this.onUpdate))},fadeInSound:function(a){if(null!=this.currentSound)b.eclecticdesignstudio.motion.Actuate.tween(this.transform,
a,{volume:1}).onUpdate(A(this,this.onUpdate))},stopSound:function(){null!=this.currentSound&&(this.currentSound.stop(),this.position=0,this.currentSource=null)},stopped:function(){null!=this.currentSound&&this.currentSound.removeEventListener(d.events.Event.SOUND_COMPLETE,A(this,this.stopped));b.stencyl.Engine.engine.soundFinished(this.channelNum)},looped:function(){null!=this.currentSound&&this.currentSound.removeEventListener(d.events.Event.SOUND_COMPLETE,A(this,this.looped));this.loopSound(this.currentClip)},
setPause:function(a){null!=this.currentSound&&(a?(this.currentSound.removeEventListener(d.events.Event.SOUND_COMPLETE,A(this,this.looped)),this.position=this.currentSound.position,this.currentSound.stop()):null!=this.currentSource&&(this.currentSound=this.currentClip.play(this.channelNum,this.position),this.currentSound.jeashSetSoundTransform(this.transform),this.looping&&this.currentSound.addEventListener(d.events.Event.SOUND_COMPLETE,A(this,this.looped))))},loopSound:function(a){null!=this.currentSound&&
this.currentSound.stop();null!=a&&(a.volume=this.volume*b.stencyl.models.SoundChannel.masterVolume,this.currentClip=a,this.currentSound=a.loop(this.channelNum),this.setVolume(a.volume),this.currentSound.addEventListener(d.events.Event.SOUND_COMPLETE,A(this,this.stopped)));this.position=0;this.currentSource=a.src;this.looping=!0;return this.currentSound},playSound:function(a){null!=this.currentSound&&this.currentSound.stop();null!=a&&(a.volume=this.volume*b.stencyl.models.SoundChannel.masterVolume,
this.currentClip=a,this.currentSound=a.play(this.channelNum),this.setVolume(a.volume),this.currentSound.addEventListener(d.events.Event.SOUND_COMPLETE,A(this,this.stopped)));this.position=0;this.currentSource=a.src;this.looping=!1;return this.currentSound},transform:null,engine:null,position:null,looping:null,channelNum:null,volume:null,currentClip:null,currentSound:null,currentSource:null,__class__:b.stencyl.models.SoundChannel};b.stencyl.models.Terrain=function(a,c,f,d,o,g){null==g&&(g=0);b.stencyl.models.Actor.call(this,
a,0,o,c,f,a.getTopLayer(),1,1,null,null,null,null,!1,!0,!1,!1,d[0]);0==g&&(g=0);this.fillColor=g;this.alwaysSimulate=!0;this.isRegion=!1;this.isTerrainRegion=!0;this.copy=d[0];this.body.setSleepingAllowed(!0);this.body.setAwake(!1);this.body.setIgnoreGravity(!0);g=f=c=a=0;if(n.Boot.__instanceof(d[0],e.collision.shapes.B2PolygonShape)){this.isCircle=!1;var h=new e.common.math.B2Transform;h.setIdentity();var i=new e.collision.B2AABB;n.Boot.__cast(d[0],e.collision.shapes.B2PolygonShape).computeAABB(i,
h);for(var a=i.lowerBound.x,c=i.upperBound.x,f=i.lowerBound.y,g=i.upperBound.y,j=0,k=d.length;j<k;){var l=j++,m=new e.dynamics.B2FixtureDef;m.isSensor=!1;m.userData=this;m.shape=d[l];m.friction=1;m.density=0.1;m.restitution=0;m.groupID=o;this.body.createFixture(m);n.Boot.__cast(d[l],e.collision.shapes.B2PolygonShape).computeAABB(i,h);a=Math.min(a,i.lowerBound.x);c=Math.max(c,i.upperBound.x);f=Math.min(f,i.lowerBound.y);g=Math.max(g,i.upperBound.y)}this.originalWidth=this.regionWidth=Math.round(b.stencyl.Engine.toPixelUnits(Math.abs(a-
c)));this.originalHeight=this.regionHeight=Math.round(b.stencyl.Engine.toPixelUnits(Math.abs(f-g)))}else n.Boot.__instanceof(d[0],e.collision.shapes.B2CircleShape)&&(this.isCircle=!0,this.originalWidth=this.regionWidth=b.stencyl.Engine.toPixelUnits(2*n.Boot.__cast(d[0],e.collision.shapes.B2CircleShape).m_radius),this.originalHeight=this.regionHeight=b.stencyl.Engine.toPixelUnits(2*n.Boot.__cast(d[0],e.collision.shapes.B2CircleShape).m_radius))};l["com.stencyl.models.Terrain"]=b.stencyl.models.Terrain;
b.stencyl.models.Terrain.__name__=["com","stencyl","models","Terrain"];b.stencyl.models.Terrain.__super__=b.stencyl.models.Actor;b.stencyl.models.Terrain.prototype=t(b.stencyl.models.Actor.prototype,{getFillColor:function(){return this.fillColor},getHeight:function(){return this.regionHeight},getWidth:function(){return this.regionWidth},setLocation:function(a,c){this.setX(a+this.regionWidth/2);this.setY(c+this.regionHeight/2)},setRegionSize:function(a,c){var f=this.regionWidth,d=this.regionHeight,
a=b.stencyl.Engine.toPhysicalUnits(a),c=b.stencyl.Engine.toPhysicalUnits(c),o;this.isCircle?(o=new e.collision.shapes.B2CircleShape,o.m_radius=a/2):(o=new e.collision.shapes.B2PolygonShape,o.setAsBox(a/2,c/2));var g=new e.dynamics.B2FixtureDef;g.isSensor=!0;g.userData=this;g.shape=o;if(null!=this.body&&null!=this.body.getFixtureList()){for(;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());this.body.createFixture(g);this.regionWidth=b.stencyl.Engine.toPixelUnits(a);
this.regionHeight=b.stencyl.Engine.toPixelUnits(c)}f=this.regionWidth-f;d=this.regionHeight-d;this.setLocation(this.getX()+f/2,this.getY()+d/2)},setRegionDiameter:function(a){this.setRegionSize(a,a)},resetSize:function(){this.setRegionSize(this.originalWidth,this.originalHeight)},follow:function(a){var c=a.realY+a.cacheHeight/2;this.setX(a.realX+a.cacheWidth/2);this.setY(c)},regionHeight:null,regionWidth:null,originalHeight:null,originalWidth:null,copy:null,fillColor:null,isCircle:null,__class__:b.stencyl.models.Terrain});
b.stencyl.models.actor={};b.stencyl.models.actor.ActorType=function(a,c,f,d,e,g,h,i,j,k,l){b.stencyl.models.Resource.call(this,a,f,c);this.groupID=d;this.spriteID=e;this.behaviorValues=g;this.bodyDef=h;this.isLightweight=i;this.autoScale=j;this.pausable=k;this.ignoreGravity=l};l["com.stencyl.models.actor.ActorType"]=b.stencyl.models.actor.ActorType;b.stencyl.models.actor.ActorType.__name__=["com","stencyl","models","actor","ActorType"];b.stencyl.models.actor.ActorType.__super__=b.stencyl.models.Resource;
b.stencyl.models.actor.ActorType.prototype=t(b.stencyl.models.Resource.prototype,{unloadGraphics:function(){b.stencyl.Data.get().resources.get(this.spriteID).unloadGraphics()},loadGraphics:function(){b.stencyl.Data.get().resources.get(this.spriteID).loadGraphics()},ignoreGravity:null,pausable:null,autoScale:null,isLightweight:null,bodyDef:null,behaviorValues:null,spriteID:null,groupID:null,__class__:b.stencyl.models.actor.ActorType});b.stencyl.models.actor.AngleHolder=function(){};l["com.stencyl.models.actor.AngleHolder"]=
b.stencyl.models.actor.AngleHolder;b.stencyl.models.actor.AngleHolder.__name__=["com","stencyl","models","actor","AngleHolder"];b.stencyl.models.actor.AngleHolder.prototype={angle:null,__class__:b.stencyl.models.actor.AngleHolder};b.stencyl.models.actor.Animation=function(a,c,f,d,e,g,h,i,j,k,l,m,n,q){this.sharedTimer=this.sharedFrameIndex=0;this.animID=a;this.animName=c;this.parentID=f;this.shapes=d;this.looping=e;this.sync=g;this.durations=l;this.imgWidth=h;this.imgHeight=i;this.framesAcross=m;this.framesDown=
n;this.originX=j;this.originY=k;a=b.stencyl.models.GameModel.get().atlases.get(q);null!=a&&a.active&&this.loadGraphics();1<m&&e&&b.stencyl.models.actor.Animation.allAnimations.push(this)};l["com.stencyl.models.actor.Animation"]=b.stencyl.models.actor.Animation;b.stencyl.models.actor.Animation.__name__=["com","stencyl","models","actor","Animation"];b.stencyl.models.actor.Animation.updateAll=function(a){for(var c=0,f=b.stencyl.models.actor.Animation.allAnimations;c<f.length;){var d=f[c];++c;d.update(a)}};
b.stencyl.models.actor.Animation.prototype={update:function(a){this.sharedTimer+=a;1<this.framesAcross&&this.sharedTimer>this.durations[this.sharedFrameIndex]&&(this.sharedTimer-=this.durations[this.sharedFrameIndex],this.sharedFrameIndex++,this.sharedFrameIndex>=this.framesAcross&&(this.looping?this.sharedFrameIndex=0:this.sharedFrameIndex--))},unloadGraphics:function(){this.imgData=new d.display.BitmapData(this.framesAcross,1);b.stencyl.Data.get().resourceAssets.remove(this.parentID+"-"+this.animID+
".png")},loadGraphics:function(){this.imgData=b.stencyl.Data.get().getGraphicAsset(this.parentID+"-"+this.animID+".png","templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/sprite-"+this.parentID+"-"+this.animID+".png")},sharedFrameIndex:null,sharedTimer:null,originY:null,originX:null,framesDown:null,framesAcross:null,imgHeight:null,imgWidth:null,imgData:null,durations:null,sync:null,looping:null,shapes:null,parentID:null,animName:null,animID:null,__class__:b.stencyl.models.actor.Animation};b.stencyl.models.actor.Collision=
function(){this.points=[];this.otherCollidedWithTerrain=this.otherCollidedWithSensor=this.otherCollidedWithTile=this.otherCollidedWithActor=this.otherFromRight=this.otherFromBottom=this.otherFromLeft=this.otherFromTop=this.thisCollidedWithTerrain=this.thisCollidedWithSensor=this.thisCollidedWithTile=this.thisCollidedWithActor=this.thisFromRight=this.thisFromBottom=this.thisFromLeft=this.thisFromTop=!1;this.actorB=this.actorA=this.otherShape=this.thisShape=this.otherActor=this.thisActor=null};l["com.stencyl.models.actor.Collision"]=
b.stencyl.models.actor.Collision;b.stencyl.models.actor.Collision.__name__=["com","stencyl","models","actor","Collision"];b.stencyl.models.actor.Collision.prototype={switchData:function(){var a=new b.stencyl.models.actor.Collision;a.thisActor=this.otherActor;a.thisShape=this.otherShape;a.thisFromTop=this.otherFromTop;a.thisFromLeft=this.otherFromLeft;a.thisFromBottom=this.otherFromBottom;a.thisFromRight=this.otherFromRight;a.thisCollidedWithActor=this.otherCollidedWithActor;a.thisCollidedWithTile=
this.otherCollidedWithTile;a.thisCollidedWithSensor=this.otherCollidedWithSensor;a.thisCollidedWithTerrain=this.otherCollidedWithTerrain;a.otherActor=this.thisActor;a.otherShape=this.thisShape;a.otherFromTop=this.thisFromTop;a.otherFromLeft=this.thisFromLeft;a.otherFromBottom=this.thisFromBottom;a.otherFromRight=this.thisFromRight;a.otherCollidedWithActor=this.thisCollidedWithActor;a.otherCollidedWithTile=this.thisCollidedWithTile;a.otherCollidedWithSensor=this.thisCollidedWithSensor;a.otherCollidedWithTerrain=
this.thisCollidedWithTerrain;a.actorA=this.actorA;a.actorB=this.actorB;a.points=this.points;return a},actorB:null,actorA:null,otherShape:null,thisShape:null,otherActor:null,thisActor:null,points:null,otherCollidedWithTerrain:null,otherCollidedWithSensor:null,otherCollidedWithTile:null,otherCollidedWithActor:null,otherFromRight:null,otherFromBottom:null,otherFromLeft:null,otherFromTop:null,thisCollidedWithTerrain:null,thisCollidedWithSensor:null,thisCollidedWithTile:null,thisCollidedWithActor:null,
thisFromRight:null,thisFromBottom:null,thisFromLeft:null,thisFromTop:null,__class__:b.stencyl.models.actor.Collision};b.stencyl.models.actor.CollisionPoint=function(a,c,b,d){this.x=a;this.y=c;this.normalX=b;this.normalY=d};l["com.stencyl.models.actor.CollisionPoint"]=b.stencyl.models.actor.CollisionPoint;b.stencyl.models.actor.CollisionPoint.__name__=["com","stencyl","models","actor","CollisionPoint"];b.stencyl.models.actor.CollisionPoint.prototype={normalY:null,normalX:null,y:null,x:null,__class__:b.stencyl.models.actor.CollisionPoint};
b.stencyl.models.actor.Group=function(a,c){this.name=c;this.ID=a;this.list=new b.stencyl.utils.HashMap};l["com.stencyl.models.actor.Group"]=b.stencyl.models.actor.Group;b.stencyl.models.actor.Group.__name__=["com","stencyl","models","actor","Group"];b.stencyl.models.actor.Group.prototype={toString:function(){return"[Group "+this.ID+","+this.name+"]"},removeChild:function(a){this.list["delete"](a)},addChild:function(a){this.list.set(a,a)},ID:null,name:null,list:null,__class__:b.stencyl.models.actor.Group};
b.stencyl.models.actor.Sprite=function(a,c,f,d,e,g){b.stencyl.models.Resource.call(this,a,f,c);this.width=d;this.height=e;this.defaultAnimation=g;this.animations=new b.stencyl.utils.SizedIntHash};l["com.stencyl.models.actor.Sprite"]=b.stencyl.models.actor.Sprite;b.stencyl.models.actor.Sprite.__name__=["com","stencyl","models","actor","Sprite"];b.stencyl.models.actor.Sprite.__super__=b.stencyl.models.Resource;b.stencyl.models.actor.Sprite.prototype=t(b.stencyl.models.Resource.prototype,{unloadGraphics:function(){for(var a=
this.animations.iterator();a.hasNext();)a.next().unloadGraphics()},loadGraphics:function(){for(var a=this.animations.iterator();a.hasNext();)a.next().loadGraphics()},animations:null,defaultAnimation:null,height:null,width:null,__class__:b.stencyl.models.actor.Sprite});b.stencyl.models.background={};b.stencyl.models.background.ColorBackground=function(a){b.stencyl.models.Resource.call(this,0,"Color Background",-1);this.bgColor=a;a==b.stencyl.models.background.ColorBackground.WHITE&&(this.bgColor=16777215)};
l["com.stencyl.models.background.ColorBackground"]=b.stencyl.models.background.ColorBackground;b.stencyl.models.background.ColorBackground.__name__=["com","stencyl","models","background","ColorBackground"];b.stencyl.models.background.ColorBackground.__interfaces__=[b.stencyl.models.Background];b.stencyl.models.background.ColorBackground.__super__=b.stencyl.models.Resource;b.stencyl.models.background.ColorBackground.prototype=t(b.stencyl.models.Resource.prototype,{draw:function(a,c,f,d,e){this.bgColor!=
b.stencyl.models.background.ColorBackground.TRANSPARENT&&(a.beginFill(this.bgColor),a.drawRect(0,0,d,e),a.endFill())},update:function(){},bgColor:null,__class__:b.stencyl.models.background.ColorBackground});b.stencyl.models.background.GradientBackground=function(a,c){b.stencyl.models.Resource.call(this,0,"Gradient Background",-1);this.topColor=a;this.bottomColor=c};l["com.stencyl.models.background.GradientBackground"]=b.stencyl.models.background.GradientBackground;b.stencyl.models.background.GradientBackground.__name__=
["com","stencyl","models","background","GradientBackground"];b.stencyl.models.background.GradientBackground.__interfaces__=[b.stencyl.models.Background];b.stencyl.models.background.GradientBackground.__super__=b.stencyl.models.Resource;b.stencyl.models.background.GradientBackground.prototype=t(b.stencyl.models.Resource.prototype,{draw:function(a,c,b,e,o){c=[this.topColor,this.bottomColor];b=new d.geom.Matrix;b.createGradientBox(e,o,Math.PI/2,0,0);a.beginGradientFill(d.display.GradientType.LINEAR,
c,[100,100],[0,255],b,d.display.SpreadMethod.PAD);a.drawRect(0,0,e,o);a.endFill()},update:function(){},bottomColor:null,topColor:null,__class__:b.stencyl.models.background.GradientBackground});b.stencyl.models.background.ImageBackground=function(a,c,f,d,e,g,h){b.stencyl.models.Resource.call(this,a,f,c);this.parallaxX=e;this.parallaxY=g;this.durations=d;this.repeats=h;this.currFrame=this.currTime=0;this.isAtlasActive()&&this.loadGraphics()};l["com.stencyl.models.background.ImageBackground"]=b.stencyl.models.background.ImageBackground;
b.stencyl.models.background.ImageBackground.__name__=["com","stencyl","models","background","ImageBackground"];b.stencyl.models.background.ImageBackground.__interfaces__=[b.stencyl.models.Background];b.stencyl.models.background.ImageBackground.__super__=b.stencyl.models.Resource;b.stencyl.models.background.ImageBackground.prototype=t(b.stencyl.models.Resource.prototype,{unloadGraphics:function(){this.img=new d.display.BitmapData(1,1);this.currFrame=0;this.frames=[];for(var a=0,c=this.durations;a<
c.length;)++a,this.frames.push(this.img);c=this.durations.length;if(0<c)for(a=0;a<c;){var f=a++;b.stencyl.Data.get().resourceAssets.remove(this.ID+"-"+f+".png")}else b.stencyl.Data.get().resourceAssets.remove(this.ID+"-0.png")},loadGraphics:function(){var a=[],c=this.durations.length;if(0<c)for(var f=0;f<c;){var d=f++;a.push(b.stencyl.Data.get().getGraphicAsset(this.ID+"-"+d+".png","templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/background-"+this.ID+"-"+d+".png"))}else a.push(b.stencyl.Data.get().getGraphicAsset(this.ID+
"-0.png","templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/background-"+this.ID+"-0.png"));this.frames=[];c=0;for(f=a.length;c<f;)d=c++,this.frames.push(a[d]);this.img=this.frames[0]},drawRepeated:function(a,c,b){var e=this.img.getWidth(),o=this.img.getHeight(),g=new d.geom.Rectangle(0,0,e,o);e<c&&(c+=c%(e|0));o<b&&(b+=b%(o|0));for(var h=new d.display.BitmapData(c,b),i=0,b=(b/o|0)+1;i<b;)for(var j=i++,k=0,l=(c/e|0)+1;k<l;){var m=k++;h.copyPixels(this.img,g,new d.geom.Point(m*e,j*o))}a.jeashSetBitmapData(h)},
draw:function(){},update:function(){},repeats:null,parallaxY:null,parallaxX:null,durations:null,frames:null,img:null,currTime:null,currFrame:null,__class__:b.stencyl.models.background.ImageBackground});b.stencyl.models.background.ScrollingBackground=function(a,c,f,d,e,g,h,i,j){b.stencyl.models.background.ImageBackground.call(this,a,c,f,d,e,g,h);this.xVelocity=i;this.yVelocity=j};l["com.stencyl.models.background.ScrollingBackground"]=b.stencyl.models.background.ScrollingBackground;b.stencyl.models.background.ScrollingBackground.__name__=
["com","stencyl","models","background","ScrollingBackground"];b.stencyl.models.background.ScrollingBackground.__interfaces__=[b.stencyl.models.Background];b.stencyl.models.background.ScrollingBackground.__super__=b.stencyl.models.background.ImageBackground;b.stencyl.models.background.ScrollingBackground.prototype=t(b.stencyl.models.background.ImageBackground.prototype,{draw:function(){},update:function(){},yVelocity:null,xVelocity:null,__class__:b.stencyl.models.background.ScrollingBackground});b.stencyl.models.collision=
{};b.stencyl.models.collision.CollisionInfo=function(){this.max=this.min=0;this.maskA=this.maskB=null;this.solidCollision=!0};l["com.stencyl.models.collision.CollisionInfo"]=b.stencyl.models.collision.CollisionInfo;b.stencyl.models.collision.CollisionInfo.__name__=["com","stencyl","models","collision","CollisionInfo"];b.stencyl.models.collision.CollisionInfo.prototype={solidCollision:null,maskB:null,maskA:null,min:null,max:null,__class__:b.stencyl.models.collision.CollisionInfo};b.stencyl.models.collision.Mask=
function(){this.solid=!0;this._class=C.getClassName(C.getClass(this));this._check=new F;this._check.set(C.getClassName(b.stencyl.models.collision.Mask),A(this,this.collideMask));this._check.set(C.getClassName(b.stencyl.models.collision.Masklist),A(this,this.collideMasklist))};l["com.stencyl.models.collision.Mask"]=b.stencyl.models.collision.Mask;b.stencyl.models.collision.Mask.__name__=["com","stencyl","models","collision","Mask"];b.stencyl.models.collision.Mask.prototype={_check:null,_class:null,
projectMask:function(a,c){var b,d=-9999999999,e=9999999999;b=-this.parent.originX*a.x-this.parent.originY*a.y;b<e&&(e=b);b>d&&(d=b);b=(-this.parent.originX+this.parent.cacheWidth)*a.x-this.parent.originY*a.y;b<e&&(e=b);b>d&&(d=b);b=-this.parent.originX*a.x+(-this.parent.originY+this.parent.cacheHeight)*a.y;b<e&&(e=b);b>d&&(d=b);b=(-this.parent.originX+this.parent.cacheWidth)*a.x+(-this.parent.originY+this.parent.cacheHeight)*a.y;b<e&&(e=b);b>d&&(d=b);c.min=e;c.max=d},update:function(){},debugDraw:function(){},
assignTo:function(a){this.parent=a;null!=a&&this.update()},collideMasklist:function(a){return a.collide(this)},collideMask:function(a){return this.parent.colX+this.parent.cacheWidth>a.parent.colX&&this.parent.colY+this.parent.cacheHeight>a.parent.colY&&this.parent.colX<a.parent.colX+a.parent.cacheWidth&&this.parent.colY<a.parent.colY+a.parent.cacheHeight},collide:function(a){if(null==this.parent)throw"Mask must be attached to a parent Entity";var c=this._check.get(a._class);if(null!=c)return c(a);
c=a._check.get(this._class);return null!=c?c(this):!1},solid:null,list:null,parent:null,__class__:b.stencyl.models.collision.Mask};b.stencyl.models.collision.Hitbox=function(a,c,f,d,e){null==e&&(e=!0);null==d&&(d=0);null==f&&(f=0);null==c&&(c=1);null==a&&(a=1);b.stencyl.models.collision.Mask.call(this);this._width=a;this._height=c;this._x=f;this._y=d;this.solid=e;this._check.set(C.getClassName(b.stencyl.models.collision.Hitbox),A(this,this.collideHitbox))};l["com.stencyl.models.collision.Hitbox"]=
b.stencyl.models.collision.Hitbox;b.stencyl.models.collision.Hitbox.__name__=["com","stencyl","models","collision","Hitbox"];b.stencyl.models.collision.Hitbox.__super__=b.stencyl.models.collision.Mask;b.stencyl.models.collision.Hitbox.prototype=t(b.stencyl.models.collision.Mask.prototype,{_y:null,_x:null,_height:null,_width:null,update:function(){null!=this.parent&&null!=this.list&&this.list.update()},setHeight:function(a){if(this._height==a)return a;this._height=a;null!=this.list?this.list.update():
null!=this.parent&&this.update();return this._height},getHeight:function(){return this._height},height:null,setWidth:function(a){if(this._width==a)return a;this._width=a;null!=this.list?this.list.update():null!=this.parent&&this.update();return this._width},getWidth:function(){return this._width},width:null,setY:function(a){if(this._y==a)return a;this._y=a;null!=this.list?this.list.update():null!=this.parent&&this.update();return this._y},getY:function(){return this._y},y:null,setX:function(a){if(this._x==
a)return a;this._x=a;null!=this.list?this.list.update():null!=this.parent&&this.update();return this._x},getX:function(){return this._x},x:null,collideHitbox:function(a){if(a.parent.alreadyCollided(this,a))return!1;if(this.parent.colX+this._x+this._width>a.parent.colX+a._x&&this.parent.colY+this._y+this._height>a.parent.colY+a._y&&this.parent.colX+this._x<a.parent.colX+a._x+a._width&&this.parent.colY+this._y<a.parent.colY+a._y+a._height){var c=new b.stencyl.models.collision.CollisionInfo;c.solidCollision=
this.solid&&a.solid;c.maskA=this;c.maskB=a;a.parent.addCollision(c);return!0}return!1},collideMask:function(a){return this.parent.colX+this._x+this._width>a.parent.colX&&this.parent.colY+this._y+this._height>a.parent.colY&&this.parent.colX+this._x<a.parent.colX+a.parent.cacheWidth&&this.parent.colY+this._y<a.parent.colY+a.parent.cacheHeight},clone:function(){return new b.stencyl.models.collision.Hitbox(this._width,this._height,this._x,this._y,this.solid)},__class__:b.stencyl.models.collision.Hitbox,
__properties__:{set_x:"setX",get_x:"getX",set_y:"setY",get_y:"getY",set_width:"setWidth",get_width:"getWidth",set_height:"setHeight",get_height:"getHeight"}});b.stencyl.models.collision.Grid=function(a,c,f,e,o,g){null==g&&(g=0);null==o&&(o=0);b.stencyl.models.collision.Hitbox.call(this);if(0==a||0==c||0==f||0==e)throw"Illegal Grid, sizes cannot be 0.";this._rect=b.stencyl.utils.Utils.rect;this._point=b.stencyl.utils.Utils.point;this._point2=b.stencyl.utils.Utils.point2;this.columns=a/f|0;this.rows=
c/e|0;this._tile=new d.geom.Rectangle(0,0,f,e);this._x=o;this._y=g;this._width=a;this._height=c;this.usePositions=!1;this._check.set(C.getClassName(b.stencyl.models.collision.Mask),A(this,this.collideMask));this._check.set(C.getClassName(b.stencyl.models.collision.Hitbox),A(this,this.collideHitbox));this._check.set(C.getClassName(b.stencyl.models.collision.Pixelmask),A(this,this.collidePixelmask));this.data=[];a=0;for(c=this.rows;a<c;)a++,this.data.push([])};l["com.stencyl.models.collision.Grid"]=
b.stencyl.models.collision.Grid;b.stencyl.models.collision.Grid.__name__=["com","stencyl","models","collision","Grid"];b.stencyl.models.collision.Grid.__super__=b.stencyl.models.collision.Hitbox;b.stencyl.models.collision.Grid.prototype=t(b.stencyl.models.collision.Hitbox.prototype,{_point2:null,_point:null,_rect:null,_tile:null,squareProjection:function(a,c){a.x<a.y?(c.x=a.x,c.y=a.y):(c.y=a.x,c.x=a.y)},collidePixelmask:function(){return!1},collideHitbox:function(a){var c,f,d;this._rect.x=a.parent.colX+
a._x;this._rect.y=a.parent.colY+a._y;f=((this._rect.x+a._width-1)/this._tile.width|0)+1;d=((this._rect.y+a._height-1)/this._tile.height|0)+1;c=this._rect.x/this._tile.width|0;for(var e=this._rect.y/this._tile.height|0;e<d;)for(var g=e++,h=c;h<f;){var i=h++;if(this.getTile(i,g))return c=new b.stencyl.models.collision.CollisionInfo,c.solidCollision=a.solid,c.maskA=a,c.maskB=this,a.parent.addCollision(c),!0}return!1},collideMask:function(a){var c,b;this._rect.x=a.parent.colX-this.parent.colX;this._rect.y=
a.parent.colY-this.parent.colY;c=((this._rect.x+a.parent.cacheWidth-1)/this._tile.width|0)+1;b=((this._rect.y+a.parent.cacheHeight-1)/this._tile.height|0)+1;for(var a=this._rect.x/this._tile.width|0,d=this._rect.y/this._tile.height|0;d<b;)for(var e=d++,g=a;g<c;){var h=g++;if(this.getTile(h,e))return!0}return!1},data:null,rows:null,columns:null,getTileHeight:function(){return this._tile.height|0},tileHeight:null,getTileWidth:function(){return this._tile.width|0},tileWidth:null,clearRect:function(a,
c,b,d){null==d&&(d=1);null==b&&(b=1);null==c&&(c=0);null==a&&(a=0);this.setRect(a,c,b,d,!1)},setRect:function(a,c,b,d,e){null==e&&(e=!0);null==d&&(d=1);null==b&&(b=1);null==c&&(c=0);null==a&&(a=0);this.usePositions&&(a=a/this._tile.width|0,c=c/this._tile.height|0,b=b/this._tile.width|0,d=d/this._tile.height|0);for(var g=c,c=c+d;g<c;)for(var d=g++,h=a,i=a+b;h<i;){var j=h++;this.setTile(j,d,e)}},getTile:function(a,c){null==c&&(c=0);null==a&&(a=0);if(0>a||a>this.columns-1||0>c||c>this.rows-1)return!1;
this.usePositions&&(a=a/this._tile.width|0,c=c/this._tile.height|0);return this.data[c][a]},checkTile:function(a,c){return 0>a||a>this.columns-1||0>c||c>this.rows-1?!1:!0},clearTile:function(a,c){null==c&&(c=0);null==a&&(a=0);this.setTile(a,c,!1)},setTile:function(a,c,b){null==b&&(b=!0);null==c&&(c=0);null==a&&(a=0);0>a||(a>this.columns-1||0>c||c>this.rows-1)||(this.usePositions&&(a=a/this._tile.width|0,c=c/this._tile.height|0),this.data[c][a]=b)},usePositions:null,__class__:b.stencyl.models.collision.Grid,
__properties__:t(b.stencyl.models.collision.Hitbox.prototype.__properties__,{get_tileWidth:"getTileWidth",get_tileHeight:"getTileHeight"})});b.stencyl.models.collision.Masklist=function(a){b.stencyl.models.collision.Hitbox.call(this);this._masks=[];this._temp=[];for(var c=0;c<a.length;){var f=a[c];++c;this.add(f)}};l["com.stencyl.models.collision.Masklist"]=b.stencyl.models.collision.Masklist;b.stencyl.models.collision.Masklist.__name__=["com","stencyl","models","collision","Masklist"];b.stencyl.models.collision.Masklist.__super__=
b.stencyl.models.collision.Hitbox;b.stencyl.models.collision.Masklist.prototype=t(b.stencyl.models.collision.Hitbox.prototype,{_count:null,_temp:null,_masks:null,getCount:function(){return this._count},count:null,update:function(){for(var a=1E5,c=1E5,f=0,d=0,e,g=this._count;0<g--;)if(null!=(e=n.Boot.__cast(this._masks[g],b.stencyl.models.collision.Hitbox)))e._x<c&&(c=e._x),e._y<a&&(a=e._y),e._x+e._width>f&&(f=e._x+e._width),e._y+e._height>d&&(d=e._y+e._height);this._x=c;this._y=a;this._width=f-c;
this._height=d-a;b.stencyl.models.collision.Hitbox.prototype.update.call(this)},assignTo:function(a){for(var c=0,f=this._masks;c<f.length;){var d=f[c];++c;d.parent=a}b.stencyl.models.collision.Hitbox.prototype.assignTo.call(this,a)},getMask:function(a){null==a&&(a=0);return this._masks[a%this._masks.length]},removeAll:function(){for(var a=0,c=this._masks;a<c.length;){var b=c[a];++a;b.list=null}this._count=0;this._masks.length=0;this._temp.length=0;this.update()},removeAt:function(a){null==a&&(a=0);
this._temp.length=0;for(var c=this._masks.length,a=a%c;0<c--;)c==a?(this._masks[a].list=null,this._count--,this.update()):this._temp[this._temp.length]=this._masks[a];a=this._masks;this._masks=this._temp;this._temp=a},remove:function(a){if(0>J.indexOf(this._masks,a))return a;for(var c=this._temp.length=0,b=this._masks;c<b.length;){var d=b[c];++c;d==a?(a.list=null,a.parent=null,this._count--,this.update()):this._temp[this._temp.length]=d}c=this._masks;this._masks=this._temp;this._temp=c;return a},
add:function(a){this._masks[this._count++]=a;a.list=this;a.parent=this.parent;this.update();return a},collideMasklist:function(a){for(var c=0,b=this._masks;c<b.length;){var d=b[c];++c;for(var e=0,g=a._masks;e<g.length;){var h=g[e];++e;if(d.collide(h))return!0}}return!0},collide:function(a){for(var c=0,b=this._masks;c<b.length;){var d=b[c];++c;if(d.collide(a))return!0}return!1},__class__:b.stencyl.models.collision.Masklist,__properties__:t(b.stencyl.models.collision.Hitbox.prototype.__properties__,
{get_count:"getCount"})});b.stencyl.models.collision.Pixelmask=function(a,c,f){null==f&&(f=0);null==c&&(c=0);b.stencyl.models.collision.Hitbox.call(this);n.Boot.__instanceof(a,d.display.BitmapData)&&(this._data=a);if(null==this._data)throw"Invalid Pixelmask source image.";this.threshold=1;this._rect=b.stencyl.utils.Utils.rect;this._point=b.stencyl.utils.Utils.point;this._point2=b.stencyl.utils.Utils.point2;this._width=this.getData().getWidth();this._height=this.getData().getHeight();this._x=c;this._y=
f;this._check.set(C.getClassName(b.stencyl.models.collision.Mask),A(this,this.collideMask));this._check.set(C.getClassName(b.stencyl.models.collision.Pixelmask),A(this,this.collidePixelmask));this._check.set(C.getClassName(b.stencyl.models.collision.Hitbox),A(this,this.collideHitbox))};l["com.stencyl.models.collision.Pixelmask"]=b.stencyl.models.collision.Pixelmask;b.stencyl.models.collision.Pixelmask.__name__=["com","stencyl","models","collision","Pixelmask"];b.stencyl.models.collision.Pixelmask.__super__=
b.stencyl.models.collision.Hitbox;b.stencyl.models.collision.Pixelmask.prototype=t(b.stencyl.models.collision.Hitbox.prototype,{_point2:null,_point:null,_rect:null,_data:null,setData:function(a){this._data=a;this._width=null!=a._jeashTextureBuffer?a._jeashTextureBuffer.width:0;this._height=null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0;this.update();return this._data},getData:function(){return this._data},data:null,collidePixelmask:function(a){this._point.x=this.parent.colX+this._x;this._point.y=
this.parent.colY+this._y;this._point2.x=a.parent.colX+a._x;this._point2.y=a.parent.colY+a._y;return!1},collideHitbox:function(a){this._point.x=this.parent.colX+this._x;this._point.y=this.parent.colY+this._y;this._rect.x=a.parent.colX+a._x;this._rect.y=a.parent.colY+a._y;this._rect.width=a._width;this._rect.height=a._height;return!1},collideMask:function(a){this._point.x=this.parent.colX+this._x;this._point.y=this.parent.colY+this._y;this._rect.x=a.parent.colX;this._rect.y=a.parent.colY;this._rect.width=
a.parent.cacheWidth;this._rect.height=a.parent.cacheHeight;return!1},threshold:null,__class__:b.stencyl.models.collision.Pixelmask,__properties__:t(b.stencyl.models.collision.Hitbox.prototype.__properties__,{set_data:"setData",get_data:"getData"})});b.stencyl.models.scene={};b.stencyl.models.scene.ActorInstance=function(a,c,f,d,e,g,h,i,j,k,l){this.elementID=a;this.x=c;this.y=f;this.scaleX=d;this.scaleY=e;this.layerID=g;this.angle=h;this.groupID=i;this.actorID=j;this.behaviorValues=k;this.isCustomized=
l;this.actorType=n.Boot.__cast(b.stencyl.Data.get().resources.get(j),b.stencyl.models.actor.ActorType)};l["com.stencyl.models.scene.ActorInstance"]=b.stencyl.models.scene.ActorInstance;b.stencyl.models.scene.ActorInstance.__name__=["com","stencyl","models","scene","ActorInstance"];b.stencyl.models.scene.ActorInstance.prototype={actorType:null,behaviorValues:null,isCustomized:null,actorID:null,groupID:null,angle:null,layerID:null,scaleY:null,scaleX:null,y:null,x:null,elementID:null,__class__:b.stencyl.models.scene.ActorInstance};
b.stencyl.models.scene.DeferredActor=function(a,c,b,d){this.type=a;this.x=c;this.y=b;this.layer=d};l["com.stencyl.models.scene.DeferredActor"]=b.stencyl.models.scene.DeferredActor;b.stencyl.models.scene.DeferredActor.__name__=["com","stencyl","models","scene","DeferredActor"];b.stencyl.models.scene.DeferredActor.prototype={layer:null,y:null,x:null,type:null,__class__:b.stencyl.models.scene.DeferredActor};b.stencyl.models.scene.layers={};b.stencyl.models.scene.layers.RegularLayer=function(){d.display.Sprite.call(this)};
l["com.stencyl.models.scene.layers.RegularLayer"]=b.stencyl.models.scene.layers.RegularLayer;b.stencyl.models.scene.layers.RegularLayer.__name__="com stencyl models scene layers RegularLayer".split(" ");b.stencyl.models.scene.layers.RegularLayer.__super__=d.display.Sprite;b.stencyl.models.scene.layers.RegularLayer.prototype=t(d.display.Sprite.prototype,{__class__:b.stencyl.models.scene.layers.RegularLayer});b.stencyl.models.scene.Layer=function(a,c,f,d,e){b.stencyl.models.scene.layers.RegularLayer.call(this);
this.tiles=f;this.overlay=d;this.bitmapOverlay=e;this.ID=a;this.order=c};l["com.stencyl.models.scene.Layer"]=b.stencyl.models.scene.Layer;b.stencyl.models.scene.Layer.__name__=["com","stencyl","models","scene","Layer"];b.stencyl.models.scene.Layer.__super__=b.stencyl.models.scene.layers.RegularLayer;b.stencyl.models.scene.Layer.prototype=t(b.stencyl.models.scene.layers.RegularLayer.prototype,{bitmapOverlay:null,overlay:null,color:null,order:null,ID:null,tiles:null,__class__:b.stencyl.models.scene.Layer});
b.stencyl.models.scene.RegionDef=function(a,c,b,d,e,g,h){null==g&&(g=0);this.x=d;this.y=e;this.shapes=a;this.shape=this.shapes[0];this.ID=c;this.name=b;this.shapeID=g;this.simpleBounds=h};l["com.stencyl.models.scene.RegionDef"]=b.stencyl.models.scene.RegionDef;b.stencyl.models.scene.RegionDef.__name__=["com","stencyl","models","scene","RegionDef"];b.stencyl.models.scene.RegionDef.prototype={simpleBounds:null,shapeID:null,name:null,ID:null,shapes:null,shape:null,y:null,x:null,__class__:b.stencyl.models.scene.RegionDef};
b.stencyl.models.scene.ScrollingBitmap=function(a,c,b,e,o){null==o&&(o=0);null==e&&(e=0);d.display.Sprite.call(this);this.curStep=0;this.running=!0;this.image1=new d.display.Bitmap(a);this.addChild(this.image1);this.cacheWidth=this.image1.jeashGetWidth();this.cacheHeight=this.image1.jeashGetHeight();this.image2=new d.display.Bitmap(a);this.image2.jeashSetX(this.image1.jeashGetX()-this.cacheWidth);this.addChild(this.image2);this.image3=new d.display.Bitmap(a);this.image3.jeashSetX(this.image1.jeashGetX()+
this.cacheWidth);this.addChild(this.image3);this.image4=new d.display.Bitmap(a);this.image4.jeashSetX(this.image1.jeashGetX()-this.cacheWidth);this.image4.jeashSetY(this.image1.jeashGetY()-this.cacheHeight);this.addChild(this.image4);this.image5=new d.display.Bitmap(a);this.image5.jeashSetY(this.image1.jeashGetY()-this.cacheHeight);this.addChild(this.image5);this.image6=new d.display.Bitmap(a);this.image6.jeashSetX(this.image1.jeashGetX()+this.cacheWidth);this.image6.jeashSetY(this.image1.jeashGetY()-
this.cacheHeight);this.addChild(this.image6);this.image7=new d.display.Bitmap(a);this.image7.jeashSetX(this.image1.jeashGetX()-this.cacheWidth);this.image7.jeashSetY(this.image1.jeashGetY()+this.cacheHeight);this.addChild(this.image7);this.image8=new d.display.Bitmap(a);this.image8.jeashSetY(this.image1.jeashGetY()+this.cacheHeight);this.addChild(this.image8);this.image9=new d.display.Bitmap(a);this.image9.jeashSetX(this.image1.jeashGetX()+this.cacheWidth);this.image9.jeashSetY(this.image1.jeashGetY()+
this.cacheHeight);this.addChild(this.image9);this.yPos=this.xPos=this.yP=this.xP=0;this.xVelocity=c;this.yVelocity=b;this.parallax=!1;this.parallaxX=e;this.parallaxY=o;0==c&&0==b&&(this.parallax=!0)};l["com.stencyl.models.scene.ScrollingBitmap"]=b.stencyl.models.scene.ScrollingBitmap;b.stencyl.models.scene.ScrollingBitmap.__name__=["com","stencyl","models","scene","ScrollingBitmap"];b.stencyl.models.scene.ScrollingBitmap.__super__=d.display.Sprite;b.stencyl.models.scene.ScrollingBitmap.prototype=
t(d.display.Sprite.prototype,{stop:function(){this.running=!1},start:function(){this.running=!0},resetPositions:function(){this.image1.jeashSetX(this.xPos);this.image1.jeashSetY(this.yPos);this.image2.jeashSetX(this.xPos-this.cacheWidth);this.image2.jeashSetY(this.yPos);this.image3.jeashSetX(this.xPos+this.cacheWidth);this.image3.jeashSetY(this.yPos);this.image4.jeashSetX(this.xPos-this.cacheWidth);this.image4.jeashSetY(this.yPos-this.cacheHeight);this.image5.jeashSetX(this.xPos);this.image5.jeashSetY(this.yPos-
this.cacheHeight);this.image6.jeashSetX(this.xPos+this.cacheWidth);this.image6.jeashSetY(this.yPos-this.cacheHeight);this.image7.jeashSetX(this.xPos-this.cacheWidth);this.image7.jeashSetY(this.yPos+this.cacheHeight);this.image8.jeashSetX(this.xPos);this.image8.jeashSetY(this.yPos+this.cacheHeight);this.image9.jeashSetX(this.xPos+this.cacheWidth);this.image9.jeashSetY(this.yPos+this.cacheHeight)},updateParallax:function(){this.xPos=b.stencyl.Engine.cameraX*this.parallaxX;this.yPos=b.stencyl.Engine.cameraY*
this.parallaxY;this.xPos<-this.cacheWidth&&(this.xPos%=this.cacheWidth);this.yPos<-this.cacheHeight&&(this.yPos%=this.cacheHeight);this.resetPositions()},updateAuto:function(){if(this.running){var a=this.cacheWidth,c=this.cacheHeight;this.xP+=this.xVelocity/10*b.stencyl.Engine.SCALE;this.yP+=this.yVelocity/10*b.stencyl.Engine.SCALE;if(this.xP<-a||this.xP>a)this.xP=0;if(this.yP<-c||this.yP>c)this.yP=0;this.xPos=Math.floor(this.xP);this.yPos=Math.floor(this.yP);this.curStep+=1;1>this.curStep||(this.resetPositions(),
this.curStep-=Math.floor(this.curStep))}},parallaxY:null,parallaxX:null,yVelocity:null,xVelocity:null,yPos:null,xPos:null,yP:null,xP:null,cacheHeight:null,cacheWidth:null,parallax:null,running:null,curStep:null,speed:null,image9:null,image8:null,image7:null,image6:null,image5:null,image4:null,image3:null,image2:null,image1:null,__class__:b.stencyl.models.scene.ScrollingBitmap});b.stencyl.models.scene.TerrainDef=function(a,c,b,d,e,g,h){null==h&&(h=0);null==g&&(g=0);this.x=d;this.y=e;this.shapes=a;
this.shape=this.shapes[0];this.ID=c;this.name=b;this.groupID=g;0==this.fillColor&&(this.fillColor=0);this.fillColor=h};l["com.stencyl.models.scene.TerrainDef"]=b.stencyl.models.scene.TerrainDef;b.stencyl.models.scene.TerrainDef.__name__=["com","stencyl","models","scene","TerrainDef"];b.stencyl.models.scene.TerrainDef.prototype={fillColor:null,groupID:null,name:null,ID:null,shapes:null,shape:null,y:null,x:null,__class__:b.stencyl.models.scene.TerrainDef};b.stencyl.models.scene.Tile=function(a,c,f,
d,e){this.tileID=a;this.collisionID=c;this.frameIndex=f;this.durations=d;this.parent=e;a=b.stencyl.models.GameModel.get().atlases.get(e.atlasID);null!=a&&a.active&&this.loadGraphics();this.currTime=this.currFrame=0;this.updateSource=!1};l["com.stencyl.models.scene.Tile"]=b.stencyl.models.scene.Tile;b.stencyl.models.scene.Tile.__name__=["com","stencyl","models","scene","Tile"];b.stencyl.models.scene.Tile.prototype={unloadGraphics:function(){this.pixels=null;1<this.durations.length&&b.stencyl.Data.get().resourceAssets.remove(this.parent.ID+
"-"+this.tileID+".png")},loadGraphics:function(){var a=null;1<this.durations.length&&(a=b.stencyl.Data.get().getGraphicAsset(this.parent.ID+"-"+this.tileID+".png","templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/tileset-"+this.parent.ID+"-"+this.tileID+".png"));this.pixels=a},getSource:function(a,c){return new d.geom.Rectangle(this.currFrame*a,0,a,c)},update:function(a){1!=this.durations.length&&(this.currTime+=Math.floor(a),this.currTime>(this.durations[this.currFrame]|0)&&(this.currTime-=this.durations[this.currFrame]|
0,this.currFrame+1<this.durations.length?this.currFrame++:this.currFrame=0,this.updateSource=!0))},updateSource:null,currTime:null,currFrame:null,frames:null,durations:null,pixels:null,parent:null,frameIndex:null,collisionID:null,tileID:null,__class__:b.stencyl.models.scene.Tile};b.stencyl.utils={};b.stencyl.utils.HashMap=function(){this.ival=new B;this.length=0};l["com.stencyl.utils.HashMap"]=b.stencyl.utils.HashMap;b.stencyl.utils.HashMap.__name__=["com","stencyl","utils","HashMap"];b.stencyl.utils.HashMap.prototype=
{hxUnserialize:function(a){for(var c=a.unserialize(),b=0;b<c;){b++;var d=a.unserialize(),e=a.unserialize();this.set(d,e)}},hxSerialize:function(a){a.serialize(this.length);for(var c=this.ival.iterator(),b=null,d=0;null!=b||c.hasNext();)null==b&&(b=c.next()),a.serialize(b[d]),a.serialize(b[d+1]),d+=2,d>=b.length&&(d=0,b=null)},toString:function(){var a=new G;a.b+=m.string("{ ");for(var c=!0,b=this.keys();b.hasNext();){var d=b.next();c?(a.b+=m.string('"'),c=!1):a.b+=m.string(', "');a.b+=m.string(d);
a.b+=m.string('" => "');a.b+=m.string(this.get(d));a.b+=m.string('"')}a.b+=m.string(" }");return a.b},iterator:function(){return this.keys()},values:function(){var a=this.ival.iterator(),c=null,b=1;return{hasNext:function(){return null!=c||a.hasNext()},next:function(){null==c&&(c=a.next());var d=c[b];b+=2;b>=c.length&&(b=1,c=null);return d}}},keys:function(){var a=this.ival.iterator(),c=null,b=0;return{hasNext:function(){return null!=c||a.hasNext()},next:function(){null==c&&(c=a.next());var d=c[b];
b+=2;b>=c.length&&(b=0,c=null);return d}}},"delete":function(a){var c=this.getObjectId(a),b=!1,d=this.ival.get(c);if(null==d)return!1;for(var e=0,g=d.length;e<g;){if(d[e]==a){d.splice(e,2);b=!0;this.length--;break}e+=2}0==d.length&&this.ival.remove(c);return b},exists:function(a){var c=this.getObjectId(a),c=this.ival.get(c);if(null==c)return!1;for(var b=0,d=c.length;b<d;){if(c[b]==a)return!0;b+=2}return!1},get:function(a){if(null==a)return null;var c=this.getObjectId(a),c=this.ival.get(c);if(null==
c)return null;for(var b=0,d=c.length;b<d;){if(c[b]==a)return c[b+1];b+=2}return null},getObjectId:function(a){if(n.Boot.__instanceof(a,S))return null==a.__cls_id__&&(a.__cls_id__=b.stencyl.utils.HashMap.clsId++),a.__cls_id__;if(null==a.__get_id__){var c=C.getClass(a);if(null==c){var f=m.random(2147483647);a.__get_id__=function(){return f};return f}m.random(2147483647);var d=this;c.prototype.__get_id__=function(){return null==d.___id___?d.___id___=m.random(2147483647):d.___id___}}return a.__get_id__()},
set:function(a,c){var b=this.getObjectId(a),d=this.ival.get(b);null==d&&(d=[],this.ival.set(b,d));for(var b=0,e=d.length;b<e;){if(d[b]==a){d[b+1]=c;return}b+=2}d.push(a);d.push(c);this.length++},length:null,ival:null,__class__:b.stencyl.utils.HashMap};b.stencyl.models.scene.TileLayer=function(a,c,b,e,o){d.display.Sprite.call(this);this.layerID=a;this.zOrder=c;this.scene=b;this.numRows=o;this.numCols=e;this.rows=[];for(a=0;a<o;){c=a++;this.rows[c]=[];for(b=0;b<e;){var g=b++;this.rows[c][g]=null}}this.flashPoint=
new d.geom.Point};l["com.stencyl.models.scene.TileLayer"]=b.stencyl.models.scene.TileLayer;b.stencyl.models.scene.TileLayer.__name__=["com","stencyl","models","scene","TileLayer"];b.stencyl.models.scene.TileLayer.__super__=d.display.Sprite;b.stencyl.models.scene.TileLayer.prototype=t(d.display.Sprite.prototype,{draw:function(a,c,f){if(null!=this.bitmapData){this.bitmapData.fillRect(this.bitmapData.rect,0);this.alpha=f;for(var a=Math.floor(Math.abs(a)),c=Math.floor(Math.abs(c)),d=this.numRows,f=this.scene.tileWidth,
e=this.scene.tileHeight,a=a/b.stencyl.Engine.SCALE/f|0,g=c/b.stencyl.Engine.SCALE/e|0,c=2+a+(b.stencyl.Engine.screenWidth/f|0),h=2+g+(b.stencyl.Engine.screenHeight/e|0),c=Math.min(c,this.numCols)|0,h=Math.min(h,d)|0,d=g;d<h;){for(g=a;g<c;){var i=this.getTileAt(d,g);if(null!=i){if(null==b.stencyl.models.scene.TileLayer.cacheSource.get(i)||i.updateSource)null==i.pixels?b.stencyl.models.scene.TileLayer.cacheSource.set(i,i.parent.getImageSourceForTile(i.tileID,f,e)):(b.stencyl.models.scene.TileLayer.cacheSource.set(i,
i.getSource(f,e)),i.updateSource=!1);var j=b.stencyl.models.scene.TileLayer.cacheSource.get(i);null!=j&&(this.pixels=null==i.pixels?i.parent.pixels:i.pixels,this.flashPoint.x=g*f*b.stencyl.Engine.SCALE,this.flashPoint.y=d*e*b.stencyl.Engine.SCALE,null!=j&&null!=this.pixels&&this.bitmapData.copyPixels(this.pixels,j,this.flashPoint,null,null,!0))}g++}d++}}},getTileAt:function(a,c){return 0>c||0>a||c>=this.numCols||a>=this.numRows?null:this.rows[a][c]},setTileAt:function(a,c,b){0>c||(0>a||c>=this.numCols||
a>=this.numRows)||(this.rows[a][c]=b)},mountGrid:function(){if(null!=this.grid){var a=new b.stencyl.models.Actor(b.stencyl.Engine.engine,1E8,b.stencyl.models.GameModel.TERRAIN_ID,0,0,b.stencyl.Engine.engine.getTopLayer(),this.grid.getWidth(),this.grid.getHeight(),null,new F,null,null,!1,!0,!1,!1,this.grid);a.name="Terrain";a.typeID=-1;a.jeashSetVisible(!1);a.ignoreGravity=!0;b.stencyl.Engine.engine.getGroup(b.stencyl.models.GameModel.TERRAIN_ID).list.set(a,a)}},reset:function(){this.bitmapData=new d.display.BitmapData(b.stencyl.Engine.sceneWidth*
b.stencyl.Engine.SCALE|0,b.stencyl.Engine.sceneHeight*b.stencyl.Engine.SCALE|0,!0,0);var a=new d.display.Bitmap(this.bitmapData);a.smoothing=r.MyAssets.antialias;this.addChild(a)},flashPoint:null,pixels:null,bitmapData:null,numCols:null,numRows:null,scene:null,grid:null,rows:null,zOrder:null,layerID:null,__class__:b.stencyl.models.scene.TileLayer});b.stencyl.models.scene.Tileset=function(a,c,f,e,o,g,h,i){b.stencyl.models.Resource.call(this,a,f,c);this.framesAcross=e;this.framesDown=o;this.tileWidth=
g;this.tileHeight=h;this.tiles=i;this.isAtlasActive()&&this.loadGraphics();b.stencyl.models.scene.Tileset.temp=new d.geom.Rectangle};l["com.stencyl.models.scene.Tileset"]=b.stencyl.models.scene.Tileset;b.stencyl.models.scene.Tileset.__name__=["com","stencyl","models","scene","Tileset"];b.stencyl.models.scene.Tileset.temp=null;b.stencyl.models.scene.Tileset.__super__=b.stencyl.models.Resource;b.stencyl.models.scene.Tileset.prototype=t(b.stencyl.models.Resource.prototype,{unloadGraphics:function(){this.pixels=
null;b.stencyl.Data.get().resourceAssets.remove(this.ID+".png")},loadGraphics:function(){this.pixels=b.stencyl.Data.get().getGraphicAsset(this.ID+".png","templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/tileset-"+this.ID+".png");0<this.tiles.length&&this.setupTilesheet()},getImageSourceForTile:function(a,c,f){a=this.tiles[a];if(null==a)b.stencyl.models.scene.Tileset.temp.x=0,b.stencyl.models.scene.Tileset.temp.y=0;else{var d=Math.floor(a.frameIndex/this.framesAcross);b.stencyl.models.scene.Tileset.temp.x=
Math.floor(a.frameIndex%this.framesAcross)*c*b.stencyl.Engine.SCALE;b.stencyl.models.scene.Tileset.temp.y=d*f*b.stencyl.Engine.SCALE}b.stencyl.models.scene.Tileset.temp.width=c*b.stencyl.Engine.SCALE;b.stencyl.models.scene.Tileset.temp.height=f*b.stencyl.Engine.SCALE;return b.stencyl.models.scene.Tileset.temp.clone()},setupTilesheet:function(){},pixels:null,tiles:null,tileHeight:null,tileWidth:null,framesDown:null,framesAcross:null,__class__:b.stencyl.models.scene.Tileset});b.stencyl.models.scene.Wireframe=
function(a,c,b,d,e,g){this.x=a;this.y=c;this.width=b;this.height=d;this.shape=e;this.shape2=g};l["com.stencyl.models.scene.Wireframe"]=b.stencyl.models.scene.Wireframe;b.stencyl.models.scene.Wireframe.__name__=["com","stencyl","models","scene","Wireframe"];b.stencyl.models.scene.Wireframe.prototype={height:null,width:null,shape2:null,shape:null,y:null,x:null,__class__:b.stencyl.models.scene.Wireframe};b.stencyl.models.scene.layers.BackgroundLayer=function(a){d.display.Bitmap.call(this,a,d.display.PixelSnapping.AUTO,
!0)};l["com.stencyl.models.scene.layers.BackgroundLayer"]=b.stencyl.models.scene.layers.BackgroundLayer;b.stencyl.models.scene.layers.BackgroundLayer.__name__="com stencyl models scene layers BackgroundLayer".split(" ");b.stencyl.models.scene.layers.BackgroundLayer.__super__=d.display.Bitmap;b.stencyl.models.scene.layers.BackgroundLayer.prototype=t(d.display.Bitmap.prototype,{cacheHeight:null,cacheWidth:null,__class__:b.stencyl.models.scene.layers.BackgroundLayer});b.stencyl.utils.SizedIntHash=function(){this.h=
{};this.size=0};l["com.stencyl.utils.SizedIntHash"]=b.stencyl.utils.SizedIntHash;b.stencyl.utils.SizedIntHash.__name__=["com","stencyl","utils","SizedIntHash"];b.stencyl.utils.SizedIntHash.__super__=B;b.stencyl.utils.SizedIntHash.prototype=t(B.prototype,{remove:function(a){this.exists(a)&&this.size--;return B.prototype.remove.call(this,a)},set:function(a,c){this.exists(a)||this.size++;B.prototype.set.call(this,a,c)},size:null,__class__:b.stencyl.utils.SizedIntHash});d.media={};d.media.SoundTransform=
function(){};l["jeash.media.SoundTransform"]=d.media.SoundTransform;d.media.SoundTransform.__name__=["jeash","media","SoundTransform"];d.media.SoundTransform.prototype={volume:null,rightToRight:null,rightToLeft:null,pan:null,leftToRight:null,leftToLeft:null,__class__:d.media.SoundTransform};d.geom.Matrix=function(a,c,b,d,e,g){this.a=null==a?1:a;this.b=null==c?0:c;this.c=null==b?0:b;this.d=null==d?1:d;this.setTx(null==e?0:e);this.setTy(null==g?0:g);this._sy=this._sx=1};l["jeash.geom.Matrix"]=d.geom.Matrix;
d.geom.Matrix.__name__=["jeash","geom","Matrix"];d.geom.Matrix.prototype={to3DString:function(){var a;a="matrix3d("+this.a;a=a+", "+this.b;a=a+", 0, 0, "+this.c;a=a+", "+this.d;a=a+", 0, 0, 0, 0, 1, 0, "+this.tx;a=a+", "+this.ty;return a+", 0, 1)"},toString:function(){var a;a="matrix("+this.a;a=a+", "+this.b;a=a+", "+this.c;a=a+", "+this.d;a=a+", "+this.tx;a=a+", "+this.ty;return a+")"},toMozString:function(){var a;a="matrix("+this.a;a=a+", "+this.b;a=a+", "+this.c;a=a+", "+this.d;a=a+", "+this.tx;
a=a+"px, "+this.ty;return a+"px)"},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.setTx(0);this.setTy(0);this._sy=this._sx=1},mult:function(a){var c=this.clone();c.concat(a);return c},cleanValues:function(){this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.setTx(Math.round(10*this.tx)/10);this.setTy(Math.round(10*this.ty)/10)},concat:function(a){var c=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*
a.d;this.a=c;c=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=c;c=this.tx*a.a+this.ty*a.c+a.tx;this.setTy(this.tx*a.b+this.ty*a.d+a.ty);this.setTx(c);this._sx*=a._sx;this._sy*=a._sy;this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.setTx(Math.round(10*this.tx)/10);this.setTy(Math.round(10*this.ty)/10)},scale:function(a,c){this._sx=a;this._sy=c;this.a*=a;this.b*=c;this.c*=a;this.d*=c;var b=this;b.setTx(b.tx*
a);b=this;b.setTy(b.ty*c);this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.setTx(Math.round(10*this.tx)/10);this.setTy(Math.round(10*this.ty)/10)},rotate:function(a){var c=Math.cos(a),a=Math.sin(a),b=this.a*c-this.b*a;this.b=this.a*a+this.b*c;this.a=b;b=this.c*c-this.d*a;this.d=this.c*a+this.d*c;this.c=b;b=this.tx*c-this.ty*a;this.setTy(this.tx*a+this.ty*c);this.setTx(b);this.a=Math.round(1E3*this.a)/1E3;this.b=
Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.setTx(Math.round(10*this.tx)/10);this.setTy(Math.round(10*this.ty)/10)},setTy:function(a){return this.ty=a},setTx:function(a){return this.tx=a},translate:function(a,c){var b=new d.geom.Matrix;b.setTx(a);b.setTy(c);this.concat(b)},jeashTranslateTransformed:function(a){this.setTx(a.x*this.a+a.y*this.c+this.tx);this.setTy(a.x*this.b+a.y*this.d+this.ty);this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*
this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.setTx(Math.round(10*this.tx)/10);this.setTy(Math.round(10*this.ty)/10)},transformPoint:function(a){return new d.geom.Point(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},jeashTransformY:function(a){return a.x*this.b+a.y*this.d+this.ty},jeashTransformX:function(a){return a.x*this.a+a.y*this.c+this.tx},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.setTx(-this.tx),
this.setTy(-this.ty);else{var a=1/a,c=this.d*a;this.d=this.a*a;this.a=c;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.setTy(-this.b*this.tx-this.d*this.ty);this.setTx(a)}this._sx/=this._sx;this._sy/=this._sy;this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.setTx(Math.round(10*this.tx)/10);this.setTy(Math.round(10*this.ty)/10);return this},setRotation:function(a,c){var b=null==c?1:c;this.a=Math.cos(a)*
b;this.c=Math.sin(a)*b;this.b=-this.c;this.d=this.a;this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.setTx(Math.round(10*this.tx)/10);this.setTy(Math.round(10*this.ty)/10)},createGradientBox:function(a,c,b,d,e){this.a=a/1638.4;this.d=c/1638.4;if(null!=b&&0!=b){var g=Math.cos(b),b=Math.sin(b);this.b=b*this.d;this.c=-b*this.a;this.a*=g;this.d*=g}else this.b=this.c=0;this.setTx(null!=d?d+a/2:a/2);this.setTy(null!=
e?e+c/2:c/2)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.setTx(a.tx);this.setTy(a.ty);this._sx=a._sx;this._sy=a._sy},clone:function(){var a=new d.geom.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty);a._sx=this._sx;a._sy=this._sy;return a},_sy:null,_sx:null,ty:null,tx:null,d:null,c:null,b:null,a:null,__class__:d.geom.Matrix,__properties__:{set_tx:"setTx",set_ty:"setTy"}};d.geom.Rectangle=function(a,c,b,d){null==d&&(d=0);null==b&&(b=0);null==c&&(c=0);null==a&&(a=0);this.x=
a;this.y=c;this.width=b;this.height=d};l["jeash.geom.Rectangle"]=d.geom.Rectangle;d.geom.Rectangle.__name__=["jeash","geom","Rectangle"];d.geom.Rectangle.prototype={extendBounds:function(a){var c=this.x-a.x;0<c&&(this.x-=c,this.width+=c);c=this.y-a.y;0<c&&(this.y-=c,this.height+=c);a.get_right()>this.get_right()&&this.set_right(a.get_right());a.get_bottom()>this.get_bottom()&&this.set_bottom(a.get_bottom())},transform:function(a){var c=a.a*this.x+a.c*this.y,b=c,e=a.b*this.x+a.d*this.y,o=c,g=a.a*(this.x+
this.width)+a.c*this.y,h=a.b*(this.x+this.width)+a.d*this.y;g<c&&(c=g);h<e&&(e=h);g>b&&(b=g);h>o&&(o=h);g=a.a*(this.x+this.width)+a.c*(this.y+this.height);h=a.b*(this.x+this.width)+a.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>b&&(b=g);h>o&&(o=h);g=a.a*this.x+a.c*(this.y+this.height);h=a.b*this.x+a.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>b&&(b=g);h>o&&(o=h);return new d.geom.Rectangle(c+a.tx,e+a.ty,b-c,o-e)},setEmpty:function(){this.x=this.y=this.width=this.height=0},offsetPoint:function(a){this.x+=
a.x;this.y+=a.y},offset:function(a,c){this.x+=a;this.y+=c},isEmpty:function(){return 0==this.width&&0==this.height},union:function(a){var c=this.x>a.x?a.x:this.x,b=this.get_right()<a.get_right()?a.get_right():this.get_right(),e=this.y>a.y?a.y:this.y,a=this.get_bottom()<a.get_bottom()?a.get_bottom():this.get_bottom();return new d.geom.Rectangle(c,e,b-c,a-e)},intersects:function(a){var c=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=c)return!1;c=this.y<a.y?
a.y:this.y;return(this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom())>c},intersection:function(a){var c=this.x<a.x?a.x:this.x,b=this.get_right()>a.get_right()?a.get_right():this.get_right();if(b<=c)return new d.geom.Rectangle;var e=this.y<a.y?a.y:this.y,a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=e?new d.geom.Rectangle:new d.geom.Rectangle(c,e,b-c,a-e)},inflatePoint:function(a){this.inflate(a.x,a.y)},inflate:function(a,c){this.x-=a;this.width+=2*a;
this.y-=c;this.height+=2*c},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},containsRect:function(a){return this.contains(a.x,a.y)&&this.containsPoint(a.get_bottomRight())},containsPoint:function(a){return this.contains(a.x,a.y)},contains:function(a,c){return a>=this.x&&c>=this.y&&a<this.get_right()&&c<this.get_bottom()},clone:function(){return new d.geom.Rectangle(this.x,this.y,this.width,this.height)},set_bottomRight:function(a){this.width=a.x-this.x;
this.height=a.y-this.y;return a.clone()},get_bottomRight:function(){return new d.geom.Point(this.x+this.width,this.y+this.height)},bottomRight:null,set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_size:function(){return new d.geom.Point(this.width,this.height)},size:null,set_topLeft:function(a){this.x=a.x;this.y=a.y;return a.clone()},get_topLeft:function(){return new d.geom.Point(this.x,this.y)},topLeft:null,set_bottom:function(a){this.height=a-this.y;return a},get_bottom:function(){return this.y+
this.height},bottom:null,set_top:function(a){this.height-=a-this.y;return this.y=a},get_top:function(){return this.y},top:null,set_right:function(a){this.width=a-this.x;return a},get_right:function(){return this.x+this.width},right:null,set_left:function(a){this.width-=a-this.x;return this.x=a},get_left:function(){return this.x},left:null,height:null,width:null,y:null,x:null,__class__:d.geom.Rectangle,__properties__:{set_left:"set_left",get_left:"get_left",set_right:"set_right",get_right:"get_right",
set_top:"set_top",get_top:"get_top",set_bottom:"set_bottom",get_bottom:"get_bottom",set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_size:"set_size",get_size:"get_size",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight"}};d.display.Graphics=function(a){d.Lib.jeashBootstrap();null==a?(this.jeashSurface=n.Lib.document.createElement("canvas"),this.jeashSurface.width=0,this.jeashSurface.height=0):this.jeashSurface=a;this.mPenY=this.mPenX=this.mLastMoveID=0;this.mDrawList=[];this.mPoints=
[];this.mBitmap=this.mSolidGradient=null;this.mFilling=!1;this.mLastMoveID=this.mFillAlpha=this.mFillColour=0;this.boundsDirty=!0;this.jeashClearLine();this.mLineJobs=[];this.jeashChanged=!0;this.nextDrawIndex=0;this.jeashExtent=new d.geom.Rectangle;this.jeashExtentWithFilters=new d.geom.Rectangle;this._padding=0;this.jeashClearNextCycle=!0};l["jeash.display.Graphics"]=d.display.Graphics;d.display.Graphics.__name__=["jeash","display","Graphics"];d.display.Graphics.jeashDetectIsPointInPathMode=function(){var a=
n.Lib.document.createElement("canvas").getContext("2d");if(null==a.isPointInPath)return d.display.PointInPathMode.USER_SPACE;a.save();a.translate(1,0);a.beginPath();a.rect(0,0,1,1);var c=a.isPointInPath(0.3,0.3)?d.display.PointInPathMode.USER_SPACE:d.display.PointInPathMode.DEVICE_SPACE;a.restore();return c};d.display.Graphics.prototype={jeashAdjustSurface:function(a,c){null==c&&(c=1);null==a&&(a=1);if(null!=w.field(this.jeashSurface,"getContext")){var b=Math.ceil((this.jeashExtentWithFilters.width-
this.jeashExtentWithFilters.x)*a),e=Math.ceil((this.jeashExtentWithFilters.height-this.jeashExtentWithFilters.y)*c);if(5E3>=b&&5E3>=e){var o=n.Lib.document.createElement("canvas");o.width=b;o.height=e;d.Lib.jeashDrawToSurface(this.jeashSurface,o);d.Lib.jeashIsOnStage(this.jeashSurface)&&(d.Lib.jeashAppendSurface(o),d.Lib.jeashCopyStyle(this.jeashSurface,o),d.Lib.jeashSwapSurface(this.jeashSurface,o),d.Lib.jeashRemoveSurface(this.jeashSurface),null!=this.jeashSurface.id&&d.Lib.jeashSetSurfaceId(o,
this.jeashSurface.id));this.jeashSurface=o}}},getContext:function(){try{return this.jeashSurface.getContext("2d")}catch(a){return null}},drawGraphicsData:function(a){for(var c=0;c<a.length;){var b=a[c];++c;if(null==b)this.mFilling=!0;else switch(b.jeashGraphicsDataType){case d.display.GraphicsDataType.STROKE:if(null==b.fill)this.lineStyle(b.thickness,0,1,b.pixelHinting,b.scaleMode,b.caps,b.joints,b.miterLimit);else switch(b.fill.jeashGraphicsFillType){case d.display.GraphicsFillType.SOLID_FILL:var e=
b.fill;this.lineStyle(b.thickness,e.color,e.alpha,b.pixelHinting,b.scaleMode,b.caps,b.joints,b.miterLimit);break;case d.display.GraphicsFillType.GRADIENT_FILL:e=b.fill,this.lineGradientStyle(e.type,e.colors,e.alphas,e.ratios,e.matrix,e.spreadMethod,e.interpolationMethod,e.focalPointRatio)}break;case d.display.GraphicsDataType.PATH:for(var o=e=0,g=b.commands.length;o<g;){var h=o++;switch(b.commands[h]){case 1:this.moveTo(b.data[e],b.data[e+1]);e+=2;break;case 2:this.lineTo(b.data[e],b.data[e+1]);e+=
2;break;case 3:this.curveTo(b.data[e],b.data[e+1],b.data[e+2],b.data[e+3]),e+=4}}break;case d.display.GraphicsDataType.SOLID:e=b;this.beginFill(e.color,e.alpha);break;case d.display.GraphicsDataType.GRADIENT:e=b,this.beginGradientFill(e.type,e.colors,e.alphas,e.ratios,e.matrix,e.spreadMethod,e.interpolationMethod,e.focalPointRatio)}}},closePolygon:function(a){var c=this.mPoints.length;0<c&&(1<c&&(this.mFilling&&2<c&&(this.mPoints[this.mLastMoveID].x!=this.mPoints[c-1].x||this.mPoints[this.mLastMoveID].y!=
this.mPoints[c-1].y)&&this.lineTo(this.mPoints[this.mLastMoveID].x,this.mPoints[this.mLastMoveID].y),this.addLineSegment(),this.addDrawable({points:this.mPoints,fillColour:this.mFillColour,fillAlpha:this.mFillAlpha,solidGradient:this.mSolidGradient,bitmap:this.mBitmap,lineJobs:this.mLineJobs})),this.mLineJobs=[],this.mPoints=[]);a&&(this.mFillAlpha=0,this.mBitmap=this.mSolidGradient=null,this.mFilling=!1);this.jeashChanged=!0},addLineSegment:function(){0<this.mCurrentLine.point_idx1&&this.mLineJobs.push(new d.display.LineJob(this.mCurrentLine.grad,
this.mCurrentLine.point_idx0,this.mCurrentLine.point_idx1,this.mCurrentLine.thickness,this.mCurrentLine.alpha,this.mCurrentLine.colour,this.mCurrentLine.pixel_hinting,this.mCurrentLine.joints,this.mCurrentLine.caps,this.mCurrentLine.scale_mode,this.mCurrentLine.miter_limit));this.mCurrentLine.point_idx0=this.mCurrentLine.point_idx1=-1},addDrawable:function(a){null!=a&&this.mDrawList.unshift(a)},flush:function(){this.closePolygon(!0)},curveTo:function(a,c,b,e){var o=this.mPoints.length;0==o&&(this.mPoints.push(new d.display.GfxPoint(this.mPenX,
this.mPenY,0,0,0)),o++);this.mPenX=b;this.mPenY=e;this.jeashExpandStandardExtent(b,e,this.mCurrentLine.thickness);this.mPoints.push(new d.display.GfxPoint(b,e,a,c,2));if(null!=this.mCurrentLine.grad||0<this.mCurrentLine.alpha)0>this.mCurrentLine.point_idx0&&(this.mCurrentLine.point_idx0=o-1),this.mCurrentLine.point_idx1=o},lineTo:function(a,c){var b=this.mPoints.length;0==b&&(this.mPoints.push(new d.display.GfxPoint(this.mPenX,this.mPenY,0,0,0)),b++);this.mPenX=a;this.mPenY=c;this.jeashExpandStandardExtent(a,
c,this.mCurrentLine.thickness);this.mPoints.push(new d.display.GfxPoint(this.mPenX,this.mPenY,0,0,1));if(null!=this.mCurrentLine.grad||0<this.mCurrentLine.alpha)0>this.mCurrentLine.point_idx0&&(this.mCurrentLine.point_idx0=b-1),this.mCurrentLine.point_idx1=b;this.mFilling||this.closePolygon(!1)},moveTo:function(a,c){this.mPenX=a;this.mPenY=c;this.jeashExpandStandardExtent(a,c);this.mFilling?(this.addLineSegment(),this.mLastMoveID=this.mPoints.length,this.mPoints.push(new d.display.GfxPoint(this.mPenX,
this.mPenY,0,0,0))):this.closePolygon(!1)},jeashExpandFilteredExtent:function(a,c){var b,d,e,g;d=this.jeashExtent.x;g=this.jeashExtent.y;b=this.jeashExtent.width+d;e=this.jeashExtent.height+g;d=a<d?a:d;g=c<g?c:g;this.jeashExtentWithFilters.x=d;this.jeashExtentWithFilters.y=g;this.jeashExtentWithFilters.width=(a>b?a:b)-d;this.jeashExtentWithFilters.height=(c>e?c:e)-g},jeashExpandStandardExtent:function(a,c,b){0<this._padding&&(this.jeashExtent.width-=this._padding,this.jeashExtent.height-=this._padding);
null!=b&&b>this._padding&&(this._padding=b);var d,e,g;d=this.jeashExtent.x;g=this.jeashExtent.y;b=this.jeashExtent.width+d;e=this.jeashExtent.height+g;d=a<d?a:d;g=c<g?c:g;this.jeashExtent.x=d;this.jeashExtent.y=g;this.jeashExtent.width=(a>b?a:b)-d+this._padding;this.jeashExtent.height=(c>e?c:e)-g+this._padding;this.boundsDirty=!0},jeashInvalidate:function(){this.jeashChanged=this.jeashClearNextCycle=!0},clear:function(){this.jeashClearLine();this.mPenY=this.mPenX=0;this.mDrawList=[];this.nextDrawIndex=
0;this.mPoints=[];this.mSolidGradient=null;this.mFilling=!1;this.mLastMoveID=this.mFillAlpha=this.mFillColour=0;this.boundsDirty=this.jeashClearNextCycle=!0;this.jeashExtent.x=0;this.jeashExtent.y=0;this.jeashExtent.width=0;this._padding=this.jeashExtent.height=0;this.mLineJobs=[]},jeashClearCanvas:function(){null!=this.jeashSurface&&(this.jeashSurface.width=this.jeashSurface.width)},jeashClearLine:function(){this.mCurrentLine=new d.display.LineJob(null,-1,-1,0,0,0,1,0,256,3,3)},beginBitmapFill:function(a,
c,b,d){this.closePolygon(!0);b=null==b?!0:b;d=null==d?!1:d;this.mFilling=!0;this.mSolidGradient=null;this.jeashExpandStandardExtent(null!=a._jeashTextureBuffer?a._jeashTextureBuffer.width:0,null!=a._jeashTextureBuffer?a._jeashTextureBuffer.height:0);this.mBitmap={texture_buffer:a._jeashTextureBuffer,matrix:null==c?c:c.clone(),flags:(b?16:0)|(d?65536:0)}},beginGradientFill:function(a,c,b,d,e,g,h,i){this.closePolygon(!0);this.mFilling=!0;this.mBitmap=null;this.mSolidGradient=this.createGradient(a,c,
b,d,e,g,h,i)},createGradient:function(a,c,b,e,o,g,h,i){for(var h=[],j=0,k=c.length;j<k;){var l=j++;h.push({col:c[l],alpha:b[l],ratio:e[l]})}c=0;a==d.display.GradientType.RADIAL&&(c|=1);g==d.display.SpreadMethod.REPEAT?c|=2:g==d.display.SpreadMethod.REFLECT&&(c|=4);null==o?(o=new d.geom.Matrix,o.createGradientBox(25,25)):o=o.clone();return{points:h,matrix:o,flags:c,focal:null==i?0:i}},drawRoundRect:function(a,c,b,d,e,g){e*=0.5;g*=0.5;b*=0.5;a+=b;e>b&&(e=b);var h=b-e,i=h+e*Math.sin(Math.PI/4),e=h+e*
Math.tan(Math.PI/8),d=0.5*d,c=c+d;g>d&&(g=d);var j=d-g,k=j+g*Math.sin(Math.PI/4),g=j+g*Math.tan(Math.PI/8);this.closePolygon(!1);this.moveTo(a+b,c+j);this.curveTo(a+b,c+g,a+i,c+k);this.curveTo(a+e,c+d,a+h,c+d);this.lineTo(a-h,c+d);this.curveTo(a-e,c+d,a-i,c+k);this.curveTo(a-b,c+g,a-b,c+j);this.lineTo(a-b,c-j);this.curveTo(a-b,c-g,a-i,c-k);this.curveTo(a-e,c-d,a-h,c-d);this.lineTo(a+h,c-d);this.curveTo(a+e,c-d,a+i,c-k);this.curveTo(a+b,c-g,a+b,c-j);this.lineTo(a+b,c+j);this.closePolygon(!1)},drawRect:function(a,
c,b,d){this.closePolygon(!1);this.moveTo(a,c);this.lineTo(a+b,c);this.lineTo(a+b,c+d);this.lineTo(a,c+d);this.lineTo(a,c);this.closePolygon(!1)},drawCircle:function(a,c,b){this.closePolygon(!1);this.jeashDrawEllipse(a,c,b,b);this.closePolygon(!1)},drawEllipse:function(a,c,b,d){this.closePolygon(!1);b/=2;d/=2;this.jeashDrawEllipse(a+b,c+d,b,d);this.closePolygon(!1)},jeashDrawEllipse:function(a,c,b,d){this.moveTo(a+b,c);this.curveTo(b+a,-0.4142*d+c,0.7071*b+a,-0.7071*d+c);this.curveTo(0.4142*b+a,-d+
c,a,-d+c);this.curveTo(-0.4142*b+a,-d+c,-0.7071*b+a,-0.7071*d+c);this.curveTo(-b+a,-0.4142*d+c,-b+a,c);this.curveTo(-b+a,0.4142*d+c,-0.7071*b+a,0.7071*d+c);this.curveTo(-0.4142*b+a,d+c,a,d+c);this.curveTo(0.4142*b+a,d+c,0.7071*b+a,0.7071*d+c);this.curveTo(b+a,0.4142*d+c,b+a,c)},endFill:function(){this.closePolygon(!0)},beginFill:function(a,c){this.closePolygon(!0);this.mFillColour=a;this.mFillAlpha=null==c?1:c;this.mFilling=!0;this.mBitmap=this.mSolidGradient=null},lineGradientStyle:function(a,c,
b,d,e,g,h,i){this.mCurrentLine.grad=this.createGradient(a,c,b,d,e,g,h,i)},lineStyle:function(a,c,b,d,e,g,h,i){this.addLineSegment();if(null==a)this.jeashClearLine();else{this.mCurrentLine.grad=null;this.mCurrentLine.thickness=a;this.mCurrentLine.colour=null==c?0:c;this.mCurrentLine.alpha=null==b?1:b;this.mCurrentLine.miter_limit=null==i?3:i;this.mCurrentLine.pixel_hinting=null==d||!d?0:16384;if(null!=g)switch(g[1]){case 1:this.mCurrentLine.caps=256;break;case 2:this.mCurrentLine.caps=512;break;case 0:this.mCurrentLine.caps=
0}this.mCurrentLine.scale_mode=3;if(null!=e)switch(e[1]){case 2:this.mCurrentLine.scale_mode=3;break;case 3:this.mCurrentLine.scale_mode=1;break;case 0:this.mCurrentLine.scale_mode=2;break;case 1:this.mCurrentLine.scale_mode=0}this.mCurrentLine.joints=0;if(null!=h)switch(h[1]){case 1:this.mCurrentLine.joints=0;break;case 0:this.mCurrentLine.joints=4096;break;case 2:this.mCurrentLine.joints=8192}}},blit:function(a){this.closePolygon(!0);var c;try{c=this.jeashSurface.getContext("2d")}catch(b){c=null}null!=
c&&c.drawImage(a._jeashTextureBuffer,this.mPenX,this.mPenY)},jeashHitTest:function(a,c){var b;try{b=this.jeashSurface.getContext("2d")}catch(d){b=null}if(null==b)return!1;b.save();for(var e=0,g=this.mDrawList;e<g.length;){var h=g[e];++e;b.beginPath();for(var i=0,h=h.points;i<h.length;){var j=h[i];++i;switch(j.type){case 0:b.moveTo(j.x,j.y);break;case 2:b.quadraticCurveTo(j.cx,j.cy,j.x,j.y);break;default:b.lineTo(j.x,j.y)}}b.closePath();if(b.isPointInPath(a,c))return!0}b.restore();return!1},jeashRender:function(a,
c,b,e,o,g,h,i){null==e&&(e=1);null==b&&(b=1);if(!this.jeashChanged)return!1;this.closePolygon(!0);var j=this._padding;if(null!=c)for(a=0;a<c.length;){var k=c[a];++a;w.hasField(k,"blurX")&&(j+=4*Math.max(w.field(k,"blurX"),w.field(k,"blurY")))}this.jeashExpandFilteredExtent(-(j*b)/2,-(j*e)/2);this.jeashClearNextCycle?(this.nextDrawIndex=0,this.jeashClearCanvas(),this.jeashClearNextCycle=!1,this.jeashAdjustSurface(b,e)):(this.jeashExtentWithFilters.width-this.jeashExtentWithFilters.x>this.jeashSurface.width||
this.jeashExtentWithFilters.height-this.jeashExtentWithFilters.y>this.jeashSurface.height)&&this.jeashAdjustSurface(b,e);var l;try{l=this.jeashSurface.getContext("2d")}catch(m){l=null}if(null==l)return!1;null!=o&&(l.beginPath(),l.moveTo(o.x*b,o.y*e),l.lineTo(g.x*b,g.y*e),l.lineTo(h.x*b,h.y*e),l.lineTo(i.x*b,i.y*e),l.closePath(),l.clip());if(null!=c)for(a=0;a<c.length;)k=c[a],++a,n.Boot.__instanceof(k,d.filters.DropShadowFilter)&&k.jeashApplyFilter(this.jeashSurface,!0);c=this.mDrawList.length;l.save();
(0!=this.jeashExtentWithFilters.x||0!=this.jeashExtentWithFilters.y)&&l.translate(-this.jeashExtentWithFilters.x*b,-this.jeashExtentWithFilters.y*e);(1!=b||0!=e)&&l.scale(b,e);b=!1;for(a=this.nextDrawIndex;a<c;){e=a++;e=this.mDrawList[c-1-e];if(0<e.lineJobs.length){o=0;for(g=e.lineJobs;o<g.length;){h=g[o];++o;l.lineWidth=h.thickness;switch(h.joints){case 0:l.lineJoin="round";break;case 4096:l.lineJoin="miter";break;case 8192:l.lineJoin="bevel"}switch(h.caps){case 256:l.lineCap="round";break;case 512:l.lineCap=
"square";break;case 0:l.lineCap="butt"}l.miterLimit=h.miter_limit;l.strokeStyle=null!=h.grad?this.createCanvasGradient(l,h.grad):this.createCanvasColor(h.colour,h.alpha);l.beginPath();b=h.point_idx0;for(h=h.point_idx1+1;b<h;)switch(i=b++,i=e.points[i],i.type){case 0:l.moveTo(i.x,i.y);break;case 2:l.quadraticCurveTo(i.cx,i.cy,i.x,i.y);break;default:l.lineTo(i.x,i.y)}l.closePath();b=!0}}else{l.beginPath();o=0;for(g=e.points;o<g.length;)switch(i=g[o],++o,i.type){case 0:l.moveTo(i.x,i.y);break;case 2:l.quadraticCurveTo(i.cx,
i.cy,i.x,i.y);break;default:l.lineTo(i.x,i.y)}l.closePath()}o=e.fillColour;g=e.fillAlpha;h=e.solidGradient;l.fillStyle=null!=h?this.createCanvasGradient(l,h):this.createCanvasColor(o,Math.min(1,Math.max(0,g)));l.fill();b&&l.stroke();l.save();o=e.bitmap;null!=o&&(e=o.texture_buffer,o=o.matrix,null!=o&&l.transform(o.a,o.b,o.c,o.d,o.tx,o.ty),l.drawImage(e,0,0));l.restore()}l.restore();this.jeashChanged=!1;this.nextDrawIndex=c;return!0},createCanvasGradient:function(a,c){var b,e=c.matrix;0==(c.flags&
1)?(b=e.transformPoint(new d.geom.Point(-819.2,0)),e=e.transformPoint(new d.geom.Point(819.2,0)),b=a.createLinearGradient(b.x,b.y,e.x,e.y)):(b=e.transformPoint(new d.geom.Point(819.2*c.focal,0)),e=e.transformPoint(new d.geom.Point(0,819.2)),b=a.createRadialGradient(b.x,b.y,0,e.x,b.y,e.y));for(var e=0,o=c.points;e<o.length;){var g=o[e];++e;var h=this.createCanvasColor(g.col,g.alpha);b.addColorStop(g.ratio/255,h)}return b},createCanvasColor:function(a,c){return"rgba("+((16711680&a)>>16)+","+((65280&
a)>>8)+","+(255&a)+","+c+")"},jeashClearNextCycle:null,nextDrawIndex:null,_padding:null,jeashExtentWithFilters:null,jeashExtent:null,boundsDirty:null,mLastMoveID:null,mPenY:null,mPenX:null,mLineDraws:null,mDrawList:null,mLineJobs:null,mCurrentLine:null,mBitmap:null,mSolidGradient:null,mFillAlpha:null,mFillColour:null,mFilling:null,mPoints:null,jeashChanged:null,jeashSurface:null,__class__:d.display.Graphics};var k={Timer:function(a){var c=this;this.id=window.setInterval(function(){c.run()},a)}};l["haxe.Timer"]=
k.Timer;k.Timer.__name__=["haxe","Timer"];k.Timer.delay=function(a,c){var b=new k.Timer(c);b.run=function(){b.stop();a()};return b};k.Timer.measure=function(a,c){var b=k.Timer.stamp(),d=a();k.Log.trace(k.Timer.stamp()-b+"s",c);return d};k.Timer.stamp=function(){return(new Date).getTime()/1E3};k.Timer.prototype={run:function(){},stop:function(){null!=this.id&&(window.clearInterval(this.id),this.id=null)},id:null,__class__:k.Timer};d.Lib=function(a,c,b){this.mKilled=!1;this.__scr=n.Lib.document.getElementById(a);
if(null==this.__scr)throw"Element with id '"+a+"' not found";this.__scr.style.setProperty("overflow","hidden","");this.__scr.style.setProperty("position","absolute","");"100%"!=this.__scr.style.getPropertyValue("width")&&(this.__scr.style.width=c+"px");"100%"!=this.__scr.style.getPropertyValue("height")&&(this.__scr.style.height=b+"px")};l["jeash.Lib"]=d.Lib;d.Lib.__name__=["jeash","Lib"];d.Lib.__properties__={get_current:"jeashGetCurrent"};d.Lib.mMe=null;d.Lib.current=null;d.Lib.mStage=null;d.Lib.mMainClassRoot=
null;d.Lib.mCurrent=null;d.Lib.trace=function(a){null!=window.console&&window.console.log(a)};d.Lib.preventDefaultTouchMove=function(){n.Lib.document.addEventListener("touchmove",function(a){a.preventDefault()},!1)};d.Lib.setUserScalable=function(a){null==a&&(a=!0);var c=n.Lib.document.createElement("meta");c.name="viewport";c.content="user-scalable="+(a?"yes":"no")};d.Lib.getURL=function(a,c){var b=n.Lib.document,d=n.Lib.window;if(null==c||"_self"==c)b.open(a.url);else switch(c){case "_blank":d.open(a.url);
break;case "_parent":d.parent.open(a.url);break;case "_top":d.top.open(a.url)}};d.Lib.jeashGetCurrent=function(){null==d.Lib.mMainClassRoot&&(d.Lib.mMainClassRoot=new d.display.MovieClip,d.Lib.mCurrent=d.Lib.mMainClassRoot,d.Lib.jeashGetStage().addChild(d.Lib.mCurrent));return d.Lib.mMainClassRoot};d.Lib.as=function(a,c){return n.Boot.__instanceof(a,c)?a:null};d.Lib.getTimer=function(){return 1E3*(k.Timer.stamp()-d.Lib.starttime)|0};d.Lib.jeashGetStage=function(){if(null==d.Lib.mStage){var a=d.Lib.jeashGetWidth(),
c=d.Lib.jeashGetHeight();d.Lib.mStage=new d.display.Stage(a,c)}return d.Lib.mStage};d.Lib.jeashAppendSurface=function(a,c,b){if(null!=d.Lib.mMe.__scr){a.style.setProperty("position","absolute","");a.style.setProperty("left","0px","");a.style.setProperty("top","0px","");a.style.setProperty("transform-origin","0 0","");a.style.setProperty("-moz-transform-origin","0 0","");a.style.setProperty("-webkit-transform-origin","0 0","");a.style.setProperty("-o-transform-origin","0 0","");a.style.setProperty("-ms-transform-origin",
"0 0","");try{"canvas"==a.localName&&(a.onmouseover=a.onselectstart=function(){return!1})}catch(e){}var o=d.Lib.mMe.__scr;null!=c?o.insertBefore(a,c):null!=b&&null!=b.nextSibling?o.insertBefore(a,b.nextSibling):o.appendChild(a)}};d.Lib.jeashSwapSurface=function(a,c){var b=-1,e=-1,o;o=0;for(var g=d.Lib.mMe.__scr.childNodes.length;o<g;){var h=o++;d.Lib.mMe.__scr.childNodes[h]==a?b=h:d.Lib.mMe.__scr.childNodes[h]==c&&(e=h)}-1!=b&&-1!=e&&(o=d.Lib.jeashRemoveSurface(d.Lib.mMe.__scr.childNodes[b]),e>b&&
e--,e<d.Lib.mMe.__scr.childNodes.length-1?d.Lib.mMe.__scr.insertBefore(o,d.Lib.mMe.__scr.childNodes[e++]):d.Lib.mMe.__scr.appendChild(o),o=d.Lib.jeashRemoveSurface(d.Lib.mMe.__scr.childNodes[e]),b>e&&b--,b<d.Lib.mMe.__scr.childNodes.length-1?d.Lib.mMe.__scr.insertBefore(o,d.Lib.mMe.__scr.childNodes[b++]):d.Lib.mMe.__scr.appendChild(o))};d.Lib.jeashSetSurfaceZIndexAfter=function(a,c){for(var b=-1,e=-1,o=0,g=d.Lib.mMe.__scr.childNodes.length;o<g;){var h=o++;d.Lib.mMe.__scr.childNodes[h]==a?b=h:d.Lib.mMe.__scr.childNodes[h]==
c&&(e=h)}-1!=b&&-1!=e&&(b=d.Lib.jeashRemoveSurface(d.Lib.mMe.__scr.childNodes[b]),e<d.Lib.mMe.__scr.childNodes.length-1?d.Lib.mMe.__scr.insertBefore(b,d.Lib.mMe.__scr.childNodes[e++]):d.Lib.mMe.__scr.appendChild(b))};d.Lib.jeashIsOnStage=function(a){for(var c=!1,b=d.Lib.mMe.__scr.childNodes,e=0,o=b.length;e<o;){var g=e++;if(b[g]==a){c=!0;break}}return c};d.Lib.jeashRemoveSurface=function(a){if(null!=d.Lib.mMe.__scr){var c=a.getAttribute("data-jeash-anim");null!=c&&(c=n.Lib.document.getElementById(c),
null!=c&&d.Lib.mMe.__scr.removeChild(c));d.Lib.mMe.__scr.removeChild(a)}return a};d.Lib.jeashSetSurfaceTransform=function(a,c){1==c.a&&0==c.b&&0==c.c&&1==c.d&&null==a.getAttribute("data-jeash-anim")?(a.style.left=c.tx+"px",a.style.top=c.ty+"px"):(a.style.left="0px",a.style.top="0px",a.style.setProperty("transform",c.toString(),""),a.style.setProperty("-moz-transform",c.toMozString(),""),a.style.setProperty("-webkit-transform",c.to3DString(),""),a.style.setProperty("-o-transform",c.toString(),""),
a.style.setProperty("-ms-transform",c.toString(),""))};d.Lib.jeashSetSurfaceClipping=function(){};d.Lib.jeashSetSurfaceOpacity=function(a,c){a.style.setProperty("opacity",m.string(c),"")};d.Lib.jeashSetSurfaceFont=function(a,c,b,d,e,g,h){a.style.setProperty("font-family",c,"");a.style.setProperty("font-weight",m.string(b),"");a.style.setProperty("color","#"+E.hex(e),"");a.style.setProperty("font-size",d+"px","");a.style.setProperty("text-align",g,"");a.style.setProperty("line-height",h+"px","")};
d.Lib.jeashSetSurfaceBorder=function(a,c,b){a.style.setProperty("border-color","#"+E.hex(c),"");a.style.setProperty("border-style","solid","");a.style.setProperty("border-width",b+"px","");a.style.setProperty("border-collapse","collapse","")};d.Lib.jeashSetSurfacePadding=function(a,c,b,d){a.style.setProperty("padding",c+"px","");a.style.setProperty("margin",b+"px","");a.style.setProperty("top",c+2+"px","");a.style.setProperty("right",c+1+"px","");a.style.setProperty("left",c+1+"px","");a.style.setProperty("bottom",
c+1+"px","");a.style.setProperty("display",d?"inline":"block","")};d.Lib.jeashAppendText=function(a,c,b,d,e){for(var g=0,h=a.childNodes.length;g<h;){var i=g++;a.removeChild(a.childNodes[i])}e?c.innerHTML=b:c.appendChild(n.Lib.document.createTextNode(b));c.style.setProperty("position","relative","");c.style.setProperty("cursor","default","");d||c.style.setProperty("white-space","nowrap","");a.appendChild(c)};d.Lib.jeashSetTextDimensions=function(a,c,b,d){a.style.setProperty("width",c+"px","");a.style.setProperty("height",
b+"px","");a.style.setProperty("overflow","hidden","");a.style.setProperty("text-align",d,"")};d.Lib.jeashSetSurfaceAlign=function(a,c){a.style.setProperty("text-align",c,"")};d.Lib.jeashSetContentEditable=function(a,c){null==c&&(c=!0);a.setAttribute("contentEditable",c?"true":"false")};d.Lib.jeashDesignMode=function(a){n.Lib.document.designMode=a?"on":"off"};d.Lib.jeashSurfaceHitTest=function(a,c,b){for(var d=0,e=a.childNodes.length;d<e;){var g=d++,g=a.childNodes[g];if(c>=g.offsetLeft&&c<=g.offsetLeft+
g.offsetWidth&&b>=g.offsetTop&&b<=g.offsetTop+g.offsetHeight)return!0}return!1};d.Lib.jeashCopyStyle=function(a,c){c.id=a.id;for(var b=0,d="left top transform transform-origin -moz-transform -moz-transform-origin -webkit-transform -webkit-transform-origin -o-transform -o-transform-origin opacity display".split(" ");b<d.length;){var e=d[b];++b;c.style.setProperty(e,a.style.getPropertyValue(e),"")}};d.Lib.jeashDrawToSurface=function(a,c,b,e,o){null==e&&(e=1);a.getContext("2d");c=c.getContext("2d");
1!=e&&(c.globalAlpha=e);0<a.width&&0<a.height&&(null!=b?(c.save(),1==b.a&&0==b.b&&0==b.c&&1==b.d?c.translate(b.tx,b.ty):c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty),d.Lib.jeashDrawClippedImage(a,c,o),c.restore()):d.Lib.jeashDrawClippedImage(a,c,o))};d.Lib.jeashDrawClippedImage=function(a,c,b){null!=b?(0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),b.width>a.width-b.x&&(b.width=a.width-b.x),b.height>a.height-b.y&&(b.height=a.height-b.y),c.drawImage(a,b.x,b.y,b.width,b.height,b.x,b.y,b.width,
b.height)):c.drawImage(a,0,0)};d.Lib.jeashDisableRightClick=function(){if(null!=d.Lib.mMe)try{d.Lib.mMe.__scr.oncontextmenu=function(){return!1}}catch(a){d.Lib.trace("Disable right click not supported in this browser.")}};d.Lib.jeashEnableRightClick=function(){if(null!=d.Lib.mMe)try{d.Lib.mMe.__scr.oncontextmenu=null}catch(a){d.Lib.trace("Enable right click not supported in this browser.")}};d.Lib.jeashEnableFullScreen=function(){if(null!=d.Lib.mMe){var a=d.Lib.mMe.__scr.style.getPropertyValue("width"),
c=d.Lib.mMe.__scr.style.getPropertyValue("height");d.Lib.mMe.__scr.style.setProperty("width","100%","");d.Lib.mMe.__scr.style.setProperty("height","100%","");d.Lib.jeashDisableFullScreen=function(){d.Lib.mMe.__scr.style.setProperty("width",a,"");d.Lib.mMe.__scr.style.setProperty("height",c,"")}}};d.Lib.jeashDisableFullScreen=function(){};d.Lib.jeashFullScreenWidth=function(){return n.Lib.window.innerWidth};d.Lib.jeashFullScreenHeight=function(){return n.Lib.window.innerHeight};d.Lib.jeashSetCursor=
function(a){if(null!=d.Lib.mMe){var c=d.Lib.mMe.__scr.style;switch(a[1]){case 0:a="pointer";break;case 1:a="text";break;default:a="default"}c.cursor=a}};d.Lib.jeashSetSurfaceVisible=function(a,c){c?a.style.setProperty("display","block",""):a.style.setProperty("display","none","")};d.Lib.jeashSetSurfaceId=function(a,c){var b=new L("[^a-zA-Z0-9\\-]","g");a.id=b.replace(c,"_")};d.Lib.jeashDrawSurfaceRect=function(a,c,b,d,e){var g=c.getContext("2d");c.width=e.width;c.height=e.height;g.drawImage(a,e.x,
e.y,e.width,e.height,0,0,e.width,e.height);c.style.left=b+"px";c.style.top=d+"px"};d.Lib.jeashSetSurfaceScale=function(a,c){a.style.setProperty("transform","scale("+c+")","");a.style.setProperty("-moz-transform","scale("+c+")","");a.style.setProperty("-webkit-transform","scale("+c+")","");a.style.setProperty("-o-transform","scale("+c+")","");a.style.setProperty("-ms-transform","scale("+c+")","")};d.Lib.jeashSetSurfaceRotation=function(a,c){a.style.setProperty("transform","rotate("+c+"deg)","");a.style.setProperty("-moz-transform",
"rotate("+c+"deg)","");a.style.setProperty("-webkit-transform","rotate("+c+"deg)","");a.style.setProperty("-o-transform","rotate("+c+"deg)","");a.style.setProperty("-ms-transform","rotate("+c+"deg)","")};d.Lib.jeashCreateSurfaceAnimationCSS=function(a,c,b,e,o,g,h){null==h&&(h=!1);null==g&&(g=!1);null==o&&(o=25);var i=n.Lib.document;if(null==a.id||""==a.id)d.Lib.trace("Failed to create a CSS Style tag for a surface without an id attribute");else{var j=null;null!=a.getAttribute("data-jeash-anim")?j=
i.getElementById(a.getAttribute("data-jeash-anim")):(j=d.Lib.mMe.__scr.appendChild(i.createElement("style")),j.sheet.id="__jeash_anim_"+a.id+"__",a.setAttribute("data-jeash-anim",j.sheet.id));for(var i="",l=0,m=c.length;l<m;)var q=l++,i=i+(100*(q/(c.length-1))+"% { "+b.execute(e(c[q]))+" } ");b=g?"steps(::steps::, end)":"";h=h?"infinite":"";e="";m=0;for(l=["animation","-moz-animation","-webkit-animation","-o-animation","-ms-animation"];m<l.length;)g=l[m],++m,e+=g+": ::id:: ::duration::s "+b+" "+h+
"; ";c=(new k.Template(e)).execute({id:a.id,duration:c.length/o,steps:1});o=null!=j.sheet.rules?j.sheet.rules:j.sheet.cssRules;m=0;for(l=["","-moz-","-webkit-","-o-","-ms-"];m<l.length;){h=l[m];++m;try{j.sheet.insertRule("@"+h+"keyframes "+a.id+" {"+i+"}",o.length)}catch(r){}}j.sheet.insertRule("#"+a.id+" { "+c+" } ",o.length);return j}};d.Lib.jeashSetSurfaceSpritesheetAnimation=function(a,c,b){if(0==c.length)return a;var e=n.Lib.document.createElement("div");e.style.backgroundImage="url("+a.toDataURL("image/png",
{})+")";e.id=a.id;var o=new k.Template("background-position: ::left::px ::top::px; width: ::width::px; height: ::height::px; ");d.Lib.jeashCreateSurfaceAnimationCSS(e,c,o,function(a){return{left:-a.x,top:-a.y,width:a.width,height:a.height}},b,!0,!0);d.Lib.jeashIsOnStage(a)?(d.Lib.jeashAppendSurface(e),d.Lib.jeashCopyStyle(a,e),d.Lib.jeashSwapSurface(a,e),d.Lib.jeashRemoveSurface(a)):d.Lib.jeashCopyStyle(a,e);return e};d.Lib.Run=function(a,c,b){d.Lib.mMe=new d.Lib(a.id,c,b);for(var e=0,o=a.attributes.length;e<
o;){var g=e++,g=a.attributes.item(g);if(E.startsWith(g.name,"data-"))switch(g.name){case "data-framerate":d.Lib.jeashGetStage().jeashSetFrameRate(m.parseFloat(g.value))}}if(w.hasField(a,"on"+d.Lib.HTML_TOUCH_EVENT_TYPES[0])){o=0;for(e=d.Lib.HTML_TOUCH_EVENT_TYPES;o<e.length;)g=e[o],++o,a.addEventListener(g,(K=d.Lib.jeashGetStage(),A(K,K.jeashQueueStageEvent)),!0)}o=0;for(e=d.Lib.HTML_DIV_EVENT_TYPES;o<e.length;)g=e[o],++o,a.addEventListener(g,(K=d.Lib.jeashGetStage(),A(K,K.jeashQueueStageEvent)),
!0);var h=n.Lib.window;w.hasField(h,"ondevicemotion")&&h.addEventListener("devicemotion",(K=d.Lib.jeashGetStage(),A(K,K.jeashQueueStageEvent)),!0);w.hasField(h,"onorientationchange")&&h.addEventListener("orientationchange",(K=d.Lib.jeashGetStage(),A(K,K.jeashQueueStageEvent)),!0);o=0;for(e=d.Lib.HTML_WINDOW_EVENT_TYPES;o<e.length;)g=e[o],++o,h.addEventListener(g,(K=d.Lib.jeashGetStage(),A(K,K.jeashQueueStageEvent)),!1);d.Lib.jeashGetStage().jeashSetBackgroundColour(null!=a.style.backgroundColor&&
""!=a.style.backgroundColor?d.Lib.jeashParseColor(a.style.backgroundColor,function(a,c,b){var d;switch(c){case 0:d=a|b<<16;break;case 1:d=a|b<<8;break;case 2:d=a|b}return d}):16777215);d.Lib.jeashGetCurrent().jeashGetGraphics().beginFill(d.Lib.jeashGetStage().jeashGetBackgroundColour());d.Lib.jeashGetCurrent().jeashGetGraphics().drawRect(0,0,c,b);d.Lib.jeashSetSurfaceId(d.Lib.jeashGetCurrent().jeashGetGraphics().jeashSurface,"Root MovieClip");d.Lib.jeashGetStage().jeashUpdateNextWake();try{for(var i=
h.winParameters(),o=0,e=w.fields(i);o<e.length;){var j=e[o];++o;d.Lib.jeashGetCurrent().loaderInfo.parameters[j]=w.field(i,j)}}catch(k){}return d.Lib.mMe};d.Lib.jeashParseColor=function(a,c){var b=new L("rgb\\(([0-9]*), ?([0-9]*), ?([0-9]*)\\)",""),d=new L("#([0-9a-zA-Z][0-9a-zA-Z])([0-9a-zA-Z][0-9a-zA-Z])([0-9a-zA-Z][0-9a-zA-Z])","");if(b.match(a)){for(var e=0,g=1;4>g;)var h=g++,i=m.parseInt(b.matched(h)),e=c(e,h-1,i);return e}if(d.match(a)){e=0;for(g=1;4>g;)h=g++,i="0x"+d.matched(h)&255,c(e,h-1,
i);return e}throw"Cannot parse color '"+a+"'.";};d.Lib.jeashGetWidth=function(){var a=null!=d.Lib.mMe?d.Lib.mMe.__scr:n.Lib.document.getElementById("haxe:jeash");return 0<a.clientWidth?a.clientWidth:500};d.Lib.jeashGetHeight=function(){var a=null!=d.Lib.mMe?d.Lib.mMe.__scr:n.Lib.document.getElementById("haxe:jeash");return 0<a.clientHeight?a.clientHeight:500};d.Lib.jeashBootstrap=function(){if(null==d.Lib.mMe){var a=n.Lib.document.getElementById("haxe:jeash");-1<navigator.userAgent.indexOf("BlackBerry")&&
"100%"==a.style.height&&(a.style.height=screen.height+"px");d.Lib.Run(a,d.Lib.jeashGetWidth(),d.Lib.jeashGetHeight())}};d.Lib.prototype={mArgs:null,__scr:null,mKilled:null,__class__:d.Lib};var n={Lib:function(){}};l["js.Lib"]=n.Lib;n.Lib.__name__=["js","Lib"];n.Lib.document=null;n.Lib.window=null;n.Lib.debug=function(){debugger};n.Lib.alert=function(a){alert(n.Boot.__string_rec(a,""))};n.Lib.eval=function(a){return eval(a)};n.Lib.setErrorHandler=function(a){n.Lib.onerror=a};d.events.Event=function(a,
c,b){null==b&&(b=!1);null==c&&(c=!1);this.type=a;this.bubbles=c;this.cancelable=b;this.jeashIsCancelledNow=this.jeashIsCancelled=!1;this.currentTarget=this.target=null;this.eventPhase=d.events.EventPhase.AT_TARGET};l["jeash.events.Event"]=d.events.Event;d.events.Event.__name__=["jeash","events","Event"];d.events.Event.prototype={jeashCreateSimilar:function(a,c,b){a=new d.events.Event(a,this.bubbles,this.cancelable);null!=b&&(a.target=b);return a},toString:function(){return"Event"},stopPropagation:function(){this.jeashIsCancelled=
!0},stopImmediatePropagation:function(){this.jeashIsCancelledNow=this.jeashIsCancelled=!0},clone:function(){return new d.events.Event(this.type,this.bubbles,this.cancelable)},jeashGetIsCancelledNow:function(){return this.jeashIsCancelledNow},jeashGetIsCancelled:function(){return this.jeashIsCancelled},jeashSetPhase:function(a){this.eventPhase=a},jeashIsCancelledNow:null,jeashIsCancelled:null,type:null,currentTarget:null,target:null,eventPhase:null,cancelable:null,bubbles:null,__class__:d.events.Event};
d.events.MouseEvent=function(a,c,b,e,o,g,h,i,j,k,l,m,n){null==n&&(n=0);null==m&&(m=!1);null==l&&(l=0);null==k&&(k=!1);null==j&&(j=!1);null==i&&(i=!1);null==h&&(h=!1);null==o&&(o=0);null==e&&(e=0);null==b&&(b=!1);null==c&&(c=!0);d.events.Event.call(this,a,c,b);this.shiftKey=j;this.altKey=i;this.ctrlKey=h;this.bubbles=c;this.relatedObject=g;this.delta=l;this.localX=e;this.localY=o;this.buttonDown=k;this.commandKey=m;this.clickCount=n};l["jeash.events.MouseEvent"]=d.events.MouseEvent;d.events.MouseEvent.__name__=
["jeash","events","MouseEvent"];d.events.MouseEvent.jeashCreate=function(a,c,b,e){var o=!1,g=a==d.events.MouseEvent.MOUSE_WHEEL?c.wheelDelta?c.wheelDelta/120|0:c.detail?-c.detail|0:null:2;a==d.events.MouseEvent.MOUSE_DOWN?o=null!=c.which?1==c.which:null!=c.button?0==c.button:!1:a==d.events.MouseEvent.MOUSE_UP&&null!=c.which&&(1==c.which?o=!1:null!=c.button&&(o=!1));a=new d.events.MouseEvent(a,!0,!1,b.x,b.y,null,c.ctrlKey,c.altKey,c.shiftKey,o,g);a.stageX=d.Lib.jeashGetCurrent().getStage().jeashGetMouseX();
a.stageY=d.Lib.jeashGetCurrent().getStage().jeashGetMouseY();a.target=e;return a};d.events.MouseEvent.__super__=d.events.Event;d.events.MouseEvent.prototype=t(d.events.Event.prototype,{updateAfterEvent:function(){},jeashCreateSimilar:function(a,c,b){a=new d.events.MouseEvent(a,this.bubbles,this.cancelable,this.localX,this.localY,null==c?this.relatedObject:c,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);null!=b&&(a.target=b);return a},clickCount:null,
commandKey:null,stageY:null,stageX:null,shiftKey:null,relatedObject:null,localY:null,localX:null,delta:null,ctrlKey:null,buttonDown:null,altKey:null,__class__:d.events.MouseEvent});d.events.TouchEvent=function(a,c,b,e,o,g,h,i,j,k,l,m){null==m&&(m=!1);null==l&&(l=0);null==k&&(k=!1);null==j&&(j=!1);null==i&&(i=!1);null==h&&(h=!1);null==o&&(o=0);null==e&&(e=0);null==b&&(b=!1);null==c&&(c=!0);d.events.Event.call(this,a,c,b);this.shiftKey=j;this.altKey=i;this.ctrlKey=h;this.bubbles=c;this.relatedObject=
g;this.delta=l;this.localX=e;this.localY=o;this.buttonDown=k;this.commandKey=m;this.touchPointID=0;this.isPrimaryTouchPoint=!0};l["jeash.events.TouchEvent"]=d.events.TouchEvent;d.events.TouchEvent.__name__=["jeash","events","TouchEvent"];d.events.TouchEvent.jeashCreate=function(a,c,b,e,o){a=new d.events.TouchEvent(a,!0,!1,e.x,e.y,null,c.ctrlKey,c.altKey,c.shiftKey,!1,0,null,0);a.stageX=d.Lib.jeashGetCurrent().getStage().jeashGetMouseX();a.stageY=d.Lib.jeashGetCurrent().getStage().jeashGetMouseY();
a.target=o;return a};d.events.TouchEvent.__super__=d.events.Event;d.events.TouchEvent.prototype=t(d.events.Event.prototype,{jeashCreateSimilar:function(a,c,b){a=new d.events.TouchEvent(a,this.bubbles,this.cancelable,this.localX,this.localY,null==c?this.relatedObject:c,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey);a.touchPointID=this.touchPointID;a.isPrimaryTouchPoint=this.isPrimaryTouchPoint;null!=b&&(a.target=b);return a},touchPointID:null,isPrimaryTouchPoint:null,
commandKey:null,stageY:null,stageX:null,shiftKey:null,relatedObject:null,localY:null,localX:null,delta:null,ctrlKey:null,buttonDown:null,altKey:null,__class__:d.events.TouchEvent});d.display.Stage=function(a,c){d.display.DisplayObjectContainer.call(this);this.jeashFocusObject=null;this.jeashWindowWidth=a;this.jeashWindowHeight=c;this.stageFocusRect=!1;this.scaleMode=d.display.StageScaleMode.SHOW_ALL;this.jeashStageMatrix=new d.geom.Matrix;this.tabEnabled=!0;this.jeashSetFrameRate(60);this.jeashSetBackgroundColour(16777215);
this.name="Stage";this.loaderInfo=d.display.LoaderInfo.create(null);this.loaderInfo.parameters.width=m.string(this.jeashWindowWidth);this.loaderInfo.parameters.height=m.string(this.jeashWindowHeight);this.jeashPointInPathMode=d.display.Graphics.jeashDetectIsPointInPathMode();this.jeashMouseOverObjects=[];this.jeashSetShowDefaultContextMenu(!0);this.jeashTouchInfo=[];this.jeashFocusOverObjects=[];this.jeashUIEventsQueue=Array(1E3);this.jeashUIEventsQueueIndex=0};l["jeash.display.Stage"]=d.display.Stage;
d.display.Stage.__name__=["jeash","display","Stage"];d.display.Stage.getOrientation=function(){var a=d.display.Stage.OrientationPortrait;switch(window.orientation){case -90:a=d.display.Stage.OrientationLandscapeLeft;break;case 180:a=d.display.Stage.OrientationPortraitUpsideDown;break;case 90:a=d.display.Stage.OrientationLandscapeRight;break;default:a=d.display.Stage.OrientationPortrait}return a};d.display.Stage.__super__=d.display.DisplayObjectContainer;d.display.Stage.prototype=t(d.display.DisplayObjectContainer.prototype,
{jeashGetFullScreenHeight:function(){return d.Lib.jeashFullScreenHeight()},jeashGetFullScreenWidth:function(){return d.Lib.jeashFullScreenWidth()},jeashSetDisplayState:function(a){if(a!=this.displayState&&null!=this.displayState)switch(a[1]){case 1:d.Lib.jeashDisableFullScreen();break;case 0:d.Lib.jeashEnableFullScreen()}return this.displayState=a},jeashGetDisplayState:function(){return this.displayState},jeashSetShowDefaultContextMenu:function(a){a!=this.jeashShowDefaultContextMenu&&null!=this.jeashShowDefaultContextMenu&&
(a?d.Lib.jeashEnableRightClick():d.Lib.jeashDisableRightClick());return this.jeashShowDefaultContextMenu=a},jeashGetShowDefaultContextMenu:function(){return this.jeashShowDefaultContextMenu},jeashGetMouseY:function(){return this._mouseY},jeashGetMouseX:function(){return this._mouseX},jeashStageRender:function(){if(!this.jeashStageActive){this.jeashOnResize(this.jeashWindowWidth,this.jeashWindowHeight);var a=new d.events.Event(d.events.Event.ACTIVATE);a.target=this;this.jeashBroadcast(a);this.jeashStageActive=
!0}for(var a=0,c=this.jeashUIEventsQueueIndex;a<c;){var b=a++;null!=this.jeashUIEventsQueue[b]&&this.jeashProcessStageEvent(this.jeashUIEventsQueue[b])}this.jeashUIEventsQueueIndex=0;a=new d.events.Event(d.events.Event.ENTER_FRAME);this.jeashBroadcast(a);this.jeashRenderAll();a=new d.events.Event(d.events.Event.RENDER);this.jeashBroadcast(a)},jeashUpdateNextWake:function(){var a=n.Lib.window;a.clearInterval(this.jeashTimer);this.jeashTimer=a.setInterval(A(this,this.jeashStageRender),this.jeashInterval,
[])},jeashSetFrameRate:function(a){this.jeashInterval=1E3/a|0;this.jeashUpdateNextWake();return this.jeashFrameRate=a},jeashGetFrameRate:function(){return this.jeashFrameRate},jeashGetQuality:function(){return null!=this.quality?this.quality:d.display.StageQuality.BEST},jeashSetQuality:function(a){return this.quality=a},jeashRenderToCanvas:function(a){a.width=a.width;this.jeashRender(a)},jeashRenderAll:function(){this.jeashRender(null,null)},jeashGetFocus:function(){return this.jeashFocusObject},
jeashSetFocus:function(a){return this.jeashFocusObject=a},jeashSetBackgroundColour:function(a){return this.jeashBackgroundColour=a},jeashGetBackgroundColour:function(){return this.jeashBackgroundColour},jeashOnResize:function(a,c){this.jeashWindowWidth=a;this.jeashWindowHeight=c;var b=new d.events.Event(d.events.Event.RESIZE);b.target=this;this.jeashBroadcast(b)},jeashOnKey:function(a,c,b,e,o,g){a=new d.events.KeyboardEvent(c?d.events.KeyboardEvent.KEY_DOWN:d.events.KeyboardEvent.KEY_UP,!0,!1,b,a,
g||e?1:0,e,o,g);this.dispatchEvent(a)},jeashOnTouch:function(a,c,b,e,o){var g=new d.geom.Point(c.pageX-d.Lib.mMe.__scr.offsetLeft+window.pageXOffset,c.pageY-d.Lib.mMe.__scr.offsetTop+window.pageYOffset),h=this.jeashGetObjectUnderPoint(g);this._mouseX=g.x;this._mouseY=g.y;var i=[];null!=h&&h.jeashGetInteractiveObjectStack(i);if(0<i.length){i.reverse();var j=h.globalToLocal(g),a=d.events.TouchEvent.jeashCreate(b,a,c,j,h);a.touchPointID=c.identifier;a.isPrimaryTouchPoint=o;this.jeashCheckInOuts(a,i,
e);h.jeashFireEvent(a);switch(b){case d.events.TouchEvent.TOUCH_BEGIN:c=d.events.MouseEvent.MOUSE_DOWN;break;case d.events.TouchEvent.TOUCH_END:c=d.events.MouseEvent.MOUSE_UP;break;default:null!=this.jeashDragObject&&this.jeashDrag(g),c=d.events.MouseEvent.MOUSE_MOVE}h.jeashFireEvent(d.events.MouseEvent.jeashCreate(c,a,j,h))}else a=d.events.TouchEvent.jeashCreate(b,a,c,g,null),a.touchPointID=c.identifier,a.isPrimaryTouchPoint=o,this.jeashCheckInOuts(a,i,e)},jeashOnMouse:function(a,c){var b=new d.geom.Point(a.clientX-
d.Lib.mMe.__scr.offsetLeft+window.pageXOffset,a.clientY-d.Lib.mMe.__scr.offsetTop+window.pageYOffset);null!=this.jeashDragObject&&this.jeashDrag(b);var e=this.jeashGetObjectUnderPoint(b);this._mouseX=b.x;this._mouseY=b.y;var o=[];null!=e&&e.jeashGetInteractiveObjectStack(o);0<o.length?(o.reverse(),b=e.globalToLocal(b),b=d.events.MouseEvent.jeashCreate(c,a,b,e),this.jeashCheckInOuts(b,o),c==d.events.MouseEvent.MOUSE_DOWN&&this.jeashCheckFocusInOuts(b,o),e.jeashFireEvent(b)):(b=d.events.MouseEvent.jeashCreate(c,
a,b,null),this.jeashCheckInOuts(b,o),c==d.events.MouseEvent.MOUSE_DOWN&&this.jeashCheckFocusInOuts(b,o))},jeashHandleOrientationChange:function(){},jeashHandleAccelerometer:function(a){d.display.Stage.jeashAcceleration.x=a.accelerationIncludingGravity.x;d.display.Stage.jeashAcceleration.y=a.accelerationIncludingGravity.y;d.display.Stage.jeashAcceleration.z=a.accelerationIncludingGravity.z},jeashProcessStageEvent:function(a){a.stopPropagation();switch(a.type){case "resize":this.jeashOnResize(d.Lib.jeashGetWidth(),
d.Lib.jeashGetHeight());break;case "mousemove":this.jeashOnMouse(a,d.events.MouseEvent.MOUSE_MOVE);break;case "mousedown":this.jeashOnMouse(a,d.events.MouseEvent.MOUSE_DOWN);break;case "mouseup":this.jeashOnMouse(a,d.events.MouseEvent.MOUSE_UP);break;case "click":this.jeashOnMouse(a,d.events.MouseEvent.CLICK);break;case "mousewheel":this.jeashOnMouse(a,d.events.MouseEvent.MOUSE_WHEEL);break;case "dblclick":this.jeashOnMouse(a,d.events.MouseEvent.DOUBLE_CLICK);break;case "keydown":var c;if(null!=a.keyIdentifier)try{c=
d.ui.Keyboard.jeashConvertWebkitCode(a.keyIdentifier)}catch(b){c=a.keyCode}else c=d.ui.Keyboard.jeashConvertMozillaCode(a.keyCode);this.jeashOnKey(c,!0,a.keyLocation,a.ctrlKey,a.altKey,a.shiftKey);break;case "keyup":if(null!=a.keyIdentifier){var e;try{e=d.ui.Keyboard.jeashConvertWebkitCode(a.keyIdentifier)}catch(o){e=a.keyCode}c=e}else c=d.ui.Keyboard.jeashConvertMozillaCode(a.keyCode);this.jeashOnKey(c,!1,a.keyLocation,a.ctrlKey,a.altKey,a.shiftKey);break;case "touchstart":a.preventDefault();c=new d.display._Stage.TouchInfo;
this.jeashTouchInfo[a.changedTouches[0].identifier]=c;this.jeashOnTouch(a,a.changedTouches[0],d.events.TouchEvent.TOUCH_BEGIN,c,!1);break;case "touchmove":c=this.jeashTouchInfo[a.changedTouches[0].identifier];this.jeashOnTouch(a,a.changedTouches[0],d.events.TouchEvent.TOUCH_MOVE,c,!0);break;case "touchend":c=this.jeashTouchInfo[a.changedTouches[0].identifier];this.jeashOnTouch(a,a.changedTouches[0],d.events.TouchEvent.TOUCH_END,c,!0);this.jeashTouchInfo[a.changedTouches[0].identifier]=null;break;
case "devicemotion":this.jeashHandleAccelerometer(a);break;case "orientationchange":this.jeashHandleOrientationChange()}},jeashQueueStageEvent:function(a){this.jeashUIEventsQueue[this.jeashUIEventsQueueIndex++]=a},jeashCheckInOuts:function(a,c,b){var e=null==b?this.jeashMouseOverObjects:b.touchOverObjects,o=null==b?d.display.Stage.jeashMouseChanges:d.display.Stage.jeashTouchChanges,g=c.length,h=0<g?c[g-1]:null,i=e.length,j=0<i?e[i-1]:null;if(h!=j){null!=j&&j.jeashFireEvent(a.jeashCreateSimilar(o[0],
h,j));null!=h&&h.jeashFireEvent(a.jeashCreateSimilar(o[1],j,h));for(var k=0;k<g&&k<i&&c[k]==e[k];)k++;h=a.jeashCreateSimilar(o[2],h,j);for(i-=1;i>=k;)e[i].dispatchEvent(h),i--;a=a.jeashCreateSimilar(o[3],j);for(g-=1;g>=k;)c[g].dispatchEvent(a),g--;null==b?this.jeashMouseOverObjects=c:b.touchOverObjects=c}},jeashCheckFocusInOuts:function(a,c){var b=c.length,e=0<b?c[b-1]:null,o=this.jeashFocusOverObjects.length,g=0<o?this.jeashFocusOverObjects[o-1]:null;if(e!=g){for(var h=0;h<b&&h<o&&c[h]==this.jeashFocusOverObjects[h];)h++;
for(var i=new d.events.FocusEvent(d.events.FocusEvent.FOCUS_OUT,!1,!1,e,!1,0),o=o-1;o>=h;)this.jeashFocusOverObjects[o].dispatchEvent(i),o--;g=new d.events.FocusEvent(d.events.FocusEvent.FOCUS_IN,!1,!1,g,!1,0);for(b-=1;b>=h;)c[b].dispatchEvent(g),b--;this.jeashFocusOverObjects=c;this.jeashSetFocus(e)}},jeashStopDrag:function(){this.jeashDragObject=this.jeashDragBounds=null},jeashDrag:function(a){var c=this.jeashDragObject.parent;null!=c&&(a=c.globalToLocal(a));c=a.x+this.jeashDragOffsetX;a=a.y+this.jeashDragOffsetY;
null!=this.jeashDragBounds&&(c<this.jeashDragBounds.x?c=this.jeashDragBounds.x:c>this.jeashDragBounds.get_right()&&(c=this.jeashDragBounds.get_right()),a<this.jeashDragBounds.y?a=this.jeashDragBounds.y:a>this.jeashDragBounds.get_bottom()&&(a=this.jeashDragBounds.get_bottom()));this.jeashDragObject.jeashSetX(c);this.jeashDragObject.jeashSetY(a)},jeashStartDrag:function(a,c,b){null==c&&(c=!1);this.jeashDragBounds=null==b?null:b.clone();this.jeashDragObject=a;if(null!=this.jeashDragObject){var b=new d.geom.Point(this._mouseX,
this._mouseY),e=this.jeashDragObject.parent;null!=e&&(b=e.globalToLocal(b));c?(a=a.getBounds(this),this.jeashDragOffsetX=this.jeashDragObject.jeashGetX()-(a.width/2+a.x),this.jeashDragOffsetY=this.jeashDragObject.jeashGetY()-(a.height/2+a.y)):(this.jeashDragOffsetX=this.jeashDragObject.jeashGetX()-b.x,this.jeashDragOffsetY=this.jeashDragObject.jeashGetY()-b.y)}},getStage:function(){return d.Lib.jeashGetStage()},toString:function(){return"[Stage id="+this._jeashId+"]"},jeashFocusObject:null,jeashGetStageHeight:function(){return this.jeashWindowHeight},
jeashGetStageWidth:function(){return this.jeashWindowWidth},_mouseY:null,_mouseX:null,loaderInfo:null,fullScreenHeight:null,fullScreenWidth:null,displayState:null,showDefaultContextMenu:null,backgroundColor:null,focus:null,stageFocusRect:null,align:null,scaleMode:null,quality:null,frameRate:null,stageHeight:null,stageWidth:null,jeashPointInPathMode:null,jeashUIEventsQueueIndex:null,jeashUIEventsQueue:null,jeashFocusOverObjects:null,jeashTouchInfo:null,jeashShowDefaultContextMenu:null,jeashBackgroundColour:null,
jeashFrameRate:null,jeashStageActive:null,jeashStageMatrix:null,jeashMouseOverObjects:null,jeashDragOffsetY:null,jeashDragOffsetX:null,jeashDragBounds:null,jeashDragObject:null,jeashInterval:null,jeashTimer:null,jeashWindowHeight:null,jeashWindowWidth:null,__class__:d.display.Stage,__properties__:t(d.display.DisplayObjectContainer.prototype.__properties__,{get_stageWidth:"jeashGetStageWidth",get_stageHeight:"jeashGetStageHeight",set_frameRate:"jeashSetFrameRate",get_frameRate:"jeashGetFrameRate",
set_quality:"jeashSetQuality",get_quality:"jeashGetQuality",set_focus:"jeashSetFocus",get_focus:"jeashGetFocus",set_backgroundColor:"jeashSetBackgroundColour",get_backgroundColor:"jeashGetBackgroundColour",set_showDefaultContextMenu:"jeashSetShowDefaultContextMenu",get_showDefaultContextMenu:"jeashGetShowDefaultContextMenu",set_displayState:"jeashSetDisplayState",get_displayState:"jeashGetDisplayState",get_fullScreenWidth:"jeashGetFullScreenWidth",get_fullScreenHeight:"jeashGetFullScreenHeight"})});
d.display.StageScaleMode=l["jeash.display.StageScaleMode"]={__ename__:["jeash","display","StageScaleMode"],__constructs__:["SHOW_ALL","NO_SCALE","NO_BORDER","EXACT_FIT"]};d.display.StageScaleMode.SHOW_ALL=["SHOW_ALL",0];d.display.StageScaleMode.SHOW_ALL.toString=v;d.display.StageScaleMode.SHOW_ALL.__enum__=d.display.StageScaleMode;d.display.StageScaleMode.NO_SCALE=["NO_SCALE",1];d.display.StageScaleMode.NO_SCALE.toString=v;d.display.StageScaleMode.NO_SCALE.__enum__=d.display.StageScaleMode;d.display.StageScaleMode.NO_BORDER=
["NO_BORDER",2];d.display.StageScaleMode.NO_BORDER.toString=v;d.display.StageScaleMode.NO_BORDER.__enum__=d.display.StageScaleMode;d.display.StageScaleMode.EXACT_FIT=["EXACT_FIT",3];d.display.StageScaleMode.EXACT_FIT.toString=v;d.display.StageScaleMode.EXACT_FIT.__enum__=d.display.StageScaleMode;d.display.LoaderInfo=function(){d.events.EventDispatcher.call(this);this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};l["jeash.display.LoaderInfo"]=d.display.LoaderInfo;d.display.LoaderInfo.__name__=
["jeash","display","LoaderInfo"];d.display.LoaderInfo.create=function(a){var c=new d.display.LoaderInfo;null!=a&&(c.loader=a);return c};d.display.LoaderInfo.__super__=d.events.EventDispatcher;d.display.LoaderInfo.prototype=t(d.events.EventDispatcher.prototype,{width:null,url:null,sharedEvents:null,sameDomain:null,parentAllowsChild:null,parameters:null,loaderURL:null,loader:null,height:null,frameRate:null,contentType:null,content:null,childAllowsParent:null,bytesTotal:null,bytesLoaded:null,bytes:null,
__class__:d.display.LoaderInfo});n.Boot=function(){};l["js.Boot"]=n.Boot;n.Boot.__name__=["js","Boot"];n.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};n.Boot.__trace=function(a,c){var b=null!=c?c.fileName+":"+c.lineNumber+": ":"",b=b+n.Boot.__string_rec(a,""),d;"undefined"!=typeof document&&null!=(d=document.getElementById("haxe:trace"))?d.innerHTML+=n.Boot.__unhtml(b)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(b)};
n.Boot.__clear_trace=function(){var a=document.getElementById("haxe:trace");null!=a&&(a.innerHTML="")};n.Boot.isClass=function(a){return a.__name__};n.Boot.isEnum=function(a){return a.__ename__};n.Boot.getClass=function(a){return a.__class__};n.Boot.__string_rec=function(a,c){if(null==a)return"null";if(5<=c.length)return"<...>";var b=typeof a;if("function"==b&&(a.__name__||a.__ename__))b="object";switch(b){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var b=a[0]+
"(",c=c+"\t",d=2,e=a.length;d<e;)var g=d++,b=2!=g?b+(","+n.Boot.__string_rec(a[g],c)):b+n.Boot.__string_rec(a[g],c);return b+")"}d=a.length;b="[";c+="\t";for(e=0;e<d;)g=e++,b+=(0<g?",":"")+n.Boot.__string_rec(a[g],c);return b+"]"}try{e=a.toString}catch(h){return"???"}if(null!=e&&e!=Object.toString&&(b=a.toString(),"[object Object]"!=b))return b;e=null;b="{\n";c+="\t";d=null!=a.hasOwnProperty;for(e in a)if(!d||a.hasOwnProperty(e))"prototype"==e||("__class__"==e||"__super__"==e||"__interfaces__"==e||
"__properties__"==e)||(2!=b.length&&(b+=", \n"),b+=c+e+" : "+n.Boot.__string_rec(a[e],c));c=c.substring(1);return b+("\n"+c+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};n.Boot.__interfLoop=function(a,c){if(null==a)return!1;if(a==c)return!0;var b=a.__interfaces__;if(null!=b)for(var d=0,e=b.length;d<e;){var g=d++,g=b[g];if(g==c||n.Boot.__interfLoop(g,c))return!0}return n.Boot.__interfLoop(a.__super__,c)};n.Boot.__instanceof=function(a,c){try{if(a instanceof
c)return c==Array?null==a.__enum__:!0;if(n.Boot.__interfLoop(a.__class__,c))return!0}catch(b){if(null==c)return!1}switch(c){case R:return Math.ceil(a%2147483648)===a;case P:return"number"==typeof a;case Q:return!0===a||!1===a;case String:return"string"==typeof a;case T:return!0;default:if(null==a)return!1;if(c==S&&null!=a.__name__)return!0;null;if(c==U&&null!=a.__ename__)return!0;null;return a.__enum__==c}};n.Boot.__cast=function(a,c){if(n.Boot.__instanceof(a,c))return a;throw"Cannot cast "+m.string(a)+
" to "+m.string(c);};d.display.PointInPathMode=l["jeash.display.PointInPathMode"]={__ename__:["jeash","display","PointInPathMode"],__constructs__:["USER_SPACE","DEVICE_SPACE"]};d.display.PointInPathMode.USER_SPACE=["USER_SPACE",0];d.display.PointInPathMode.USER_SPACE.toString=v;d.display.PointInPathMode.USER_SPACE.__enum__=d.display.PointInPathMode;d.display.PointInPathMode.DEVICE_SPACE=["DEVICE_SPACE",1];d.display.PointInPathMode.DEVICE_SPACE.toString=v;d.display.PointInPathMode.DEVICE_SPACE.__enum__=
d.display.PointInPathMode;d.utils={};d.utils.Uuid=function(){};l["jeash.utils.Uuid"]=d.utils.Uuid;d.utils.Uuid.__name__=["jeash","utils","Uuid"];d.utils.Uuid.random=function(a){null==a&&(a=32);for(var c=new G,b=0;b<a;)b++,c.b+=m.string("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(36*Math.random()|0));return c.b};d.utils.Uuid.uuid=function(){return d.utils.Uuid.random(8)+"-"+d.utils.Uuid.random(4)+"-"+d.utils.Uuid.random(4)+"-"+d.utils.Uuid.random(4)+"-"+d.utils.Uuid.random(12)};d.geom.Transform=
function(a){if(null==a)throw"Cannot create Transform with no DisplayObject.";this._displayObject=a;this._matrix=new d.geom.Matrix;this._fullMatrix=new d.geom.Matrix;this.setColorTransform(new d.geom.ColorTransform)};l["jeash.geom.Transform"]=d.geom.Transform;d.geom.Transform.__name__=["jeash","geom","Transform"];d.geom.Transform.prototype={getPixelBounds:function(){return this._displayObject.getBounds(null)},setColorTransform:function(a){return this.colorTransform=a},jeashSetFullMatrix:function(a){this._fullMatrix.copy(a);
return this._fullMatrix},jeashGetFullMatrix:function(a){return null!=a?a.mult(this._fullMatrix):this._fullMatrix.clone()},jeashSetMatrix:function(a){this._matrix.copy(a)},setMatrix:function(a){this._matrix.copy(a);this._displayObject.jeashMatrixOverridden();return this._matrix},getMatrix:function(){return this._matrix.clone()},_displayObject:null,pixelBounds:null,colorTransform:null,matrix:null,_fullMatrix:null,_matrix:null,__class__:d.geom.Transform,__properties__:{set_matrix:"setMatrix",get_matrix:"getMatrix",
set_colorTransform:"setColorTransform",get_pixelBounds:"getPixelBounds"}};d.geom.ColorTransform=function(a,c,b,d,e,g,h,i){this.redMultiplier=null==a?1:a;this.greenMultiplier=null==c?1:c;this.blueMultiplier=null==b?1:b;this.alphaMultiplier=null==d?1:d;this.redOffset=null==e?0:e;this.greenOffset=null==g?0:g;this.blueOffset=null==h?0:h;this.alphaOffset=null==i?0:i};l["jeash.geom.ColorTransform"]=d.geom.ColorTransform;d.geom.ColorTransform.__name__=["jeash","geom","ColorTransform"];d.geom.ColorTransform.prototype=
{jeashSetColor:function(a){this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255;this.blueMultiplier=this.greenMultiplier=this.redMultiplier=0;return this.jeashGetColor()},jeashGetColor:function(){return(this.redOffset|0)<<16|(this.greenOffset|0)<<8|this.blueOffset|0},concat:function(a){this.redMultiplier+=a.redMultiplier;this.greenMultiplier+=a.greenMultiplier;this.blueMultiplier+=a.blueMultiplier;this.alphaMultiplier+=a.alphaMultiplier},redOffset:null,redMultiplier:null,greenOffset:null,
greenMultiplier:null,color:null,blueOffset:null,blueMultiplier:null,alphaOffset:null,alphaMultiplier:null,__class__:d.geom.ColorTransform,__properties__:{set_color:"jeashSetColor",get_color:"jeashGetColor"}};d.display.MovieClip=function(){d.display.Sprite.call(this);this.enabled=!0;this.mTotalFrames=this.mCurrentFrame=0;this.loaderInfo=d.display.LoaderInfo.create(null)};l["jeash.display.MovieClip"]=d.display.MovieClip;d.display.MovieClip.__name__=["jeash","display","MovieClip"];d.display.MovieClip.__super__=
d.display.Sprite;d.display.MovieClip.prototype=t(d.display.Sprite.prototype,{stop:function(){},play:function(){},gotoAndStop:function(){},gotoAndPlay:function(){},toString:function(){return"[MovieClip name="+this.name+" id="+this._jeashId+"]"},GetCurrentFrame:function(){return this.mCurrentFrame},GetTotalFrames:function(){return this.mTotalFrames},mTotalFrames:null,mCurrentFrame:null,totalFrames:null,framesLoaded:null,currentFrame:null,enabled:null,loaderInfo:null,__class__:d.display.MovieClip,__properties__:t(d.display.Sprite.prototype.__properties__,
{get_currentFrame:"GetCurrentFrame",get_framesLoaded:"GetTotalFrames",get_totalFrames:"GetTotalFrames"})});b.stencyl.utils.Utils=function(){};l["com.stencyl.utils.Utils"]=b.stencyl.utils.Utils;b.stencyl.utils.Utils.__name__=["com","stencyl","utils","Utils"];b.stencyl.utils.Utils.__properties__={set_time:"setTime",get_random:"getRandom",set_randomSeed:"setRandomSeed",get_randomSeed:"getRandomSeed",set_pan:"setPan",get_pan:"getPan",set_volume:"setVolume",get_volume:"getVolume"};b.stencyl.utils.Utils.width=
null;b.stencyl.utils.Utils.height=null;b.stencyl.utils.Utils.elapsed=null;b.stencyl.utils.Utils.bounds=null;b.stencyl.utils.Utils.toBoolean=function(a){return"true"==a?!0:!1};b.stencyl.utils.Utils.clear=function(a){a.length=0};b.stencyl.utils.Utils.removeValueFromArray=function(a,c){for(var b=a.length;-1<b;)a[b]==c&&a.slice(b,1),b--};b.stencyl.utils.Utils.contains=function(a,c){for(var b=a.length;-1<b;){if(a[b]==c)return!0;b--}return!1};b.stencyl.utils.Utils.removeAllChildren=function(a){for(;0<a.jeashChildren.length;){var c=
a.getChildAt(0);n.Boot.__instanceof(c,d.display.DisplayObjectContainer)&&b.stencyl.utils.Utils.removeAllChildren(n.Boot.__cast(c,d.display.DisplayObjectContainer));a.removeChild(c)}};b.stencyl.utils.Utils.demouse=function(a){for(var c=0,f=a.jeashChildren.length;c<f;){var e=c++,e=a.getChildAt(e);n.Boot.__instanceof(e,d.display.DisplayObjectContainer)&&b.stencyl.utils.Utils.demouse(n.Boot.__cast(e,d.display.DisplayObjectContainer));a.mouseChildren=!1;a.mouseEnabled=!1}};b.stencyl.utils.Utils.setCamera=
function(a,c){null==c&&(c=0);null==a&&(a=0);b.stencyl.utils.Utils.camera.x=a;b.stencyl.utils.Utils.camera.y=c};b.stencyl.utils.Utils.resetCamera=function(){b.stencyl.utils.Utils.camera.x=b.stencyl.utils.Utils.camera.y=0};b.stencyl.utils.Utils.volume=null;b.stencyl.utils.Utils.getVolume=function(){return b.stencyl.utils.Utils._volume};b.stencyl.utils.Utils.setVolume=function(a){0>a&&(a=0);if(b.stencyl.utils.Utils._volume==a)return a;b.stencyl.utils.Utils._soundTransform.volume=b.stencyl.utils.Utils._volume=
a;return b.stencyl.utils.Utils._volume};b.stencyl.utils.Utils.pan=null;b.stencyl.utils.Utils.getPan=function(){return b.stencyl.utils.Utils._pan};b.stencyl.utils.Utils.setPan=function(a){-1>a&&(a=-1);1<a&&(a=1);if(b.stencyl.utils.Utils._pan==a)return a;b.stencyl.utils.Utils._soundTransform.pan=b.stencyl.utils.Utils._pan=a;return b.stencyl.utils.Utils._pan};b.stencyl.utils.Utils.choose=function(a){b.stencyl.utils.Utils._seed=16807*b.stencyl.utils.Utils._seed%2147483647|0;return a[b.stencyl.utils.Utils._seed/
2147483647*a.length|0]};b.stencyl.utils.Utils.sign=function(a){return 0>a?-1:0<a?1:0};b.stencyl.utils.Utils.approach=function(a,c,b){return a<c?c<a+b?c:a+b:c>a-b?c:a-b};b.stencyl.utils.Utils.lerp=function(a,c,b){null==b&&(b=1);return a+(c-a)*b};b.stencyl.utils.Utils.colorLerp=function(a,c,b){null==b&&(b=1);if(0>=b)return a;if(1<=b)return c;var d=a>>24&255,e=a>>16&255,g=a>>8&255,a=a&255;return d+(((c>>24&255)-d)*b|0)<<24|e+(((c>>16&255)-e)*b|0)<<16|g+(((c>>8&255)-g)*b|0)<<8|a+(((c&255)-a)*b|0)};b.stencyl.utils.Utils.stepTowards=
function(a,c,d,e){null==e&&(e=1);b.stencyl.utils.Utils.point.x=c-a.x;b.stencyl.utils.Utils.point.y=d-a.y;b.stencyl.utils.Utils.point.get_length()<=e?(a.x=c,a.y=d):(b.stencyl.utils.Utils.point.normalize(e),a.x+=b.stencyl.utils.Utils.point.x,a.y+=b.stencyl.utils.Utils.point.y)};b.stencyl.utils.Utils.anchorTo=function(a,c,d){null==d&&(d=0);b.stencyl.utils.Utils.point.x=a.x-c.x;b.stencyl.utils.Utils.point.y=a.y-c.y;b.stencyl.utils.Utils.point.get_length()>d&&b.stencyl.utils.Utils.point.normalize(d);a.x=
c.x+b.stencyl.utils.Utils.point.x;a.y=c.y+b.stencyl.utils.Utils.point.y};b.stencyl.utils.Utils.angle=function(a,c,b,d){a=Math.atan2(d-c,b-a)*(180/Math.PI);return 0>a?a+360:a};b.stencyl.utils.Utils.angleXY=function(a,c,b,d,e){null==e&&(e=0);null==d&&(d=0);null==b&&(b=1);c*=Math.PI/180;a.x=Math.cos(c)*b+d;a.y=Math.sin(c)*b+e};b.stencyl.utils.Utils.rotateAround=function(a,c,d,e){null==e&&(e=!0);null==d&&(d=0);e&&(d+=b.stencyl.utils.Utils.angle(c.x,c.y,a.x,a.y));b.stencyl.utils.Utils.angleXY(a,d,b.stencyl.utils.Utils.distance(c.x,
c.y,a.x,a.y),c.x,c.y)};b.stencyl.utils.Utils.distance=function(a,c,b,d){null==d&&(d=0);null==b&&(b=0);return Math.sqrt((b-a)*(b-a)+(d-c)*(d-c))};b.stencyl.utils.Utils.distanceSquared=function(a,c,b,d){null==d&&(d=0);null==b&&(b=0);return(b-a)*(b-a)+(d-c)*(d-c)};b.stencyl.utils.Utils.distanceRects=function(a,c,d,e,o,g,h,i){return a<o+h&&o<a+d?c<g+i&&g<c+e?0:c>g?c-(g+i):g-(c+e):c<g+i&&g<c+e?a>o?a-(o+h):o-(a+d):a>o?c>g?b.stencyl.utils.Utils.distance(a,c,o+h,g+i):b.stencyl.utils.Utils.distance(a,c+e,
o+h,g):c>g?b.stencyl.utils.Utils.distance(a+d,c,o,g+i):b.stencyl.utils.Utils.distance(a+d,c+e,o,g)};b.stencyl.utils.Utils.distanceRectPoint=function(a,c,d,e,o,g){return a>=d&&a<=d+o?c>=e&&c<=e+g?0:c>e?c-(e+g):e-c:c>=e&&c<=e+g?a>d?a-(d+o):d-a:a>d?c>e?b.stencyl.utils.Utils.distance(a,c,d+o,e+g):b.stencyl.utils.Utils.distance(a,c,d+o,e):c>e?b.stencyl.utils.Utils.distance(a,c,d,e+g):Math.sqrt((d-a)*(d-a)+(e-c)*(e-c))};b.stencyl.utils.Utils.clamp=function(a,c,b){if(b>c)return a=a<b?a:b,a>c?a:c;a=a<c?a:
c;return a>b?a:b};b.stencyl.utils.Utils.clampInRect=function(a,c,d,e,o,g){null==g&&(g=0);a.x=b.stencyl.utils.Utils.clamp(a.x,c+g,c+e-g);a.y=b.stencyl.utils.Utils.clamp(a.y,d+g,d+o-g)};b.stencyl.utils.Utils.scale=function(a,c,b,d,e){return d+(a-c)/(b-c)*(e-d)};b.stencyl.utils.Utils.scaleClamp=function(a,c,b,d,e){a=d+(a-c)/(b-c)*(e-d);if(e>d)return a=a<e?a:e,a>d?a:d;a=a<d?a:d;return a>e?a:e};b.stencyl.utils.Utils.randomSeed=null;b.stencyl.utils.Utils.getRandomSeed=function(){return b.stencyl.utils.Utils._getSeed};
b.stencyl.utils.Utils.setRandomSeed=function(a){b.stencyl.utils.Utils._seed=b.stencyl.utils.Utils.clamp(a,1,2147483646)|0;return b.stencyl.utils.Utils._getSeed=b.stencyl.utils.Utils._seed};b.stencyl.utils.Utils.randomizeSeed=function(){b.stencyl.utils.Utils._seed=b.stencyl.utils.Utils.clamp(2147483647*Math.random()|0,1,2147483646)|0;b.stencyl.utils.Utils._getSeed=b.stencyl.utils.Utils._seed;b.stencyl.utils.Utils._seed};b.stencyl.utils.Utils.random=null;b.stencyl.utils.Utils.getRandom=function(){b.stencyl.utils.Utils._seed=
16807*b.stencyl.utils.Utils._seed%2147483647|0;return b.stencyl.utils.Utils._seed/2147483647};b.stencyl.utils.Utils.rand=function(a){b.stencyl.utils.Utils._seed=16807*b.stencyl.utils.Utils._seed%2147483647|0;return b.stencyl.utils.Utils._seed/2147483647*a|0};b.stencyl.utils.Utils.indexOf=function(a,c){for(var b=0,d=0;d<a.length;){var e=a[d];++d;if(c==e)return b;b++}return-1};b.stencyl.utils.Utils.next=function(a,c,d){null==d&&(d=!0);return d?c[(b.stencyl.utils.Utils.indexOf(c,a)+1)%c.length]:c[Math.max(b.stencyl.utils.Utils.indexOf(c,
a)+1,c.length-1)|0]};b.stencyl.utils.Utils.prev=function(a,c,d){null==d&&(d=!0);return d?c[(b.stencyl.utils.Utils.indexOf(c,a)-1+c.length)%c.length]:c[Math.max(b.stencyl.utils.Utils.indexOf(c,a)-1,0)|0]};b.stencyl.utils.Utils.swap=function(a,c,b){return a==c?b:c};b.stencyl.utils.Utils.getColorRGB=function(a,c,b){null==b&&(b=0);null==c&&(c=0);null==a&&(a=0);return a<<16|c<<8|b};b.stencyl.utils.Utils.getRed=function(a){return a>>16&255};b.stencyl.utils.Utils.getGreen=function(a){return a>>8&255};b.stencyl.utils.Utils.getBlue=
function(a){return a&255};b.stencyl.utils.Utils.convertColor=function(a){return a};b.stencyl.utils.Utils.timeFlag=function(){var a=k.Timer.stamp(),c=a-b.stencyl.utils.Utils._time;b.stencyl.utils.Utils._time=a;return c};b.stencyl.utils.Utils.frames=function(a,c,b){null==b&&(b=0);var d=[];b++;if(a<c)for(;a<=c;)d.push(a),a+=b;else for(;a>=c;)d.push(a),a-=b;return d};b.stencyl.utils.Utils.shuffle=function(a){if(n.Boot.__instanceof(a,Array))for(var c=a.length,d,e;0<--c;){e=a[c];d=a;var o=c,g=a,h=void 0;
b.stencyl.utils.Utils._seed=16807*b.stencyl.utils.Utils._seed%2147483647|0;h=b.stencyl.utils.Utils._seed/2147483647*(c+1)|0;d[o]=g[d=h];a[d]=e}};b.stencyl.utils.Utils.time=null;b.stencyl.utils.Utils.setTime=function(a){b.stencyl.utils.Utils._time=a;return b.stencyl.utils.Utils._time};b.stencyl.utils.Utils._time=null;b.stencyl.utils.Utils._updateTime=null;b.stencyl.utils.Utils._renderTime=null;b.stencyl.utils.Utils._gameTime=null;b.stencyl.utils.Utils._flashTime=null;b.stencyl.utils.Utils._getSeed=
null;b.stencyl.utils.Utils.stage=null;k.Int32=function(){};l["haxe.Int32"]=k.Int32;k.Int32.__name__=["haxe","Int32"];k.Int32.make=function(a,c){return a<<16|c};k.Int32.ofInt=function(a){return a|0};k.Int32.clamp=function(a){return a|0};k.Int32.toInt=function(a){if((a>>30&1)!=a>>>31)throw"Overflow "+m.string(a);return a};k.Int32.toNativeInt=function(a){return a};k.Int32.add=function(a,c){return a+c|0};k.Int32.sub=function(a,c){return a-c|0};k.Int32.mul=function(a,c){return a*(c&65535)+(a*(c>>>16)<<
16|0)|0};k.Int32.div=function(a,c){return a/c|0};k.Int32.mod=function(a,c){return a%c};k.Int32.shl=function(a,c){return a<<c};k.Int32.shr=function(a,c){return a>>c};k.Int32.ushr=function(a,c){return a>>>c};k.Int32.and=function(a,c){return a&c};k.Int32.or=function(a,c){return a|c};k.Int32.xor=function(a,c){return a^c};k.Int32.neg=function(a){return-a};k.Int32.isNeg=function(a){return 0>a};k.Int32.isZero=function(a){return 0==a};k.Int32.complement=function(a){return~a};k.Int32.compare=function(a,c){return a-
c};k.Int32.ucompare=function(a,c){return 0>a?0>c?~c-~a:1:0>c?-1:a-c};k.Log=function(){};l["haxe.Log"]=k.Log;k.Log.__name__=["haxe","Log"];k.Log.trace=function(a,c){n.Boot.__trace(a,c)};k.Log.clear=function(){n.Boot.__clear_trace()};k.Resource=function(){};l["haxe.Resource"]=k.Resource;k.Resource.__name__=["haxe","Resource"];k.Resource.content=null;k.Resource.listNames=function(){for(var a=[],c=0,b=k.Resource.content;c<b.length;){var d=b[c];++c;a.push(d.name)}return a};k.Resource.getString=function(a){for(var c=
0,b=k.Resource.content;c<b.length;){var d=b[c];++c;if(d.name==a)return null!=d.str?d.str:k.Unserializer.run(d.data).toString()}return null};k.Resource.getBytes=function(a){for(var c=0,b=k.Resource.content;c<b.length;){var d=b[c];++c;if(d.name==a)return null!=d.str?k.io.Bytes.ofString(d.str):k.Unserializer.run(d.data)}return null};k.Serializer=function(){this.buf=new G;this.cache=[];this.useCache=k.Serializer.USE_CACHE;this.useEnumIndex=k.Serializer.USE_ENUM_INDEX;this.shash=new F;this.scount=0};l["haxe.Serializer"]=
k.Serializer;k.Serializer.__name__=["haxe","Serializer"];k.Serializer.run=function(a){var c=new k.Serializer;c.serialize(a);return c.toString()};k.Serializer.prototype={serializeException:function(a){this.buf.b+=m.string("x");this.serialize(a)},serialize:function(a){var c=C["typeof"](a);switch(c[1]){case 0:this.buf.b+=m.string("n");break;case 1:if(0==a){this.buf.b+=m.string("z");break}this.buf.b+=m.string("i");this.buf.b+=m.string(a);break;case 2:Math.isNaN(a)?this.buf.b+=m.string("k"):Math.isFinite(a)?
(this.buf.b+=m.string("d"),this.buf.b+=m.string(a)):this.buf.b+=m.string(0>a?"m":"p");break;case 3:this.buf.b+=m.string(a?"t":"f");break;case 6:c=c[2];if(c==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(c){case Array:var b=0;this.buf.b+=m.string("a");for(var d=a.length,e=0;e<d;)c=e++,null==a[c]?b++:(0<b&&(1==b?this.buf.b+=m.string("n"):(this.buf.b+=m.string("u"),this.buf.b+=m.string(b)),b=0),this.serialize(a[c]));0<b&&(1==b?this.buf.b+=m.string("n"):(this.buf.b+=
m.string("u"),this.buf.b+=m.string(b)));this.buf.b+=m.string("h");break;case H:this.buf.b+=m.string("l");for(a=a.iterator();a.hasNext();)c=a.next(),this.serialize(c);this.buf.b+=m.string("h");break;case Date:this.buf.b+=m.string("v");this.buf.b+=m.string(x.dateStr(a));break;case F:this.buf.b+=m.string("b");for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+=m.string("h");break;case B:this.buf.b+=m.string("q");for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=
m.string(":"),this.buf.b+=m.string(c),this.serialize(a.get(c));this.buf.b+=m.string("h");break;case k.io.Bytes:c=0;b=a.length-2;d=new G;for(e=k.Serializer.BASE64;c<b;){var g=a.b[c++],h=a.b[c++],i=a.b[c++];d.b+=m.string(e.charAt(g>>2));d.b+=m.string(e.charAt((g<<4|h>>4)&63));d.b+=m.string(e.charAt((h<<2|i>>6)&63));d.b+=m.string(e.charAt(i&63))}c==b?(g=a.b[c++],h=a.b[c++],d.b+=m.string(e.charAt(g>>2)),d.b+=m.string(e.charAt((g<<4|h>>4)&63)),d.b+=m.string(e.charAt(h<<2&63))):c==b+1&&(g=a.b[c++],d.b+=
m.string(e.charAt(g>>2)),d.b+=m.string(e.charAt(g<<4&63)));c=d.b;this.buf.b+=m.string("s");this.buf.b+=m.string(c.length);this.buf.b+=m.string(":");this.buf.b+=m.string(c);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+=m.string("C"),this.serializeString(C.getClassName(c)),this.cache.push(a),a.hxSerialize(this),this.buf.b+=m.string("g")):(this.buf.b+=m.string("c"),this.serializeString(C.getClassName(c)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;
this.buf.b+=m.string("o");this.serializeFields(a);break;case 7:c=c[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=m.string(this.useEnumIndex?"j":"w");this.serializeString(C.getEnumName(c));this.useEnumIndex?(this.buf.b+=m.string(":"),this.buf.b+=m.string(a[1])):this.serializeString(a[0]);this.buf.b+=m.string(":");d=a.length;this.buf.b+=m.string(d-2);for(e=2;e<d;)c=e++,this.serialize(a[c]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+
m.string(a);}},serializeFields:function(a){for(var c=0,b=w.fields(a);c<b.length;){var d=b[c];++c;this.serializeString(d);this.serialize(w.field(a,d))}this.buf.b+=m.string("g")},serializeRef:function(a){for(var c=typeof a,b=0,d=this.cache.length;b<d;){var e=b++,g=this.cache[e];if(typeof g==c&&g==a)return this.buf.b+=m.string("r"),this.buf.b+=m.string(e),!0}this.cache.push(a);return!1},serializeString:function(a){var c=this.shash.get(a);null!=c?(this.buf.b+=m.string("R"),this.buf.b+=m.string(c)):(this.shash.set(a,
this.scount++),this.buf.b+=m.string("y"),a=E.urlEncode(a),this.buf.b+=m.string(a.length),this.buf.b+=m.string(":"),this.buf.b+=m.string(a))},toString:function(){return this.buf.b},useEnumIndex:null,useCache:null,scount:null,shash:null,cache:null,buf:null,__class__:k.Serializer};k.StackItem=l["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","Lambda"]};k.StackItem.CFunction=["CFunction",0];k.StackItem.CFunction.toString=v;k.StackItem.CFunction.__enum__=
k.StackItem;k.StackItem.Module=function(a){a=["Module",1,a];a.__enum__=k.StackItem;a.toString=v;return a};k.StackItem.FilePos=function(a,c,b){a=["FilePos",2,a,c,b];a.__enum__=k.StackItem;a.toString=v;return a};k.StackItem.Method=function(a,c){var b=["Method",3,a,c];b.__enum__=k.StackItem;b.toString=v;return b};k.StackItem.Lambda=function(a){a=["Lambda",4,a];a.__enum__=k.StackItem;a.toString=v;return a};k.Stack=function(){};l["haxe.Stack"]=k.Stack;k.Stack.__name__=["haxe","Stack"];k.Stack.callStack=
function(){var a=Error.prepareStackTrace;Error.prepareStackTrace=function(a,c){for(var b=[],d=0;d<c.length;){var e=c[d];++d;var i=null,j=e.getFunctionName();if(null!=j){var l=j.lastIndexOf(".");0<=l&&(i=x.substr(j,0,l),j=x.substr(j,l+1,null),i=k.StackItem.Method(i,j))}b.push(k.StackItem.FilePos(i,e.getFileName(),e.getLineNumber()))}return b};var c=k.Stack.makeStack(Error().stack);c.shift();Error.prepareStackTrace=a;return c};k.Stack.exceptionStack=function(){return[]};k.Stack.toString=function(a){for(var c=
new G,b=0;b<a.length;){var d=a[b];++b;c.b+=m.string("\nCalled from ");k.Stack.itemToString(c,d)}return c.b};k.Stack.itemToString=function(a,c){switch(c[1]){case 0:a.b+=m.string("a C function");break;case 1:var b=c[2];a.b+=m.string("module ");a.b+=m.string(b);break;case 2:var b=c[4],d=c[3],e=c[2];null!=e&&(k.Stack.itemToString(a,e),a.b+=m.string(" ("));a.b+=m.string(d);a.b+=m.string(" line ");a.b+=m.string(b);null!=e&&(a.b+=m.string(")"));break;case 3:b=c[3];a.b+=m.string(c[2]);a.b+=m.string(".");
a.b+=m.string(b);break;case 4:b=c[2],a.b+=m.string("local function #"),a.b+=m.string(b)}};k.Stack.makeStack=function(a){if("string"==typeof a){for(var a=a.split("\n"),c=[],b=0;b<a.length;){var d=a[b];++b;c.push(k.StackItem.Module(d))}return c}return a};k._Template={};k._Template.TemplateExpr=l["haxe._Template.TemplateExpr"]={__ename__:["haxe","_Template","TemplateExpr"],__constructs__:"OpVar OpExpr OpIf OpStr OpBlock OpForeach OpMacro".split(" ")};k._Template.TemplateExpr.OpVar=function(a){a=["OpVar",
0,a];a.__enum__=k._Template.TemplateExpr;a.toString=v;return a};k._Template.TemplateExpr.OpExpr=function(a){a=["OpExpr",1,a];a.__enum__=k._Template.TemplateExpr;a.toString=v;return a};k._Template.TemplateExpr.OpIf=function(a,c,b){a=["OpIf",2,a,c,b];a.__enum__=k._Template.TemplateExpr;a.toString=v;return a};k._Template.TemplateExpr.OpStr=function(a){a=["OpStr",3,a];a.__enum__=k._Template.TemplateExpr;a.toString=v;return a};k._Template.TemplateExpr.OpBlock=function(a){a=["OpBlock",4,a];a.__enum__=k._Template.TemplateExpr;
a.toString=v;return a};k._Template.TemplateExpr.OpForeach=function(a,c){var b=["OpForeach",5,a,c];b.__enum__=k._Template.TemplateExpr;b.toString=v;return b};k._Template.TemplateExpr.OpMacro=function(a,c){var b=["OpMacro",6,a,c];b.__enum__=k._Template.TemplateExpr;b.toString=v;return b};k.Template=function(a){a=this.parseTokens(a);this.expr=this.parseBlock(a);if(!a.isEmpty())throw"Unexpected '"+m.string(a.first().s)+"'";};l["haxe.Template"]=k.Template;k.Template.__name__=["haxe","Template"];k.Template.prototype=
{run:function(a){var c=a;switch(c[1]){case 0:a=c[2];this.buf.b+=m.string(m.string(this.resolve(a)));break;case 1:a=c[2];this.buf.b+=m.string(m.string(a()));break;case 2:var b=c[4],d=c[3],a=c[2],a=a();null==a||!1==a?null!=b&&this.run(b):this.run(d);break;case 3:this.buf.b+=m.string(c[2]);break;case 4:for(c=c[2].iterator();c.hasNext();)a=c.next(),this.run(a);break;case 5:b=c[3];a=c[2];a=a();try{d=I(a)();if(null==d.hasNext)throw null;a=d}catch(e){try{if(null==a.hasNext)throw null;}catch(g){throw"Cannot iter on "+
m.string(a);}}this.stack.push(this.context);for(c=a;c.hasNext();)this.context=c.next(),this.run(b);this.context=this.stack.pop();break;case 6:var h=c[3],d=c[2],a=w.field(this.macros,d),i=[],j=this.buf;i.push(A(this,this.resolve));for(h=h.iterator();h.hasNext();){var k=h.next(),c=k;switch(c[1]){case 0:c=c[2];i.push(this.resolve(c));break;default:this.buf=new G,this.run(k),i.push(this.buf.b)}}this.buf=j;try{this.buf.b+=m.string(m.string(a.apply(this.macros,i)))}catch(l){try{b=i.join(",")}catch(n){b=
"???"}throw"Macro call "+d+"("+b+") failed ("+m.string(l)+")";}}},makeExpr2:function(a){var c=a.pop();if(null==c)throw"<eof>";if(c.s)return this.makeConst(c.p);switch(c.p){case "(":var b=this.makeExpr(a),c=a.pop();if(null==c||c.s)break;if(")"==c.p)return b;var d=this.makeExpr(a),a=a.pop();if(null==a||")"!=a.p)throw a.p;switch(c.p){case "+":a=function(){return b()+d()};break;case "-":a=function(){return b()-d()};break;case "*":a=function(){return b()*d()};break;case "/":a=function(){return b()/d()};
break;case ">":a=function(){return b()>d()};break;case "<":a=function(){return b()<d()};break;case ">=":a=function(){return b()>=d()};break;case "<=":a=function(){return b()<=d()};break;case "==":a=function(){return b()==d()};break;case "!=":a=function(){return b()!=d()};break;case "&&":a=function(){return b()&&d()};break;case "||":a=function(){return b()||d()};break;default:throw"Unknown operation "+c.p;}return a;case "!":var e=this.makeExpr(a);return function(){var a=e();return null==a||!1==a};
case "-":return e=this.makeExpr(a),function(){return-e()}}throw c.p;},makeExpr:function(a){return this.makePath(this.makeExpr2(a),a)},makePath:function(a,c){var b=c.first();if(null==b||"."!=b.p)return a;c.pop();b=c.pop();if(null==b||!b.s)throw b.p;var d=b.p;k.Template.expr_trim.match(d);d=k.Template.expr_trim.matched(1);return this.makePath(function(){return w.field(a(),d)},c)},makeConst:function(a){k.Template.expr_trim.match(a);a=k.Template.expr_trim.matched(1);if(34==x.cca(a,0)){var c=x.substr(a,
1,a.length-2);return function(){return c}}if(k.Template.expr_int.match(a)){var b=m.parseInt(a);return function(){return b}}if(k.Template.expr_float.match(a)){var d=m.parseFloat(a);return function(){return d}}var e=this;return function(){return e.resolve(a)}},parseExpr:function(a){for(var c=new H,b=a;k.Template.expr_splitter.match(a);){var d=k.Template.expr_splitter.matchedPos();0!=d.pos&&c.add({p:x.substr(a,0,d.pos),s:!0});a=k.Template.expr_splitter.matched(0);c.add({p:a,s:0<=a.indexOf('"')});a=k.Template.expr_splitter.matchedRight()}0!=
a.length&&c.add({p:a,s:!0});var e;try{if(e=this.makeExpr(c),!c.isEmpty())throw c.first().p;}catch(g){if(n.Boot.__instanceof(g,String))throw"Unexpected '"+g+"' in "+b;throw g;}return function(){try{return e()}catch(a){throw"Error : "+m.string(a)+" in "+b;}}},parse:function(a){var c=a.pop(),b=c.p;if(c.s)return k._Template.TemplateExpr.OpStr(b);if(null!=c.l){for(var a=new H,d=0,c=c.l;d<c.length;){var e=c[d];++d;a.add(this.parseBlock(this.parseTokens(e)))}return k._Template.TemplateExpr.OpMacro(b,a)}if("if "==
x.substr(b,0,3)){b=x.substr(b,3,b.length-3);b=this.parseExpr(b);c=this.parseBlock(a);d=a.first();if(null==d)throw"Unclosed 'if'";if("end"==d.p)a.pop(),e=null;else if("else"==d.p){if(a.pop(),e=this.parseBlock(a),d=a.pop(),null==d||"end"!=d.p)throw"Unclosed 'else'";}else d.p=x.substr(d.p,4,d.p.length-4),e=this.parse(a);return k._Template.TemplateExpr.OpIf(b,c,e)}if("foreach "==x.substr(b,0,8)){b=x.substr(b,8,b.length-8);b=this.parseExpr(b);c=this.parseBlock(a);d=a.pop();if(null==d||"end"!=d.p)throw"Unclosed 'foreach'";
return k._Template.TemplateExpr.OpForeach(b,c)}return k.Template.expr_splitter.match(b)?k._Template.TemplateExpr.OpExpr(this.parseExpr(b)):k._Template.TemplateExpr.OpVar(b)},parseBlock:function(a){for(var c=new H;;){var b=a.first();if(null==b)break;if(!b.s&&("end"==b.p||"else"==b.p||"elseif "==x.substr(b.p,0,7)))break;c.add(this.parse(a))}return 1==c.length?c.first():k._Template.TemplateExpr.OpBlock(c)},parseTokens:function(a){for(var c=new H;k.Template.splitter.match(a);){var b=k.Template.splitter.matchedPos();
0<b.pos&&c.add({p:x.substr(a,0,b.pos),s:!0,l:null});if(58==x.cca(a,b.pos))c.add({p:x.substr(a,b.pos+2,b.len-4),s:!1,l:null}),a=k.Template.splitter.matchedRight();else{for(var d=b.pos+b.len,e=1;0<e;){var g=x.cca(a,d);if(40==g)e++;else if(41==g)e--;else if(null==g)throw"Unclosed macro parenthesis";d++}b=x.substr(a,b.pos+b.len,d-(b.pos+b.len)-1).split(",");c.add({p:k.Template.splitter.matched(2),s:!1,l:b});a=x.substr(a,d,a.length-d)}}0<a.length&&c.add({p:a,s:!0,l:null});return c},resolve:function(a){if(w.hasField(this.context,
a))return w.field(this.context,a);for(var c=this.stack.iterator();c.hasNext();){var b=c.next();if(w.hasField(b,a))return w.field(b,a)}return"__current__"==a?this.context:w.field(k.Template.globals,a)},execute:function(a,c){this.macros=null==c?{}:c;this.context=a;this.stack=new H;this.buf=new G;this.run(this.expr);return this.buf.b},buf:null,stack:null,macros:null,context:null,expr:null,__class__:k.Template};k.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=
[];a=k.Unserializer.DEFAULT_RESOLVER;null==a&&(a=C,k.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};l["haxe.Unserializer"]=k.Unserializer;k.Unserializer.__name__=["haxe","Unserializer"];k.Unserializer.initCodes=function(){for(var a=[],c=0,b=k.Unserializer.BASE64.length;c<b;){var d=c++;a[k.Unserializer.BASE64.charCodeAt(d)]=d}return a};k.Unserializer.run=function(a){return(new k.Unserializer(a)).unserialize()};k.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;
case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var c=this.buf.charCodeAt(this.pos);if(43<=c&&58>c||101==c||69==c)this.pos++;else break}return m.parseFloat(x.substr(this.buf,a,this.pos-a));case 121:c=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<c)throw"Invalid string length";a=x.substr(this.buf,this.pos,c);this.pos+=c;a=E.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;
case 112:return Math.POSITIVE_INFINITY;case 97:var b=this.buf,a=[];for(this.cache.push(a);;){c=this.buf.charCodeAt(this.pos);if(104==c){this.pos++;break}117==c?(this.pos++,c=this.readDigits(),a[a.length+c-1]=null):a.push(this.unserialize())}return a;case 111:return c={},this.cache.push(c),this.unserializeObject(c),c;case 114:c=this.readDigits();if(0>c||c>=this.cache.length)throw"Invalid reference";return this.cache[c];case 82:c=this.readDigits();if(0>c||c>=this.scache.length)throw"Invalid string reference";
return this.scache[c];case 120:throw this.unserialize();case 99:c=this.unserialize();a=this.resolver.resolveClass(c);if(null==a)throw"Class not found "+c;c=C.createEmptyInstance(a);this.cache.push(c);this.unserializeObject(c);return c;case 119:c=this.unserialize();a=this.resolver.resolveEnum(c);if(null==a)throw"Enum not found "+c;c=this.unserializeEnum(a,this.unserialize());this.cache.push(c);return c;case 106:c=this.unserialize();a=this.resolver.resolveEnum(c);if(null==a)throw"Enum not found "+c;
this.pos++;var b=this.readDigits(),d=C.getEnumConstructs(a)[b];if(null==d)throw"Unknown enum index "+c+"@"+b;c=this.unserializeEnum(a,d);this.cache.push(c);return c;case 108:c=new H;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)c.add(this.unserialize());this.pos++;return c;case 98:b=new F;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),b.set(a,this.unserialize());this.pos++;return b;case 113:b=new B;this.cache.push(b);for(c=this.buf.charCodeAt(this.pos++);58==
c;)a=this.readDigits(),b.set(a,this.unserialize()),c=this.buf.charCodeAt(this.pos++);if(104!=c)throw"Invalid IntHash format";return b;case 118:return c=x.strDate(x.substr(this.buf,this.pos,19)),this.cache.push(c),this.pos+=19,c;case 115:c=this.readDigits();b=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<c)throw"Invalid bytes length";d=k.Unserializer.CODES;null==d&&(d=k.Unserializer.initCodes(),k.Unserializer.CODES=d);for(var a=this.pos,e=c&3,g=a+(c-e),h=k.io.Bytes.alloc(3*
(c>>2)+(2<=e?e-1:0)),i=0;a<g;){var j=d[b.charCodeAt(a++)],l=d[b.charCodeAt(a++)];h.b[i++]=(j<<2|l>>4)&255;j=d[b.charCodeAt(a++)];h.b[i++]=(l<<4|j>>2)&255;l=d[b.charCodeAt(a++)];h.b[i++]=(j<<6|l)&255}2<=e&&(j=d[b.charCodeAt(a++)],l=d[b.charCodeAt(a++)],h.b[i++]=(j<<2|l>>4)&255,3==e&&(j=d[b.charCodeAt(a++)],h.b[i++]=(l<<4|j>>2)&255));this.pos+=c;this.cache.push(h);return h;case 67:c=this.unserialize();a=this.resolver.resolveClass(c);if(null==a)throw"Class not found "+c;c=C.createEmptyInstance(a);this.cache.push(c);
c.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return c}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,c){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var b=this.readDigits();if(0==b)return C.createEnum(a,c);for(var d=[];0<b--;)d.push(this.unserialize());return C.createEnum(a,c,d)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==
this.buf.charCodeAt(this.pos))break;var c=this.unserialize();if(!n.Boot.__instanceof(c,String))throw"Invalid object key";var b=this.unserialize();a[c]=b}this.pos++},readDigits:function(){for(var a=0,c=!1,b=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=b)break;c=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}c&&(a*=-1);return a},get:function(a){return this.buf.charCodeAt(a)},getResolver:function(){return this.resolver},setResolver:function(a){this.resolver=
null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},resolver:null,scache:null,cache:null,length:null,pos:null,buf:null,__class__:k.Unserializer};k.io={};k.io.Bytes=function(a,c){this.length=a;this.b=c};l["haxe.io.Bytes"]=k.io.Bytes;k.io.Bytes.__name__=["haxe","io","Bytes"];k.io.Bytes.alloc=function(a){for(var c=[],b=0;b<a;)b++,c.push(0);return new k.io.Bytes(a,c)};k.io.Bytes.ofString=function(a){for(var c=[],b=0,d=a.length;b<d;){var e=b++,e=a.charCodeAt(e);127>=e?
c.push(e):(2047>=e?c.push(192|e>>6):(65535>=e?c.push(224|e>>12):(c.push(240|e>>18),c.push(128|e>>12&63)),c.push(128|e>>6&63)),c.push(128|e&63))}return new k.io.Bytes(c.length,c)};k.io.Bytes.ofData=function(a){return new k.io.Bytes(a.length,a)};k.io.Bytes.prototype={getData:function(){return this.b},toHex:function(){for(var a=new G,c=[],b=0,d=16;b<d;){var e=b++;c.push(x.cca("0123456789abcdef",e))}b=0;for(d=this.length;b<d;)e=b++,e=this.b[e],a.b+=String.fromCharCode(c[e>>4]),a.b+=String.fromCharCode(c[e&
15]);return a.b},toString:function(){return this.readString(0,this.length)},readString:function(a,c){if(0>a||0>c||a+c>this.length)throw k.io.Error.OutsideBounds;for(var b="",d=this.b,e=String.fromCharCode,g=a,h=a+c;g<h;){var i=d[g++];if(128>i){if(0==i)break;b+=e(i)}else if(224>i)b+=e((i&63)<<6|d[g++]&127);else if(240>i)var j=d[g++],b=b+e((i&31)<<12|(j&127)<<6|d[g++]&127);else var j=d[g++],l=d[g++],b=b+e((i&15)<<18|(j&127)<<12|l<<6&127|d[g++]&127)}return b},compare:function(a){for(var c=this.b,b=a.b,
d=this.length<a.length?this.length:a.length,e=0;e<d;){var g=e++;if(c[g]!=b[g])return c[g]-b[g]}return this.length-a.length},sub:function(a,c){if(0>a||0>c||a+c>this.length)throw k.io.Error.OutsideBounds;return new k.io.Bytes(c,this.b.slice(a,a+c))},blit:function(a,c,b,d){if(0>a||0>b||0>d||a+d>this.length||b+d>c.length)throw k.io.Error.OutsideBounds;var e=this.b,c=c.b;if(e==c&&a>b)for(var g=d;0<g;)g--,e[g+a]=c[g+b];else for(var h=0;h<d;)g=h++,e[g+a]=c[g+b]},set:function(a,c){this.b[a]=c&255},get:function(a){return this.b[a]},
b:null,length:null,__class__:k.io.Bytes};k.io.BytesBuffer=function(){this.b=[]};l["haxe.io.BytesBuffer"]=k.io.BytesBuffer;k.io.BytesBuffer.__name__=["haxe","io","BytesBuffer"];k.io.BytesBuffer.prototype={getBytes:function(){var a=new k.io.Bytes(this.b.length,this.b);this.b=null;return a},addBytes:function(a,c,b){if(0>c||0>b||c+b>a.length)throw k.io.Error.OutsideBounds;for(var a=a.b,d=c,c=c+b;d<c;)b=d++,this.b.push(a[b])},add:function(a){for(var c=a.b,b=0,a=a.length;b<a;){var d=b++;this.b.push(c[d])}},
addByte:function(a){this.b.push(a)},b:null,__class__:k.io.BytesBuffer};k.io.Eof=function(){};l["haxe.io.Eof"]=k.io.Eof;k.io.Eof.__name__=["haxe","io","Eof"];k.io.Eof.prototype={toString:function(){return"Eof"},__class__:k.io.Eof};k.io.Error=l["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};k.io.Error.Blocked=["Blocked",0];k.io.Error.Blocked.toString=v;k.io.Error.Blocked.__enum__=k.io.Error;k.io.Error.Overflow=["Overflow",1];k.io.Error.Overflow.toString=
v;k.io.Error.Overflow.__enum__=k.io.Error;k.io.Error.OutsideBounds=["OutsideBounds",2];k.io.Error.OutsideBounds.toString=v;k.io.Error.OutsideBounds.__enum__=k.io.Error;k.io.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=k.io.Error;a.toString=v;return a};k.io.Input=function(){};l["haxe.io.Input"]=k.io.Input;k.io.Input.__name__=["haxe","io","Input"];k.io.Input.prototype={getDoubleSig:function(a){return m.parseInt((((a[1]&15)<<16|a[2]<<8|a[3])*Math.pow(2,32)).toString())+m.parseInt(((a[4]>>7)*
Math.pow(2,31)).toString())+m.parseInt(((a[4]&127)<<24|a[5]<<16|a[6]<<8|a[7]).toString())},readString:function(a){var c=k.io.Bytes.alloc(a);this.readFullBytes(c,0,a);return c.toString()},readInt32:function(){var a=this.readByte(),c=this.readByte(),b=this.readByte(),d=this.readByte();return this.bigEndian?(a<<8|c)<<16|b<<8|d:(d<<8|b)<<16|c<<8|a},readUInt30:function(){var a=this.readByte(),c=this.readByte(),b=this.readByte(),d=this.readByte();if(64<=(this.bigEndian?a:d))throw k.io.Error.Overflow;return this.bigEndian?
d|b<<8|c<<16|a<<24:a|c<<8|b<<16|d<<24},readInt31:function(){var a,c,b,d;this.bigEndian?(d=this.readByte(),b=this.readByte(),c=this.readByte(),a=this.readByte()):(a=this.readByte(),c=this.readByte(),b=this.readByte(),d=this.readByte());if(0==(d&128)!=(0==(d&64)))throw k.io.Error.Overflow;return a|c<<8|b<<16|d<<24},readUInt24:function(){var a=this.readByte(),c=this.readByte(),b=this.readByte();return this.bigEndian?b|c<<8|a<<16:a|c<<8|b<<16},readInt24:function(){var a=this.readByte(),c=this.readByte(),
b=this.readByte(),a=this.bigEndian?b|c<<8|a<<16:a|c<<8|b<<16;return 0!=(a&8388608)?a-16777216:a},readUInt16:function(){var a=this.readByte(),c=this.readByte();return this.bigEndian?c|a<<8:a|c<<8},readInt16:function(){var a=this.readByte(),c=this.readByte(),a=this.bigEndian?c|a<<8:a|c<<8;return 0!=(a&32768)?a-65536:a},readInt8:function(){var a=this.readByte();return 128<=a?a-256:a},readDouble:function(){var a=[];a.push(this.readByte());a.push(this.readByte());a.push(this.readByte());a.push(this.readByte());
a.push(this.readByte());a.push(this.readByte());a.push(this.readByte());a.push(this.readByte());this.bigEndian&&a.reverse();var c=1-(a[0]>>7<<1),b=(a[0]<<4&2047|a[1]>>4)-1023,a=this.getDoubleSig(a);return 0==a&&-1023==b?0:c*(1+Math.pow(2,-52)*a)*Math.pow(2,b)},readFloat:function(){var a=[];a.push(this.readByte());a.push(this.readByte());a.push(this.readByte());a.push(this.readByte());this.bigEndian&&a.reverse();var c=(a[0]<<1&255|a[1]>>7)-127,b=(a[1]&127)<<16|a[2]<<8|a[3];return 0==b&&-127==c?0:(1-
(a[0]>>7<<1))*(1+Math.pow(2,-23)*b)*Math.pow(2,c)},readLine:function(){var a=new G,c,b;try{for(;10!=(c=this.readByte());)a.b+=String.fromCharCode(c);b=a.b;13==x.cca(b,b.length-1)&&(b=x.substr(b,0,-1))}catch(d){if(n.Boot.__instanceof(d,k.io.Eof)){if(b=a.b,0==b.length)throw d;}else throw d;}return b},readUntil:function(a){for(var c=new G,b;(b=this.readByte())!=a;)c.b+=String.fromCharCode(b);return c.b},read:function(a){for(var c=k.io.Bytes.alloc(a),b=0;0<a;){var d=this.readBytes(c,b,a);if(0==d)throw k.io.Error.Blocked;
b+=d;a-=d}return c},readFullBytes:function(a,c,b){for(;0<b;)var d=this.readBytes(a,c,b),c=c+d,b=b-d},readAll:function(a){null==a&&(a=16384);var c=k.io.Bytes.alloc(a),b=new k.io.BytesBuffer;try{for(;;){var d=this.readBytes(c,0,a);if(0==d)throw k.io.Error.Blocked;b.addBytes(c,0,d)}}catch(e){if(!n.Boot.__instanceof(e,k.io.Eof))throw e;}return b.getBytes()},setEndian:function(a){return this.bigEndian=a},close:function(){},readBytes:function(a,c,b){var d=b,e=a.b;if(0>c||0>b||c+b>a.length)throw k.io.Error.OutsideBounds;
for(;0<d;)e[c]=this.readByte(),c++,d--;return b},readByte:function(){throw"Not implemented";},bigEndian:null,__class__:k.io.Input,__properties__:{set_bigEndian:"setEndian"}};k.xml={};k.xml.Filter=l["haxe.xml.Filter"]={__ename__:["haxe","xml","Filter"],__constructs__:["FInt","FBool","FEnum","FReg"]};k.xml.Filter.FInt=["FInt",0];k.xml.Filter.FInt.toString=v;k.xml.Filter.FInt.__enum__=k.xml.Filter;k.xml.Filter.FBool=["FBool",1];k.xml.Filter.FBool.toString=v;k.xml.Filter.FBool.__enum__=k.xml.Filter;k.xml.Filter.FEnum=
function(a){a=["FEnum",2,a];a.__enum__=k.xml.Filter;a.toString=v;return a};k.xml.Filter.FReg=function(a){a=["FReg",3,a];a.__enum__=k.xml.Filter;a.toString=v;return a};k.xml.Attrib=l["haxe.xml.Attrib"]={__ename__:["haxe","xml","Attrib"],__constructs__:["Att"]};k.xml.Attrib.Att=function(a,c,b){a=["Att",0,a,c,b];a.__enum__=k.xml.Attrib;a.toString=v;return a};k.xml.Rule=l["haxe.xml.Rule"]={__ename__:["haxe","xml","Rule"],__constructs__:"RNode RData RMulti RList RChoice ROptional".split(" ")};k.xml.Rule.RNode=
function(a,c,b){a=["RNode",0,a,c,b];a.__enum__=k.xml.Rule;a.toString=v;return a};k.xml.Rule.RData=function(a){a=["RData",1,a];a.__enum__=k.xml.Rule;a.toString=v;return a};k.xml.Rule.RMulti=function(a,c){var b=["RMulti",2,a,c];b.__enum__=k.xml.Rule;b.toString=v;return b};k.xml.Rule.RList=function(a,c){var b=["RList",3,a,c];b.__enum__=k.xml.Rule;b.toString=v;return b};k.xml.Rule.RChoice=function(a){a=["RChoice",4,a];a.__enum__=k.xml.Rule;a.toString=v;return a};k.xml.Rule.ROptional=function(a){a=["ROptional",
5,a];a.__enum__=k.xml.Rule;a.toString=v;return a};k.xml._Check={};k.xml._Check.CheckResult=l["haxe.xml._Check.CheckResult"]={__ename__:["haxe","xml","_Check","CheckResult"],__constructs__:"CMatch CMissing CExtra CElementExpected CDataExpected CExtraAttrib CMissingAttrib CInvalidAttrib CInvalidData CInElement".split(" ")};k.xml._Check.CheckResult.CMatch=["CMatch",0];k.xml._Check.CheckResult.CMatch.toString=v;k.xml._Check.CheckResult.CMatch.__enum__=k.xml._Check.CheckResult;k.xml._Check.CheckResult.CMissing=
function(a){a=["CMissing",1,a];a.__enum__=k.xml._Check.CheckResult;a.toString=v;return a};k.xml._Check.CheckResult.CExtra=function(a){a=["CExtra",2,a];a.__enum__=k.xml._Check.CheckResult;a.toString=v;return a};k.xml._Check.CheckResult.CElementExpected=function(a,c){var b=["CElementExpected",3,a,c];b.__enum__=k.xml._Check.CheckResult;b.toString=v;return b};k.xml._Check.CheckResult.CDataExpected=function(a){a=["CDataExpected",4,a];a.__enum__=k.xml._Check.CheckResult;a.toString=v;return a};k.xml._Check.CheckResult.CExtraAttrib=
function(a,c){var b=["CExtraAttrib",5,a,c];b.__enum__=k.xml._Check.CheckResult;b.toString=v;return b};k.xml._Check.CheckResult.CMissingAttrib=function(a,c){var b=["CMissingAttrib",6,a,c];b.__enum__=k.xml._Check.CheckResult;b.toString=v;return b};k.xml._Check.CheckResult.CInvalidAttrib=function(a,c,b){a=["CInvalidAttrib",7,a,c,b];a.__enum__=k.xml._Check.CheckResult;a.toString=v;return a};k.xml._Check.CheckResult.CInvalidData=function(a,c){var b=["CInvalidData",8,a,c];b.__enum__=k.xml._Check.CheckResult;
b.toString=v;return b};k.xml._Check.CheckResult.CInElement=function(a,c){var b=["CInElement",9,a,c];b.__enum__=k.xml._Check.CheckResult;b.toString=v;return b};k.xml.Check=function(){};l["haxe.xml.Check"]=k.xml.Check;k.xml.Check.__name__=["haxe","xml","Check"];k.xml.Check.isBlank=function(a){return a.nodeType==y.PCData&&k.xml.Check.blanks.match(a.getNodeValue())||a.nodeType==y.Comment};k.xml.Check.filterMatch=function(a,c){switch(c[1]){case 0:return k.xml.Check.filterMatch(a,k.xml.Filter.FReg(new L("[0-9]+",
"")));case 1:return k.xml.Check.filterMatch(a,k.xml.Filter.FEnum(["true","false","0","1"]));case 2:for(var b=c[2],d=0;d<b.length;){var e=b[d];++d;if(a==e)return!0}return!1;case 3:return c[2].match(a)}};k.xml.Check.isNullable=function(a){switch(a[1]){case 2:var c=a[2];return!0!=a[3]||k.xml.Check.isNullable(c);case 3:for(var a=a[2],b=0;b<a.length;)if(c=a[b],++b,!k.xml.Check.isNullable(c))return!1;return!0;case 4:a=a[2];for(b=0;b<a.length;)if(c=a[b],++b,k.xml.Check.isNullable(c))return!0;return!1;case 1:return!1;
case 0:return!1;case 5:return!0}};k.xml.Check.check=function(a,c){var b=c;switch(b[1]){case 0:var d=b[4],e=b[3],g=b[2];if(a.nodeType!=y.Element||a.getNodeName()!=g)return k.xml._Check.CheckResult.CElementExpected(g,a);for(var g=null==e?[]:e.slice(),h=a.attributes();h.hasNext();){for(var i=h.next(),j=!1,e=0;e<g.length;){var l=g[e];++e;b=l;switch(b[1]){case 0:var n=b[4],n=b[3],b=b[2];if(i!=b)continue;if(null!=n&&!k.xml.Check.filterMatch(a.get(i),n))return k.xml._Check.CheckResult.CInvalidAttrib(b,a,
n);x.remove(g,l);j=!0}}if(!j)return k.xml._Check.CheckResult.CExtraAttrib(i,a)}for(e=0;e<g.length;)switch(l=g[e],++e,b=l,b[1]){case 0:if(n=b[4],b=b[2],null==n)return k.xml._Check.CheckResult.CMissingAttrib(b,a)}null==d&&(d=k.xml.Rule.RList([]));d=k.xml.Check.checkList(a.iterator(),d);if(d!=k.xml._Check.CheckResult.CMatch)return k.xml._Check.CheckResult.CInElement(a,d);for(e=0;e<g.length;)switch(l=g[e],++e,b=l,b[1]){case 0:n=b[4],b=b[2],a.set(b,n)}return k.xml._Check.CheckResult.CMatch;case 1:return n=
b[2],a.nodeType!=y.PCData&&a.nodeType!=y.CData?k.xml._Check.CheckResult.CDataExpected(a):null!=n&&!k.xml.Check.filterMatch(a.getNodeValue(),n)?k.xml._Check.CheckResult.CInvalidData(a,n):k.xml._Check.CheckResult.CMatch;case 4:d=b[2];if(0==d.length)throw"No choice possible";for(e=0;e<d.length;)if(g=d[e],++e,k.xml.Check.check(a,g)==k.xml._Check.CheckResult.CMatch)return k.xml._Check.CheckResult.CMatch;return k.xml.Check.check(a,d[0]);case 5:return k.xml.Check.check(a,b[2]);default:throw"Unexpected "+
m.string(c);}};k.xml.Check.checkList=function(a,c){var b=c;switch(b[1]){case 3:for(var d=b[3],e=b[2].slice();a.hasNext();){var g=a.next();if(!k.xml.Check.isBlank(g)){for(var h=!1,i=0;i<e.length;){var j=e[i];++i;b=k.xml.Check.checkList(x.iter([g]),j);if(b==k.xml._Check.CheckResult.CMatch){h=!0;b=j;switch(b[1]){case 2:i=b[3];b=b[2];if(i)for(var i=0,l=e.length;i<l;){var m=i++;e[m]==j&&(e[m]=k.xml.Rule.RMulti(b))}break;default:x.remove(e,j)}break}else if(d&&!k.xml.Check.isNullable(j))return b}if(!h)return k.xml._Check.CheckResult.CExtra(g)}}for(i=
0;i<e.length;)if(j=e[i],++i,!k.xml.Check.isNullable(j))return k.xml._Check.CheckResult.CMissing(j);return k.xml._Check.CheckResult.CMatch;case 2:i=b[3];j=b[2];for(h=!1;a.hasNext();)if(g=a.next(),!k.xml.Check.isBlank(g)){b=k.xml.Check.checkList(x.iter([g]),j);if(b!=k.xml._Check.CheckResult.CMatch)return b;h=!0}return i&&!h?k.xml._Check.CheckResult.CMissing(j):k.xml._Check.CheckResult.CMatch;default:for(h=!1;a.hasNext();)if(g=a.next(),!k.xml.Check.isBlank(g)){b=k.xml.Check.check(g,c);if(b!=k.xml._Check.CheckResult.CMatch)return b;
h=!0;break}if(!h)switch(c[1]){case 5:break;default:return k.xml._Check.CheckResult.CMissing(c)}for(;a.hasNext();)if(g=a.next(),!k.xml.Check.isBlank(g))return k.xml._Check.CheckResult.CExtra(g);return k.xml._Check.CheckResult.CMatch}};k.xml.Check.makeWhere=function(a){if(0==a.length)return"";for(var c="In ",b=!0,d=0;d<a.length;){var e=a[d];++d;b?b=!1:c+=".";c+=e.getNodeName()}return c+": "};k.xml.Check.makeString=function(a){if(a.nodeType==y.Element)return"element "+a.getNodeName();a=a.getNodeValue().split("\r").join("\\r").split("\n").join("\\n").split("\t").join("\\t");
return 20<a.length?x.substr(a,0,17)+"...":a};k.xml.Check.makeRule=function(a){switch(a[1]){case 0:return"element "+a[2];case 1:return"data";case 2:return a=a[2],k.xml.Check.makeRule(a);case 3:return k.xml.Check.makeRule(a[2][0]);case 4:return k.xml.Check.makeRule(a[2][0]);case 5:return a=a[2],k.xml.Check.makeRule(a)}};k.xml.Check.makeError=function(a,c){null==c&&(c=[]);switch(a[1]){case 0:throw"assert";case 1:var b=a[2];return k.xml.Check.makeWhere(c)+"Missing "+k.xml.Check.makeRule(b);case 2:return b=
a[2],k.xml.Check.makeWhere(c)+"Unexpected "+k.xml.Check.makeString(b);case 3:var b=a[3],d=a[2];return k.xml.Check.makeWhere(c)+k.xml.Check.makeString(b)+" while expected element "+d;case 4:return b=a[2],k.xml.Check.makeWhere(c)+k.xml.Check.makeString(b)+" while data expected";case 5:return b=a[3],d=a[2],c.push(b),k.xml.Check.makeWhere(c)+"unexpected attribute "+d;case 6:return b=a[3],d=a[2],c.push(b),k.xml.Check.makeWhere(c)+"missing required attribute "+d;case 7:return b=a[3],d=a[2],c.push(b),k.xml.Check.makeWhere(c)+
"invalid attribute value for "+d;case 8:return b=a[2],k.xml.Check.makeWhere(c)+"invalid data format for "+k.xml.Check.makeString(b);case 9:return d=a[3],b=a[2],c.push(b),k.xml.Check.makeError(d,c)}};k.xml.Check.checkNode=function(a,c){var b=k.xml.Check.checkList(x.iter([a]),c);if(b!=k.xml._Check.CheckResult.CMatch)throw k.xml.Check.makeError(b);};k.xml.Check.checkDocument=function(a,c){if(a.nodeType!=y.Document)throw"Document expected";var b=k.xml.Check.checkList(a.iterator(),c);if(b!=k.xml._Check.CheckResult.CMatch)throw k.xml.Check.makeError(b);
};k.xml._Fast={};k.xml._Fast.NodeAccess=function(a){this.__x=a};l["haxe.xml._Fast.NodeAccess"]=k.xml._Fast.NodeAccess;k.xml._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];k.xml._Fast.NodeAccess.prototype={resolve:function(a){var c=this.__x.elementsNamed(a).next();if(null==c)throw(this.__x.nodeType==y.Document?"Document":this.__x.getNodeName())+" is missing element "+a;return new k.xml.Fast(c)},__x:null,__class__:k.xml._Fast.NodeAccess};k.xml._Fast.AttribAccess=function(a){this.__x=
a};l["haxe.xml._Fast.AttribAccess"]=k.xml._Fast.AttribAccess;k.xml._Fast.AttribAccess.__name__=["haxe","xml","_Fast","AttribAccess"];k.xml._Fast.AttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==y.Document)throw"Cannot access document attribute "+a;var c=this.__x.get(a);if(null==c)throw this.__x.getNodeName()+" is missing attribute "+a;return c},__x:null,__class__:k.xml._Fast.AttribAccess};k.xml._Fast.HasAttribAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasAttribAccess"]=k.xml._Fast.HasAttribAccess;
k.xml._Fast.HasAttribAccess.__name__=["haxe","xml","_Fast","HasAttribAccess"];k.xml._Fast.HasAttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==y.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__x:null,__class__:k.xml._Fast.HasAttribAccess};k.xml._Fast.HasNodeAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasNodeAccess"]=k.xml._Fast.HasNodeAccess;k.xml._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];k.xml._Fast.HasNodeAccess.prototype=
{resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__x:null,__class__:k.xml._Fast.HasNodeAccess};k.xml._Fast.NodeListAccess=function(a){this.__x=a};l["haxe.xml._Fast.NodeListAccess"]=k.xml._Fast.NodeListAccess;k.xml._Fast.NodeListAccess.__name__=["haxe","xml","_Fast","NodeListAccess"];k.xml._Fast.NodeListAccess.prototype={resolve:function(a){for(var c=new H,a=this.__x.elementsNamed(a);a.hasNext();){var b=a.next();c.add(new k.xml.Fast(b))}return c},__x:null,__class__:k.xml._Fast.NodeListAccess};
k.xml.Fast=function(a){if(a.nodeType!=y.Document&&a.nodeType!=y.Element)throw"Invalid nodeType "+m.string(a.nodeType);this.x=a;this.node=new k.xml._Fast.NodeAccess(a);this.nodes=new k.xml._Fast.NodeListAccess(a);this.att=new k.xml._Fast.AttribAccess(a);this.has=new k.xml._Fast.HasAttribAccess(a);this.hasNode=new k.xml._Fast.HasNodeAccess(a)};l["haxe.xml.Fast"]=k.xml.Fast;k.xml.Fast.__name__=["haxe","xml","Fast"];k.xml.Fast.prototype={getElements:function(){var a=this.x.elements();return{hasNext:A(a,
a.hasNext),next:function(){var c=a.next();return null==c?null:new k.xml.Fast(c)}}},getInnerHTML:function(){for(var a=new G,c=this.x.iterator();c.hasNext();){var b=c.next();a.b+=m.string(b.toString())}return a.b},getInnerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.getName()+" does not have data";var c=a.next(),b=a.next();if(null!=b){if(c.nodeType==y.PCData&&(b.nodeType==y.CData&&""==E.trim(c.getNodeValue()))&&(c=a.next(),null==c||c.nodeType==y.PCData&&""==E.trim(c.getNodeValue())&&
null==a.next()))return b.getNodeValue();throw this.getName()+" does not only have data";}if(c.nodeType!=y.PCData&&c.nodeType!=y.CData)throw this.getName()+" does not have data";return c.getNodeValue()},getName:function(){return this.x.nodeType==y.Document?"Document":this.x.getNodeName()},elements:null,hasNode:null,has:null,att:null,nodes:null,node:null,innerHTML:null,innerData:null,name:null,x:null,__class__:k.xml.Fast,__properties__:{get_name:"getName",get_innerData:"getInnerData",get_innerHTML:"getInnerHTML",
get_elements:"getElements"}};k.xml.Parser=function(){};l["haxe.xml.Parser"]=k.xml.Parser;k.xml.Parser.__name__=["haxe","xml","Parser"];k.xml.Parser.parse=function(a){var c=y.createDocument();k.xml.Parser.doParse(a,0,c);return c};k.xml.Parser.doParse=function(a,c,b){null==c&&(c=0);n.Boot.__instanceof(a,String)||(a=a.toString());for(var d=null,e=1,g=1,h=null,i=0,j=0,l=0,m=a.charCodeAt(c);m==m;){switch(e){case 0:switch(m){case 10:case 13:case 9:case 32:break;default:e=g;continue}break;case 1:switch(m){case 60:e=
0;g=2;break;default:i=c;e=13;continue}break;case 13:60==m&&(e=y.createPCData(x.substr(a,i,c-i)),b.addChild(e),j++,e=0,g=2);break;case 17:93==m&&(93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2))&&(e=y.createCData(x.substr(a,i,c-i)),b.addChild(e),j++,c+=2,e=1);break;case 2:switch(m){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=x.substr(a,c,6).toUpperCase())throw"Expected <![CDATA[";c+=5;e=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=x.substr(a,c+2,6).toUpperCase())throw"Expected <!DOCTYPE";
c+=8;e=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw"Expected <\!--";c+=2;e=15}i=c+1;break;case 63:e=14;i=c;break;case 47:if(null==b)throw"Expected node name";i=c+1;e=0;g=10;break;default:e=3;i=c;continue}break;case 3:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(c==i)throw"Expected node name";d=y.createElement(x.substr(a,i,c-i));b.addChild(d);e=0;g=4;continue}break;case 4:switch(m){case 47:e=11;j++;break;case 62:e=9;j++;break;default:e=5;i=c;continue}break;
case 5:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(i==c)throw"Expected attribute name";h=x.substr(a,i,c-i);if(d.exists(h))throw"Duplicate attribute";e=0;g=6;continue}break;case 6:switch(m){case 61:e=0;g=7;break;default:throw"Expected =";}break;case 7:switch(m){case 34:case 39:e=8;i=c;break;default:throw'Expected "';}break;case 8:m==a.charCodeAt(i)&&(g=x.substr(a,i+1,c-i-1),d.set(h,g),e=0,g=4);break;case 9:i=c=k.xml.Parser.doParse(a,c,d);e=1;break;case 11:switch(m){case 62:e=
1;break;default:throw"Expected >";}break;case 12:switch(m){case 62:return 0==j&&b.addChild(y.createPCData("")),c;default:throw"Expected >";}case 10:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(i==c)throw"Expected node name";if(x.substr(a,i,c-i)!=b.getNodeName())throw"Expected </"+b.getNodeName()+">";e=0;g=12;continue}break;case 15:45==m&&(45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2))&&(b.addChild(y.createComment(x.substr(a,i,c-i))),c+=2,e=1);break;case 16:91==m?
l++:93==m?l--:62==m&&0==l&&(b.addChild(y.createDocType(x.substr(a,i,c-i))),e=1);break;case 14:63==m&&62==a.charCodeAt(c+1)&&(c++,e=x.substr(a,i+1,c-i-2),b.addChild(y.createProlog(e)),e=1)}m=a.charCodeAt(++c)}1==e&&(i=c,e=13);if(13==e)return(c!=i||0==j)&&b.addChild(y.createPCData(x.substr(a,i,c-i))),c;throw"Unexpected end";};k.xml.Parser.isValidChar=function(a){return 97<=a&&122>=a||65<=a&&90>=a||48<=a&&57>=a||58==a||46==a||95==a||45==a};d.Selection=function(){};l["jeash.Selection"]=d.Selection;d.Selection.__name__=
["jeash","Selection"];d.Selection.prototype={stringifier:null,removeAllRanges:null,removeRange:null,addRange:null,getRangeAt:null,deleteFromDocument:null,selectAllChildren:null,collapseToEnd:null,collapseToStart:null,collapse:null,rangeCount:null,isCollapsed:null,focusOffset:null,focusNode:null,anchorOffset:null,anchorNode:null,__class__:d.Selection};d.MessagePortArray=function(){};l["jeash.MessagePortArray"]=d.MessagePortArray;d.MessagePortArray.__name__=["jeash","MessagePortArray"];d.MessagePort=
function(){};l["jeash.MessagePort"]=d.MessagePort;d.MessagePort.__name__=["jeash","MessagePort"];d.MessagePort.prototype={onmessage:null,close:null,start:null,postMessage:null,__class__:d.MessagePort};d._Lib={};d._Lib.CursorType=l["jeash._Lib.CursorType"]={__ename__:["jeash","_Lib","CursorType"],__constructs__:["Pointer","Text","Default"]};d._Lib.CursorType.Pointer=["Pointer",0];d._Lib.CursorType.Pointer.toString=v;d._Lib.CursorType.Pointer.__enum__=d._Lib.CursorType;d._Lib.CursorType.Text=["Text",
1];d._Lib.CursorType.Text.toString=v;d._Lib.CursorType.Text.__enum__=d._Lib.CursorType;d._Lib.CursorType.Default=["Default",2];d._Lib.CursorType.Default.toString=v;d._Lib.CursorType.Default.__enum__=d._Lib.CursorType;d.accessibility={};d.accessibility.AccessibilityProperties=function(){this.description="";this.forceSimple=!1;this.name="";this.noAutoLabeling=!1;this.shortcut="";this.silent=!1};l["jeash.accessibility.AccessibilityProperties"]=d.accessibility.AccessibilityProperties;d.accessibility.AccessibilityProperties.__name__=
["jeash","accessibility","AccessibilityProperties"];d.accessibility.AccessibilityProperties.prototype={silent:null,shortcut:null,noAutoLabeling:null,name:null,forceSimple:null,description:null,__class__:d.accessibility.AccessibilityProperties};d.display.ImageDataLease=function(){};l["jeash.display.ImageDataLease"]=d.display.ImageDataLease;d.display.ImageDataLease.__name__=["jeash","display","ImageDataLease"];d.display.ImageDataLease.prototype={clone:function(){var a=new d.display.ImageDataLease;a.seed=
this.seed;a.time=this.time;return a},set:function(a,b){this.seed=a;this.time=b},time:null,seed:null,__class__:d.display.ImageDataLease};d.display._BitmapData={};d.display._BitmapData.MinstdGenerator=function(a){this.value=0==a?1:a};l["jeash.display._BitmapData.MinstdGenerator"]=d.display._BitmapData.MinstdGenerator;d.display._BitmapData.MinstdGenerator.__name__=["jeash","display","_BitmapData","MinstdGenerator"];d.display._BitmapData.MinstdGenerator.prototype={nextValue:function(){var a=16807*(this.value&
65535),b=16807*(this.value>>>16),a=a+((b&32767)<<16);if(0>a||-2147483649<a)a&=-2147483649,++a;a+=b>>>15;if(0>a||-2147483649<a)a&=-2147483649,++a;return this.value=a},value:null,__class__:d.display._BitmapData.MinstdGenerator};d.display.BitmapData=function(a,b,e,k){null==k&&(k=-1);null==e&&(e=!0);this.jeashLocked=!1;this.jeashLeaseNum=0;this.jeashLease=new d.display.ImageDataLease;this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime());this._jeashTextureBuffer=n.Lib.document.createElement("canvas");
this._jeashTextureBuffer.width=a;this._jeashTextureBuffer.height=b;this._jeashId=d.utils.Uuid.uuid();d.Lib.jeashSetSurfaceId(this._jeashTextureBuffer,this._jeashId);this.jeashTransparent=e;this.rect=new d.geom.Rectangle(0,0,a,b);this.jeashTransparent&&(this.jeashTransparentFiller=n.Lib.document.createElement("canvas"),this.jeashTransparentFiller.width=a,this.jeashTransparentFiller.height=b,e=this.jeashTransparentFiller.getContext("2d"),e.fillStyle="rgba(0,0,0,0);",e.fill());null!=k&&(0<a&&0<b)&&(this.jeashTransparent||
(k|=-16777216),this.jeashInitColor=k,this.jeashFillRect(this.rect,k))};l["jeash.display.BitmapData"]=d.display.BitmapData;d.display.BitmapData.__name__=["jeash","display","BitmapData"];d.display.BitmapData.__interfaces__=[d.display.IBitmapDrawable];d.display.BitmapData.jeashCreateFromHandle=function(a){var b=new d.display.BitmapData(0,0);b._jeashTextureBuffer=a;return b};d.display.BitmapData.jeashCopySurface=function(a){var b=n.Lib.document.createElement("canvas");b.width=a.width;b.height=a.height;
d.Lib.jeashDrawToSurface(a,b);d.Lib.jeashCopyStyle(a,b);return b};d.display.BitmapData.jeashColorTransformSurface=function(a,b){if(null!=b){var e=new d.geom.Rectangle(0,0,a.width,a.height);d.display.BitmapData.jeashColorTransform(e,b,a,null)}};d.display.BitmapData.jeashColorTransform=function(a,b,d,e){if(null!=a&&0<a.width&&0<a.height){var k=null;null==e&&(k=d.getContext("2d"),e=k.getImageData(a.x,a.y,a.width,a.height));for(var g=0,h=e.data.length>>2;g<h;)d=4*g++,e.data[d]=e.data[d]*b.redMultiplier+
b.redOffset|0,e.data[d+1]=e.data[d+1]*b.greenMultiplier+b.greenOffset|0,e.data[d+2]=e.data[d+2]*b.blueMultiplier+b.blueOffset|0,e.data[d+3]=e.data[d+3]*b.alphaMultiplier+b.alphaOffset|0;null!=k&&k.putImageData(e,a.x,a.y)}};d.display.BitmapData.jeashBase64Encode=function(a){var b="";for(a.position=0;a.position<a.length;){var d=0,e=0,k=0,d=a.readByte();a.position<a.length&&(e=a.readByte());a.position<a.length&&(k=a.readByte());var g=0,h=0,i=0,j=0,g=d>>2,h=(d&3)<<4|e>>4,i=(e&15)<<2|k>>6,j=k&63,b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g),
b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h),b=a.position<a.length?b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i):b+"=",b=a.position<a.length?b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j):b+"="}return b};d.display.BitmapData.jeashIsPNG=function(a){a.position=0;return 137==a.readByte()&&80==a.readByte()&&78==a.readByte()&&71==a.readByte()&&13==a.readByte()&&10==a.readByte()&&26==a.readByte()&&10==
a.readByte()};d.display.BitmapData.jeashIsJPG=function(a){a.position=0;return 255==a.readByte()&&(216==a.readByte()&&255==a.readByte()&&224==a.readByte())&&(a.readByte(),a.readByte(),74==a.readByte()&&70==a.readByte()&&73==a.readByte()&&70==a.readByte()&&0==a.readByte())?!0:!1};d.display.BitmapData.loadFromBytes=function(a,b,e){var k;switch(!0){case d.display.BitmapData.jeashIsPNG(a):k="image/png";break;case d.display.BitmapData.jeashIsJPG(a):k="image/jpeg";break;default:throw new d.errors.IOError("BitmapData tried to read a PNG/JPG ByteArray, but found an invalid header.");
}var l=n.Lib.document.createElement("img"),g=new d.display.BitmapData(0,0),h=g._jeashTextureBuffer;l.addEventListener("load",function(){h.width=l.width;h.height=l.height;var a=h.getContext("2d");a.drawImage(l,0,0);if(null!=b){for(var d=a.getImageData(0,0,l.width,l.height),k=0,m=b.length;k<m;){var n=k++;d.data[4*n+3]=b.readUnsignedByte()}a.putImageData(d,0,0)}e(g)},!1);l.src="data:"+k+";base64,"+d.display.BitmapData.jeashBase64Encode(a)};d.display.BitmapData.loadFromBase64String=function(a,b){var e=
n.Lib.document.createElement("img"),k=new d.display.BitmapData(0,0),l=k._jeashTextureBuffer;e.addEventListener("load",function(){l.width=e.width;l.height=e.height;l.getContext("2d").drawImage(e,0,0);b(k)},!1);e.src="data:image/png;base64,"+a};d.display.BitmapData.prototype={jeashBuildLease:function(){this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime())},jeashDecrNumRefBitmaps:function(){this.jeashAssignedBitmaps--},jeashIncrNumRefBitmaps:function(){this.jeashAssignedBitmaps++},jeashGetNumRefBitmaps:function(){return this.jeashAssignedBitmaps},
jeashGetLease:function(){return this.jeashLease},scroll:function(){throw"bitmapData.scroll is currently not supported for HTML5";},hitTest:function(a,b,e,k,l){null==l&&(l=1);C.getClassName(C.getClass(e));var b=b&-1,g=this,k=function(h){if(null==e.__proto__||null==e.__proto__.__class__||null==e.__proto__.__class__.__name__)return!1;switch(e.__proto__.__class__.__name__[2]){case "Rectangle":var i=e;i.x-=a.x;i.y-=a.y;i=g.clipRect(g.rect);if(null==g.rect)return!1;var j=new d.geom.Rectangle(0,0,null!=
g._jeashTextureBuffer?g._jeashTextureBuffer.width:0,null!=g._jeashTextureBuffer?g._jeashTextureBuffer.height:0);if(!i.intersects(j))return!1;for(var i=i.intersection(j),k=j=4*(Math.round(i.x)+Math.round(i.y)*h.width)+3,l=Math.round(4*(i.x+i.width));k<j+Math.round(4*(i.width+h.width*i.height));){k%(4*h.width)>l-1&&(k+=4*h.width-l);if(0<=h.data[k]-b)return!0;k+=4}return!1;case "Point":return i=e.x-a.x,j=e.y-a.y,0>i||0>j||i>=(null!=g._jeashTextureBuffer?g._jeashTextureBuffer.width:0)||j>=(null!=g._jeashTextureBuffer?
g._jeashTextureBuffer.height:0)?!1:0<h.data[Math.round(4*(j*(null!=g._jeashTextureBuffer?g._jeashTextureBuffer.width:0)+i))+3]-b?!0:!1;case "Bitmap":throw"bitmapData.hitTest with a second object of type Bitmap is currently not supported for HTML5";case "BitmapData":throw"bitmapData.hitTest with a second object of type BitmapData is currently not supported for HTML5";default:throw"BitmapData::hitTest secondObject argument must be either a Rectangle, a Point, a Bitmap or a BitmapData object.";}};return!this.jeashLocked?
(this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime()),l=this._jeashTextureBuffer.getContext("2d").getImageData(0,0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0),k(l)):k(this.jeashImageData)},copyChannel:function(a,b,d,e,k){this.rect=this.clipRect(this.rect);if(null!=this.rect&&!(null==a._jeashTextureBuffer||null==this._jeashTextureBuffer||0>=b.width||0>=b.height)){b.x+b.width>a._jeashTextureBuffer.width&&
(b.width=a._jeashTextureBuffer.width-b.x);b.y+b.height>a._jeashTextureBuffer.height&&(b.height=a._jeashTextureBuffer.height-b.y);var g=function(g){var h=a._jeashTextureBuffer.getContext("2d").getImageData(b.x,b.y,b.width,b.height),i;if(k==8)i=3;else if(k==4)i=2;else if(k==2)i=1;else{if(k!=1)throw"Invalid destination BitmapDataChannel passed to BitmapData::copyChannel.";i=0}i=4*(Math.round(d.x)+Math.round(d.y)*g.width)+i;var l=Math.round(4*(d.x+b.width)),m;if(e==8)m=3;else if(e==4)m=2;else if(e==2)m=
1;else{if(e!=1)throw"Invalid source BitmapDataChannel passed to BitmapData::copyChannel.";m=0}for(;m<h.data.length;){var n=h.data[m];i%(g.width*4)>l-1&&(i=i+(g.width*4-l));g.data[i]=n;i=i+4;m=m+4}};if(this.jeashLocked)g(this.jeashImageData),this.jeashImageDataChanged=!0;else{this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime());var h=this._jeashTextureBuffer.getContext("2d"),i=h.getImageData(0,0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0,null!=this._jeashTextureBuffer?
this._jeashTextureBuffer.height:0);g(i);h.putImageData(i,0,0)}}},colorTransform:function(a,b){this.jeashLocked||this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime());a=this.clipRect(a);d.display.BitmapData.jeashColorTransform(a,b,this.jeashGetSurface(),this.jeashLocked?this.jeashImageData:null);this.jeashLocked&&(this.jeashImageDataChanged=!0)},draw:function(a,b,d,e,k,g){null==g&&(g=!1);a.drawToSurface(this._jeashTextureBuffer,b,d,e,k,g)},jeashGetSurface:function(){var a=null;this.jeashLocked||
(a=this._jeashTextureBuffer);return a},applyFilter:function(){throw"bitmapData.applyFilter is currently not supported for HTML5";},drawToSurface:function(a,b,e){var k=d.display.BitmapData.jeashCopySurface(this.jeashGetSurface());d.display.BitmapData.jeashColorTransformSurface(k,e);a=a.getContext("2d");null!=b?(a.save(),1==b.a&&0==b.b&&0==b.c&&1==b.d?a.translate(b.tx,b.ty):a.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty),a.drawImage(k,0,0),a.restore()):a.drawImage(k,0,0)},unlock:function(a){this.jeashLocked=
!1;var b=this._jeashTextureBuffer.getContext("2d");this.jeashImageDataChanged&&(null!=a?b.putImageData(this.jeashImageData,0,0,a.x,a.y,a.width,a.height):b.putImageData(this.jeashImageData,0,0));for(var a=0,d=this.jeashCopyPixelList;a<d.length;){var e=d[a];++a;if(this.jeashTransparent&&null!=e.transparentFiller){var k=e.transparentFiller.getContext("2d").getImageData(e.sourceX,e.sourceY,e.sourceWidth,e.sourceHeight);b.putImageData(k,e.destX,e.destY)}b.drawImage(e.handle,e.sourceX,e.sourceY,e.sourceWidth,
e.sourceHeight,e.destX,e.destY,e.sourceWidth,e.sourceHeight)}this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime())},lock:function(){this.jeashLocked=!0;this.jeashImageData=this._jeashTextureBuffer.getContext("2d").getImageData(0,0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0);this.jeashImageDataChanged=!1;this.jeashCopyPixelList=[]},jeashLoadFromFile:function(a,b){var d=this,e=n.Lib.document.createElement("img");
if(null!=b){var k={image:e,texture:this._jeashTextureBuffer,inLoader:b,bitmapData:this};e.addEventListener("load",function(a,b){return function(c){return a(b,c)}}(A(this,this.jeashOnLoad),k),!1);e.addEventListener("error",function(a){e.complete||d.jeashOnLoad(k,a)},!1)}e.src=a},jeashOnLoad:function(a){var b=a.texture,e=a.image.width,k=a.image.height;b.width=e;b.height=k;b.getContext("2d").drawImage(a.image,0,0,e,k);a.bitmapData.width=e;a.bitmapData.height=k;a.bitmapData.rect=new d.geom.Rectangle(0,
0,e,k);a.bitmapData.jeashBuildLease();null!=a.inLoader&&(b=new d.events.Event(d.events.Event.COMPLETE),b.target=a.inLoader,a.inLoader.dispatchEvent(b))},destroy:function(){this._jeashTextureBuffer=null},getHeight:function(){return null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0},getWidth:function(){return null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0},handle:function(){return this._jeashTextureBuffer},clone:function(){var a=new d.display.BitmapData(null!=this._jeashTextureBuffer?
this._jeashTextureBuffer.width:0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0,this.jeashTransparent),b=new d.geom.Rectangle(0,0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0);a.setPixels(b,this.getPixels(b));a.jeashLease.set(a.jeashLeaseNum++,(new Date).getTime());return a},noise:function(a,b,e,k,l){null==l&&(l=!1);null==k&&(k=7);null==e&&(e=255);null==b&&(b=0);for(var a=new d.display._BitmapData.MinstdGenerator(a),
g=this._jeashTextureBuffer.getContext("2d"),h=this.jeashLocked?this.jeashImageData:g.createImageData(this._jeashTextureBuffer.width,this._jeashTextureBuffer.height),i=0,j=this._jeashTextureBuffer.width*this._jeashTextureBuffer.height;i<j;){var m=i++;l?h.data[4*m]=h.data[4*m+1]=h.data[4*m+2]=b+a.nextValue()%(e-b+1):(h.data[4*m]=0==(k&1)?0:b+a.nextValue()%(e-b+1),h.data[4*m+1]=0==(k&2)?0:b+a.nextValue()%(e-b+1),h.data[4*m+2]=0==(k&4)?0:b+a.nextValue()%(e-b+1));h.data[4*m+3]=0==(k&8)?255:b+a.nextValue()%
(e-b+1)}this.jeashLocked?this.jeashImageDataChanged=!0:g.putImageData(h,0,0)},setPixels:function(a,b){a=this.clipRect(a);if(null!=a){var d=Math.round(4*a.width*a.height);if(this.jeashLocked){for(var e=Math.round(4*this.jeashImageData.width*a.y+4*a.x),k=Math.round(4*(a.x+a.width)),g=0;g<d;)g++,e%(4*this.jeashImageData.width)>k-1&&(e+=4*this.jeashImageData.width-k),this.jeashImageData.data[e]=b.readByte(),e++;this.jeashImageDataChanged=!0}else{for(var e=this._jeashTextureBuffer.getContext("2d"),k=e.createImageData(a.width,
a.height),g=0;g<d;){var h=g++;k.data[h]=b.readByte()}e.putImageData(k,a.x,a.y)}}},setPixel32:function(a,b,d){if(!(0>a||0>b||a>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0)||b>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0)))if(this.jeashLocked)a=4*b*this.jeashImageData.width+4*a,this.jeashImageData.data[a]=(d&16711680)>>>16,this.jeashImageData.data[a+1]=(d&65280)>>>8,this.jeashImageData.data[a+2]=d&255,this.jeashImageData.data[a+3]=this.jeashTransparent?(d&
-16777216)>>>24:255,this.jeashImageDataChanged=!0;else{this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime());var e=this._jeashTextureBuffer.getContext("2d"),k=e.createImageData(1,1);k.data[0]=(d&16711680)>>>16;k.data[1]=(d&65280)>>>8;k.data[2]=d&255;k.data[3]=this.jeashTransparent?(d&-16777216)>>>24:255;e.putImageData(k,a,b)}},setPixel:function(a,b,d){if(!(0>a||0>b||a>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0)||b>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:
0)))if(this.jeashLocked)a=4*b*this.jeashImageData.width+4*a,this.jeashImageData.data[a]=(d&16711680)>>>16,this.jeashImageData.data[a+1]=(d&65280)>>>8,this.jeashImageData.data[a+2]=d&255,this.jeashTransparent&&(this.jeashImageData.data[a+3]=255),this.jeashImageDataChanged=!0;else{this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime());var e=this._jeashTextureBuffer.getContext("2d"),k=e.createImageData(1,1);k.data[0]=(d&16711680)>>>16;k.data[1]=(d&65280)>>>8;k.data[2]=d&255;this.jeashTransparent&&
(k.data[3]=255);e.putImageData(k,a,b)}},getPixel32:function(a,b){if(0>a||0>b||a>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0)||b>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0))return 0;if(this.jeashLocked)return this.getInt32(4*b*this._jeashTextureBuffer.width+4*a,this.jeashImageData.data);var d=this._jeashTextureBuffer.getContext("2d");return this.getInt32(0,d.getImageData(a,b,1,1).data)},getInt32:function(a,b){var d,e,k,g,h=Math.pow;d=!this.jeashTransparent?
255:b[a+3]&255;e=b[a]&255;k=b[a+1]&255;g=b[a+2]&255;return parseInt(((d>>7)*h(2,31)).toString(2),2)+parseInt(((d&127)<<24|e<<16|k<<8|g).toString(2),2)},getPixel:function(a,b){if(0>a||0>b||a>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0)||b>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0))return 0;if(this.jeashLocked){var d=4*b*(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0)+4*a;return this.jeashImageData.data[d]<<16|this.jeashImageData.data[d+
1]<<8|this.jeashImageData.data[d+2]}d=this._jeashTextureBuffer.getContext("2d").getImageData(a,b,1,1);return d.data[0]<<16|d.data[1]<<8|d.data[2]},getPixels:function(a){var b=Math.round(4*a.width*a.height),e=new d.utils.ByteArray(b),a=this.clipRect(a);if(null==a)return e;if(this.jeashLocked)for(var k=Math.round(4*this.jeashImageData.width*a.y+4*a.x),l=Math.round(4*(a.x+a.width)),a=0;a<b;)a++,k%(4*this.jeashImageData.width)>l-1&&(k+=4*this.jeashImageData.width-l),e.writeByte(this.jeashImageData.data[k]),
k++;else{k=this._jeashTextureBuffer.getContext("2d").getImageData(a.x,a.y,a.width,a.height);for(a=0;a<b;)l=a++,e.writeByte(k.data[l])}e.position=0;return e},fillRect:function(a,b){if(null!=a&&!(0>=a.width||0>=a.height)){if(0==a.x&&0==a.y&&a.width==this._jeashTextureBuffer.width&&a.height==this._jeashTextureBuffer.height)if(this.jeashTransparent){if(0==b>>>24||b==this.jeashInitColor)return this._jeashTextureBuffer.width=this._jeashTextureBuffer.width}else if((b|-16777216)==(this.jeashInitColor|-16777216))return this._jeashTextureBuffer.width=
this._jeashTextureBuffer.width;return this.jeashFillRect(a,b)}},jeashFillRect:function(a,b){this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime());var d=this._jeashTextureBuffer.getContext("2d"),e=(b&16711680)>>>16,k=(b&65280)>>>8,g=b&255,h=this.jeashTransparent?b>>>24:255;if(this.jeashLocked){for(var i=4*(Math.round(a.x)+Math.round(a.y)*this.jeashImageData.width),j,l,m=0,n=Math.round(a.height);m<n;){j=m++*this.jeashImageData.width;for(var q=0,r=Math.round(a.width);q<r;)l=4*(q++ +j),this.jeashImageData.data[i+
l]=e,this.jeashImageData.data[i+l+1]=k,this.jeashImageData.data[i+l+2]=g,this.jeashImageData.data[i+l+3]=h}this.jeashImageDataChanged=!0;d.putImageData(this.jeashImageData,0,0,a.x,a.y,a.width,a.height)}else this.jeashTransparent&&(i=this.jeashTransparentFiller.getContext("2d").getImageData(a.x,a.y,a.width,a.height),d.putImageData(i,a.x,a.y)),d.fillStyle="rgba("+e+", "+k+", "+g+", "+h/255+")",d.fillRect(a.x,a.y,a.width,a.height)},jeashClearCanvas:function(){this._jeashTextureBuffer.width=this._jeashTextureBuffer.width},
clipRect:function(a){if(0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height))return null;if(a.x+a.width>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0))if(a.width-=a.x+a.width-(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0),0>=a.width)return null;if(a.y+a.height>=(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0))if(a.height-=a.y+a.height-(null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0),0>=
a.height)return null;return a},copyPixels:function(a,b,d){if(!(null==a._jeashTextureBuffer||null==this._jeashTextureBuffer||0==a._jeashTextureBuffer.width||0==a._jeashTextureBuffer.height||0>=b.width||0>=b.height))if(b.x+b.width>a._jeashTextureBuffer.width&&(b.width=a._jeashTextureBuffer.width-b.x),b.y+b.height>a._jeashTextureBuffer.height&&(b.height=a._jeashTextureBuffer.height-b.y),this.jeashLocked)this.jeashCopyPixelList[this.jeashCopyPixelList.length]={handle:a._jeashTextureBuffer,transparentFiller:a.jeashTransparentFiller,
sourceX:b.x,sourceY:b.y,sourceWidth:b.width,sourceHeight:b.height,destX:d.x,destY:d.y};else{this.jeashLease.set(this.jeashLeaseNum++,(new Date).getTime());var e=this._jeashTextureBuffer.getContext("2d");if(this.jeashTransparent&&a.jeashTransparent){var k=a.jeashTransparentFiller.getContext("2d").getImageData(b.x,b.y,b.width,b.height);e.putImageData(k,d.x,d.y)}e.drawImage(a._jeashTextureBuffer,b.x,b.y,b.width,b.height,d.x,d.y,b.width,b.height)}},compare:function(){throw"bitmapData.compare is currently not supported for HTML5";
},dispose:function(){this._jeashTextureBuffer.width=this._jeashTextureBuffer.width;this._jeashTextureBuffer=null;this.jeashLeaseNum=0;this.jeashImageData=this.jeashLease=null},getColorBoundsRect:function(a,b,e){null==e&&(e=!0);var k=this,l=function(g){for(var i=null!=k._jeashTextureBuffer?k._jeashTextureBuffer.width:0,j=0,l=null!=k._jeashTextureBuffer?k._jeashTextureBuffer.height:0,o=0,m=0;m<g.length;){var n=k.getInt32(m,g);if(e){if((n&a)==b){var n=Math.round(m%(4*(null!=k._jeashTextureBuffer?k._jeashTextureBuffer.width:
0))/4),q=Math.round(m/(4*(null!=k._jeashTextureBuffer?k._jeashTextureBuffer.width:0)));n<i&&(i=n);n>j&&(j=n);q<l&&(l=q);q>o&&(o=q)}}else(n&a)!=b&&(n=Math.round(m%(4*(null!=k._jeashTextureBuffer?k._jeashTextureBuffer.width:0))/4),q=Math.round(m/(4*(null!=k._jeashTextureBuffer?k._jeashTextureBuffer.width:0))),n<i&&(i=n),n>j&&(j=n),q<l&&(l=q),q>o&&(o=q));m+=4}return i<j&&l<o?new d.geom.Rectangle(i,l,j-i+1,o-l):new d.geom.Rectangle(0,0,null!=k._jeashTextureBuffer?k._jeashTextureBuffer.width:0,null!=k._jeashTextureBuffer?
k._jeashTextureBuffer.height:0)};if(!this.jeashLocked){var g=this._jeashTextureBuffer.getContext("2d").getImageData(0,0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.width:0,null!=this._jeashTextureBuffer?this._jeashTextureBuffer.height:0);return l(g.data)}return l(this.jeashImageData.data)},_jeashId:null,jeashTransparentFiller:null,jeashInitColor:null,jeashAssignedBitmaps:null,jeashLeaseNum:null,jeashLease:null,jeashLocked:null,jeashCopyPixelList:null,jeashImageDataChanged:null,jeashImageData:null,
rect:null,height:null,width:null,jeashTransparent:null,_jeashTextureBuffer:null,__class__:d.display.BitmapData,__properties__:{get_width:"getWidth",get_height:"getHeight"}};d.display.BitmapDataChannel=function(){};l["jeash.display.BitmapDataChannel"]=d.display.BitmapDataChannel;d.display.BitmapDataChannel.__name__=["jeash","display","BitmapDataChannel"];d.display.BlendMode=l["jeash.display.BlendMode"]={__ename__:["jeash","display","BlendMode"],__constructs__:"ADD ALPHA DARKEN DIFFERENCE ERASE HARDLIGHT INVERT LAYER LIGHTEN MULTIPLY NORMAL OVERLAY SCREEN SUBTRACT".split(" ")};
d.display.BlendMode.ADD=["ADD",0];d.display.BlendMode.ADD.toString=v;d.display.BlendMode.ADD.__enum__=d.display.BlendMode;d.display.BlendMode.ALPHA=["ALPHA",1];d.display.BlendMode.ALPHA.toString=v;d.display.BlendMode.ALPHA.__enum__=d.display.BlendMode;d.display.BlendMode.DARKEN=["DARKEN",2];d.display.BlendMode.DARKEN.toString=v;d.display.BlendMode.DARKEN.__enum__=d.display.BlendMode;d.display.BlendMode.DIFFERENCE=["DIFFERENCE",3];d.display.BlendMode.DIFFERENCE.toString=v;d.display.BlendMode.DIFFERENCE.__enum__=
d.display.BlendMode;d.display.BlendMode.ERASE=["ERASE",4];d.display.BlendMode.ERASE.toString=v;d.display.BlendMode.ERASE.__enum__=d.display.BlendMode;d.display.BlendMode.HARDLIGHT=["HARDLIGHT",5];d.display.BlendMode.HARDLIGHT.toString=v;d.display.BlendMode.HARDLIGHT.__enum__=d.display.BlendMode;d.display.BlendMode.INVERT=["INVERT",6];d.display.BlendMode.INVERT.toString=v;d.display.BlendMode.INVERT.__enum__=d.display.BlendMode;d.display.BlendMode.LAYER=["LAYER",7];d.display.BlendMode.LAYER.toString=
v;d.display.BlendMode.LAYER.__enum__=d.display.BlendMode;d.display.BlendMode.LIGHTEN=["LIGHTEN",8];d.display.BlendMode.LIGHTEN.toString=v;d.display.BlendMode.LIGHTEN.__enum__=d.display.BlendMode;d.display.BlendMode.MULTIPLY=["MULTIPLY",9];d.display.BlendMode.MULTIPLY.toString=v;d.display.BlendMode.MULTIPLY.__enum__=d.display.BlendMode;d.display.BlendMode.NORMAL=["NORMAL",10];d.display.BlendMode.NORMAL.toString=v;d.display.BlendMode.NORMAL.__enum__=d.display.BlendMode;d.display.BlendMode.OVERLAY=["OVERLAY",
11];d.display.BlendMode.OVERLAY.toString=v;d.display.BlendMode.OVERLAY.__enum__=d.display.BlendMode;d.display.BlendMode.SCREEN=["SCREEN",12];d.display.BlendMode.SCREEN.toString=v;d.display.BlendMode.SCREEN.__enum__=d.display.BlendMode;d.display.BlendMode.SUBTRACT=["SUBTRACT",13];d.display.BlendMode.SUBTRACT.toString=v;d.display.BlendMode.SUBTRACT.__enum__=d.display.BlendMode;d.display.CapsStyle=l["jeash.display.CapsStyle"]={__ename__:["jeash","display","CapsStyle"],__constructs__:["NONE","ROUND",
"SQUARE"]};d.display.CapsStyle.NONE=["NONE",0];d.display.CapsStyle.NONE.toString=v;d.display.CapsStyle.NONE.__enum__=d.display.CapsStyle;d.display.CapsStyle.ROUND=["ROUND",1];d.display.CapsStyle.ROUND.toString=v;d.display.CapsStyle.ROUND.__enum__=d.display.CapsStyle;d.display.CapsStyle.SQUARE=["SQUARE",2];d.display.CapsStyle.SQUARE.toString=v;d.display.CapsStyle.SQUARE.__enum__=d.display.CapsStyle;d.display.GradientType=l["jeash.display.GradientType"]={__ename__:["jeash","display","GradientType"],
__constructs__:["RADIAL","LINEAR"]};d.display.GradientType.RADIAL=["RADIAL",0];d.display.GradientType.RADIAL.toString=v;d.display.GradientType.RADIAL.__enum__=d.display.GradientType;d.display.GradientType.LINEAR=["LINEAR",1];d.display.GradientType.LINEAR.toString=v;d.display.GradientType.LINEAR.__enum__=d.display.GradientType;d.display.GfxPoint=function(a,b,d,e,k){this.x=a;this.y=b;this.cx=d;this.cy=e;this.type=k};l["jeash.display.GfxPoint"]=d.display.GfxPoint;d.display.GfxPoint.__name__=["jeash",
"display","GfxPoint"];d.display.GfxPoint.prototype={type:null,cy:null,cx:null,y:null,x:null,__class__:d.display.GfxPoint};d.display.LineJob=function(a,b,d,e,k,g,h,i,j,l,m){this.grad=a;this.point_idx0=b;this.point_idx1=d;this.thickness=e;this.alpha=k;this.colour=g;this.pixel_hinting=h;this.joints=i;this.caps=j;this.scale_mode=l;this.miter_limit=m};l["jeash.display.LineJob"]=d.display.LineJob;d.display.LineJob.__name__=["jeash","display","LineJob"];d.display.LineJob.prototype={miter_limit:null,scale_mode:null,
caps:null,joints:null,pixel_hinting:null,colour:null,alpha:null,thickness:null,point_idx1:null,point_idx0:null,grad:null,__class__:d.display.LineJob};d.display.IGraphicsFill=function(){};l["jeash.display.IGraphicsFill"]=d.display.IGraphicsFill;d.display.IGraphicsFill.__name__=["jeash","display","IGraphicsFill"];d.display.IGraphicsFill.prototype={jeashGraphicsFillType:null,__class__:d.display.IGraphicsFill};d.display.IGraphicsData=function(){};l["jeash.display.IGraphicsData"]=d.display.IGraphicsData;
d.display.IGraphicsData.__name__=["jeash","display","IGraphicsData"];d.display.IGraphicsData.prototype={jeashGraphicsDataType:null,__class__:d.display.IGraphicsData};d.display.GraphicsGradientFill=function(a,b,e,k,l,g,h,i){null==i&&(i=0);this.type=a;this.colors=b;this.alphas=e;this.ratios=k;this.matrix=l;this.spreadMethod=g;this.interpolationMethod=h;this.focalPointRatio=i;this.jeashGraphicsDataType=d.display.GraphicsDataType.GRADIENT;this.jeashGraphicsFillType=d.display.GraphicsFillType.GRADIENT_FILL};
l["jeash.display.GraphicsGradientFill"]=d.display.GraphicsGradientFill;d.display.GraphicsGradientFill.__name__=["jeash","display","GraphicsGradientFill"];d.display.GraphicsGradientFill.__interfaces__=[d.display.IGraphicsFill,d.display.IGraphicsData];d.display.GraphicsGradientFill.prototype={jeashGraphicsFillType:null,jeashGraphicsDataType:null,type:null,spreadMethod:null,ratios:null,matrix:null,interpolationMethod:null,focalPointRatio:null,colors:null,alphas:null,__class__:d.display.GraphicsGradientFill};
d.display.IGraphicsPath=function(){};l["jeash.display.IGraphicsPath"]=d.display.IGraphicsPath;d.display.IGraphicsPath.__name__=["jeash","display","IGraphicsPath"];d.display.GraphicsPath=function(a,b,e){this.commands=a;this.data=b;this.winding=e;this.jeashGraphicsDataType=d.display.GraphicsDataType.PATH};l["jeash.display.GraphicsPath"]=d.display.GraphicsPath;d.display.GraphicsPath.__name__=["jeash","display","GraphicsPath"];d.display.GraphicsPath.__interfaces__=[d.display.IGraphicsPath,d.display.IGraphicsData];
d.display.GraphicsPath.prototype={moveTo:function(a,b){null!=this.commands&&null!=this.data&&(this.commands.push(1),this.data.push(a),this.data.push(b))},lineTo:function(a,b){null!=this.commands&&null!=this.data&&(this.commands.push(2),this.data.push(a),this.data.push(b))},curveTo:function(a,b,d,e){null!=this.commands&&null!=this.data&&(this.commands.push(3),this.data.push(d),this.data.push(e),this.data.push(a),this.data.push(b))},jeashGraphicsDataType:null,winding:null,data:null,commands:null,__class__:d.display.GraphicsPath};
d.display.GraphicsPathCommand=function(){};l["jeash.display.GraphicsPathCommand"]=d.display.GraphicsPathCommand;d.display.GraphicsPathCommand.__name__=["jeash","display","GraphicsPathCommand"];d.display.GraphicsPathWinding=l["jeash.display.GraphicsPathWinding"]={__ename__:["jeash","display","GraphicsPathWinding"],__constructs__:["EVEN_ODD","NON_ZERO"]};d.display.GraphicsPathWinding.EVEN_ODD=["EVEN_ODD",0];d.display.GraphicsPathWinding.EVEN_ODD.toString=v;d.display.GraphicsPathWinding.EVEN_ODD.__enum__=
d.display.GraphicsPathWinding;d.display.GraphicsPathWinding.NON_ZERO=["NON_ZERO",1];d.display.GraphicsPathWinding.NON_ZERO.toString=v;d.display.GraphicsPathWinding.NON_ZERO.__enum__=d.display.GraphicsPathWinding;d.display.GraphicsSolidFill=function(a,b){null==b&&(b=1);null==a&&(a=0);this.alpha=b;this.color=a;this.jeashGraphicsDataType=d.display.GraphicsDataType.SOLID;this.jeashGraphicsFillType=d.display.GraphicsFillType.SOLID_FILL};l["jeash.display.GraphicsSolidFill"]=d.display.GraphicsSolidFill;
d.display.GraphicsSolidFill.__name__=["jeash","display","GraphicsSolidFill"];d.display.GraphicsSolidFill.__interfaces__=[d.display.IGraphicsFill,d.display.IGraphicsData];d.display.GraphicsSolidFill.prototype={jeashGraphicsFillType:null,jeashGraphicsDataType:null,color:null,alpha:null,__class__:d.display.GraphicsSolidFill};d.display.IGraphicsStroke=function(){};l["jeash.display.IGraphicsStroke"]=d.display.IGraphicsStroke;d.display.IGraphicsStroke.__name__=["jeash","display","IGraphicsStroke"];d.display.GraphicsStroke=
function(a,b,e,k,l,g,h){null==g&&(g=3);null==b&&(b=!1);null==a&&(a=0);this.caps=null!=k?k:null;this.fill=h;this.joints=null!=l?l:null;this.miterLimit=g;this.pixelHinting=b;this.scaleMode=null!=e?e:null;this.thickness=a;this.jeashGraphicsDataType=d.display.GraphicsDataType.STROKE};l["jeash.display.GraphicsStroke"]=d.display.GraphicsStroke;d.display.GraphicsStroke.__name__=["jeash","display","GraphicsStroke"];d.display.GraphicsStroke.__interfaces__=[d.display.IGraphicsStroke,d.display.IGraphicsData];
d.display.GraphicsStroke.prototype={jeashGraphicsDataType:null,thickness:null,scaleMode:null,pixelHinting:null,miterLimit:null,joints:null,fill:null,caps:null,__class__:d.display.GraphicsStroke};d.display.GraphicsDataType=l["jeash.display.GraphicsDataType"]={__ename__:["jeash","display","GraphicsDataType"],__constructs__:["STROKE","SOLID","GRADIENT","PATH"]};d.display.GraphicsDataType.STROKE=["STROKE",0];d.display.GraphicsDataType.STROKE.toString=v;d.display.GraphicsDataType.STROKE.__enum__=d.display.GraphicsDataType;
d.display.GraphicsDataType.SOLID=["SOLID",1];d.display.GraphicsDataType.SOLID.toString=v;d.display.GraphicsDataType.SOLID.__enum__=d.display.GraphicsDataType;d.display.GraphicsDataType.GRADIENT=["GRADIENT",2];d.display.GraphicsDataType.GRADIENT.toString=v;d.display.GraphicsDataType.GRADIENT.__enum__=d.display.GraphicsDataType;d.display.GraphicsDataType.PATH=["PATH",3];d.display.GraphicsDataType.PATH.toString=v;d.display.GraphicsDataType.PATH.__enum__=d.display.GraphicsDataType;d.display.GraphicsFillType=
l["jeash.display.GraphicsFillType"]={__ename__:["jeash","display","GraphicsFillType"],__constructs__:["SOLID_FILL","GRADIENT_FILL"]};d.display.GraphicsFillType.SOLID_FILL=["SOLID_FILL",0];d.display.GraphicsFillType.SOLID_FILL.toString=v;d.display.GraphicsFillType.SOLID_FILL.__enum__=d.display.GraphicsFillType;d.display.GraphicsFillType.GRADIENT_FILL=["GRADIENT_FILL",1];d.display.GraphicsFillType.GRADIENT_FILL.toString=v;d.display.GraphicsFillType.GRADIENT_FILL.__enum__=d.display.GraphicsFillType;
d.display.InterpolationMethod=l["jeash.display.InterpolationMethod"]={__ename__:["jeash","display","InterpolationMethod"],__constructs__:["RGB","LINEAR_RGB"]};d.display.InterpolationMethod.RGB=["RGB",0];d.display.InterpolationMethod.RGB.toString=v;d.display.InterpolationMethod.RGB.__enum__=d.display.InterpolationMethod;d.display.InterpolationMethod.LINEAR_RGB=["LINEAR_RGB",1];d.display.InterpolationMethod.LINEAR_RGB.toString=v;d.display.InterpolationMethod.LINEAR_RGB.__enum__=d.display.InterpolationMethod;
d.display.JointStyle=l["jeash.display.JointStyle"]={__ename__:["jeash","display","JointStyle"],__constructs__:["MITER","ROUND","BEVEL"]};d.display.JointStyle.MITER=["MITER",0];d.display.JointStyle.MITER.toString=v;d.display.JointStyle.MITER.__enum__=d.display.JointStyle;d.display.JointStyle.ROUND=["ROUND",1];d.display.JointStyle.ROUND.toString=v;d.display.JointStyle.ROUND.__enum__=d.display.JointStyle;d.display.JointStyle.BEVEL=["BEVEL",2];d.display.JointStyle.BEVEL.toString=v;d.display.JointStyle.BEVEL.__enum__=
d.display.JointStyle;d.display.LineScaleMode=l["jeash.display.LineScaleMode"]={__ename__:["jeash","display","LineScaleMode"],__constructs__:["HORIZONTAL","NONE","NORMAL","VERTICAL"]};d.display.LineScaleMode.HORIZONTAL=["HORIZONTAL",0];d.display.LineScaleMode.HORIZONTAL.toString=v;d.display.LineScaleMode.HORIZONTAL.__enum__=d.display.LineScaleMode;d.display.LineScaleMode.NONE=["NONE",1];d.display.LineScaleMode.NONE.toString=v;d.display.LineScaleMode.NONE.__enum__=d.display.LineScaleMode;d.display.LineScaleMode.NORMAL=
["NORMAL",2];d.display.LineScaleMode.NORMAL.toString=v;d.display.LineScaleMode.NORMAL.__enum__=d.display.LineScaleMode;d.display.LineScaleMode.VERTICAL=["VERTICAL",3];d.display.LineScaleMode.VERTICAL.toString=v;d.display.LineScaleMode.VERTICAL.__enum__=d.display.LineScaleMode;d.display.Loader=function(){d.display.DisplayObjectContainer.call(this);this.contentLoaderInfo=d.display.LoaderInfo.create(this)};l["jeash.display.Loader"]=d.display.Loader;d.display.Loader.__name__=["jeash","display","Loader"];
d.display.Loader.__super__=d.display.DisplayObjectContainer;d.display.Loader.prototype=t(d.display.DisplayObjectContainer.prototype,{validateBounds:function(){if(this.getBoundsInvalid()){d.display.DisplayObjectContainer.prototype.validateBounds.call(this);if(null!=this.mImage){var a=new d.geom.Rectangle(0,0,this.mImage.getWidth(),this.mImage.getHeight());if(0!=a.width||0!=a.height)0==this.jeashBoundsRect.width&&0==this.jeashBoundsRect.height?this.jeashBoundsRect=a.clone():this.jeashBoundsRect.extendBounds(a)}null!=
this.scale9Grid?(this.jeashBoundsRect.width*=this.jeashScaleX,this.jeashBoundsRect.height*=this.jeashScaleY,this.jeashWidth=this.jeashBoundsRect.width,this.jeashHeight=this.jeashBoundsRect.height):(this.jeashWidth=this.jeashBoundsRect.width*this.jeashScaleX,this.jeashHeight=this.jeashBoundsRect.height*this.jeashScaleY)}},handleLoad:function(){this.content.jeashInvalidateBounds();this.content.jeashRender(null,null);this.contentLoaderInfo.removeEventListener(d.events.Event.COMPLETE,A(this,this.handleLoad))},
loadBytes:function(a){var b=this;try{this.contentLoaderInfo.addEventListener(d.events.Event.COMPLETE,A(this,this.handleLoad),!1,2147483647),d.display.BitmapData.loadFromBytes(a,null,function(a){b.content=new d.display.Bitmap(a);b.contentLoaderInfo.content=b.content;b.addChild(b.content);b.contentLoaderInfo.dispatchEvent(new d.events.Event(d.events.Event.COMPLETE))})}catch(e){a=new d.events.IOErrorEvent(d.events.IOErrorEvent.IO_ERROR),this.contentLoaderInfo.dispatchEvent(a)}},load:function(a){var b=
a.url.split("."),e=0==b.length?"":b[b.length-1].toLowerCase(),b=!0;this.contentLoaderInfo.url=a.url;var k=this.contentLoaderInfo;switch(e){case "swf":e="application/x-shockwave-flash";break;case "jpg":case "jpeg":b=!1;e="image/jpeg";break;case "png":e="image/png";break;case "gif":e="image/gif";break;default:throw"Unrecognized file "+a.url;}k.contentType=e;this.mImage=new d.display.BitmapData(0,0,b);try{this.contentLoaderInfo.addEventListener(d.events.Event.COMPLETE,A(this,this.handleLoad),!1,2147483647),
this.mImage.jeashLoadFromFile(a.url,this.contentLoaderInfo),this.content=new d.display.Bitmap(this.mImage),this.contentLoaderInfo.content=this.content,this.addChild(this.content)}catch(l){a=new d.events.IOErrorEvent(d.events.IOErrorEvent.IO_ERROR);this.contentLoaderInfo.dispatchEvent(a);return}null==this.mShape&&(this.mShape=new d.display.Shape,this.addChild(this.mShape))},toString:function(){return"[Loader name="+this.name+" id="+this._jeashId+"]"},mShape:null,mImage:null,contentLoaderInfo:null,
content:null,__class__:d.display.Loader});d.display.PixelSnapping=l["jeash.display.PixelSnapping"]={__ename__:["jeash","display","PixelSnapping"],__constructs__:["NEVER","AUTO","ALWAYS"]};d.display.PixelSnapping.NEVER=["NEVER",0];d.display.PixelSnapping.NEVER.toString=v;d.display.PixelSnapping.NEVER.__enum__=d.display.PixelSnapping;d.display.PixelSnapping.AUTO=["AUTO",1];d.display.PixelSnapping.AUTO.toString=v;d.display.PixelSnapping.AUTO.__enum__=d.display.PixelSnapping;d.display.PixelSnapping.ALWAYS=
["ALWAYS",2];d.display.PixelSnapping.ALWAYS.toString=v;d.display.PixelSnapping.ALWAYS.__enum__=d.display.PixelSnapping;d.display.Shape=function(){d.display.DisplayObject.call(this);this.jeashGraphics=new d.display.Graphics};l["jeash.display.Shape"]=d.display.Shape;d.display.Shape.__name__=["jeash","display","Shape"];d.display.Shape.__super__=d.display.DisplayObject;d.display.Shape.prototype=t(d.display.DisplayObject.prototype,{jeashGetObjectUnderPoint:function(a){return null==this.parent?null:this.parent.mouseEnabled&&
d.display.DisplayObject.prototype.jeashGetObjectUnderPoint.call(this,a)==this?this.parent:null},jeashGetGraphics:function(){return this.jeashGraphics},toString:function(){return"[Shape name="+this.name+" id="+this._jeashId+"]"},graphics:null,jeashGraphics:null,__class__:d.display.Shape,__properties__:t(d.display.DisplayObject.prototype.__properties__,{get_graphics:"jeashGetGraphics"})});d.display.SpreadMethod=l["jeash.display.SpreadMethod"]={__ename__:["jeash","display","SpreadMethod"],__constructs__:["REPEAT",
"REFLECT","PAD"]};d.display.SpreadMethod.REPEAT=["REPEAT",0];d.display.SpreadMethod.REPEAT.toString=v;d.display.SpreadMethod.REPEAT.__enum__=d.display.SpreadMethod;d.display.SpreadMethod.REFLECT=["REFLECT",1];d.display.SpreadMethod.REFLECT.toString=v;d.display.SpreadMethod.REFLECT.__enum__=d.display.SpreadMethod;d.display.SpreadMethod.PAD=["PAD",2];d.display.SpreadMethod.PAD.toString=v;d.display.SpreadMethod.PAD.__enum__=d.display.SpreadMethod;d.display._Stage={};d.display._Stage.TouchInfo=function(){this.touchOverObjects=
[]};l["jeash.display._Stage.TouchInfo"]=d.display._Stage.TouchInfo;d.display._Stage.TouchInfo.__name__=["jeash","display","_Stage","TouchInfo"];d.display._Stage.TouchInfo.prototype={touchOverObjects:null,__class__:d.display._Stage.TouchInfo};d.display.StageAlign=l["jeash.display.StageAlign"]={__ename__:["jeash","display","StageAlign"],__constructs__:"TOP_RIGHT TOP_LEFT TOP RIGHT LEFT BOTTOM_RIGHT BOTTOM_LEFT BOTTOM".split(" ")};d.display.StageAlign.TOP_RIGHT=["TOP_RIGHT",0];d.display.StageAlign.TOP_RIGHT.toString=
v;d.display.StageAlign.TOP_RIGHT.__enum__=d.display.StageAlign;d.display.StageAlign.TOP_LEFT=["TOP_LEFT",1];d.display.StageAlign.TOP_LEFT.toString=v;d.display.StageAlign.TOP_LEFT.__enum__=d.display.StageAlign;d.display.StageAlign.TOP=["TOP",2];d.display.StageAlign.TOP.toString=v;d.display.StageAlign.TOP.__enum__=d.display.StageAlign;d.display.StageAlign.RIGHT=["RIGHT",3];d.display.StageAlign.RIGHT.toString=v;d.display.StageAlign.RIGHT.__enum__=d.display.StageAlign;d.display.StageAlign.LEFT=["LEFT",
4];d.display.StageAlign.LEFT.toString=v;d.display.StageAlign.LEFT.__enum__=d.display.StageAlign;d.display.StageAlign.BOTTOM_RIGHT=["BOTTOM_RIGHT",5];d.display.StageAlign.BOTTOM_RIGHT.toString=v;d.display.StageAlign.BOTTOM_RIGHT.__enum__=d.display.StageAlign;d.display.StageAlign.BOTTOM_LEFT=["BOTTOM_LEFT",6];d.display.StageAlign.BOTTOM_LEFT.toString=v;d.display.StageAlign.BOTTOM_LEFT.__enum__=d.display.StageAlign;d.display.StageAlign.BOTTOM=["BOTTOM",7];d.display.StageAlign.BOTTOM.toString=v;d.display.StageAlign.BOTTOM.__enum__=
d.display.StageAlign;d.display.StageDisplayState=l["jeash.display.StageDisplayState"]={__ename__:["jeash","display","StageDisplayState"],__constructs__:["FULL_SCREEN","NORMAL"]};d.display.StageDisplayState.FULL_SCREEN=["FULL_SCREEN",0];d.display.StageDisplayState.FULL_SCREEN.toString=v;d.display.StageDisplayState.FULL_SCREEN.__enum__=d.display.StageDisplayState;d.display.StageDisplayState.NORMAL=["NORMAL",1];d.display.StageDisplayState.NORMAL.toString=v;d.display.StageDisplayState.NORMAL.__enum__=
d.display.StageDisplayState;d.display.StageQuality=function(){};l["jeash.display.StageQuality"]=d.display.StageQuality;d.display.StageQuality.__name__=["jeash","display","StageQuality"];d.errors={};d.errors.Error=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b};l["jeash.errors.Error"]=d.errors.Error;d.errors.Error.__name__=["jeash","errors","Error"];d.errors.Error.prototype={toString:function(){return null!=this.message?this.message:"Error"},getStackTrace:function(){return k.Stack.toString(k.Stack.exceptionStack())},
name:null,message:null,errorID:null,__class__:d.errors.Error};d.errors.IOError=function(a){null==a&&(a="");d.errors.Error.call(this,a)};l["jeash.errors.IOError"]=d.errors.IOError;d.errors.IOError.__name__=["jeash","errors","IOError"];d.errors.IOError.__super__=d.errors.Error;d.errors.IOError.prototype=t(d.errors.Error.prototype,{__class__:d.errors.IOError});d.events.Listener=function(a,b,e){this.mListner=a;this.mUseCapture=b;this.mPriority=e;this.mID=d.events.Listener.sIDs++};l["jeash.events.Listener"]=
d.events.Listener;d.events.Listener.__name__=["jeash","events","Listener"];d.events.Listener.prototype={dispatchEvent:function(a){this.mListner(a)},Is:function(a,b){return w.compareMethods(this.mListner,a)&&this.mUseCapture==b},mID:null,mPriority:null,mUseCapture:null,mListner:null,__class__:d.events.Listener};d.events.EventPhase=function(){};l["jeash.events.EventPhase"]=d.events.EventPhase;d.events.EventPhase.__name__=["jeash","events","EventPhase"];d.events.FocusEvent=function(a,b,e,k,l,g){d.events.Event.call(this,
a,b,e);this.keyCode=g;this.shiftKey=null==l?!1:l;this.target=k};l["jeash.events.FocusEvent"]=d.events.FocusEvent;d.events.FocusEvent.__name__=["jeash","events","FocusEvent"];d.events.FocusEvent.__super__=d.events.Event;d.events.FocusEvent.prototype=t(d.events.Event.prototype,{relatedObject:null,shiftKey:null,keyCode:null,__class__:d.events.FocusEvent});d.events.HTTPStatusEvent=function(a,b,e,k){null==k&&(k=0);null==e&&(e=!1);null==b&&(b=!1);this.status=k;d.events.Event.call(this,a,b,e)};l["jeash.events.HTTPStatusEvent"]=
d.events.HTTPStatusEvent;d.events.HTTPStatusEvent.__name__=["jeash","events","HTTPStatusEvent"];d.events.HTTPStatusEvent.__super__=d.events.Event;d.events.HTTPStatusEvent.prototype=t(d.events.Event.prototype,{status:null,responseURL:null,responseHeaders:null,__class__:d.events.HTTPStatusEvent});d.events.IOErrorEvent=function(a,b,e,k){null==k&&(k="");d.events.Event.call(this,a,b,e);this.text=k};l["jeash.events.IOErrorEvent"]=d.events.IOErrorEvent;d.events.IOErrorEvent.__name__=["jeash","events","IOErrorEvent"];
d.events.IOErrorEvent.__super__=d.events.Event;d.events.IOErrorEvent.prototype=t(d.events.Event.prototype,{text:null,__class__:d.events.IOErrorEvent});d.events.KeyboardEvent=function(a,b,e,k,l,g,h,i,j){d.events.Event.call(this,a,b,e);this.keyCode=l;this.keyLocation=null==g?0:g;this.charCode=null==k?0:k;this.shiftKey=null==j?!1:j;this.altKey=null==i?!1:i;this.ctrlKey=null==h?!1:h};l["jeash.events.KeyboardEvent"]=d.events.KeyboardEvent;d.events.KeyboardEvent.__name__=["jeash","events","KeyboardEvent"];
d.events.KeyboardEvent.__super__=d.events.Event;d.events.KeyboardEvent.prototype=t(d.events.Event.prototype,{shiftKey:null,altKey:null,ctrlKey:null,keyLocation:null,charCode:null,keyCode:null,__class__:d.events.KeyboardEvent});d.events.ProgressEvent=function(a,b,e,k,l){null==l&&(l=0);null==k&&(k=0);null==e&&(e=!1);null==b&&(b=!1);d.events.Event.call(this,a,b,e);this.bytesLoaded=k;this.bytesTotal=l};l["jeash.events.ProgressEvent"]=d.events.ProgressEvent;d.events.ProgressEvent.__name__=["jeash","events",
"ProgressEvent"];d.events.ProgressEvent.__super__=d.events.Event;d.events.ProgressEvent.prototype=t(d.events.Event.prototype,{bytesTotal:null,bytesLoaded:null,__class__:d.events.ProgressEvent});d.filters={};d.filters.BitmapFilter=function(a){this._mType=a};l["jeash.filters.BitmapFilter"]=d.filters.BitmapFilter;d.filters.BitmapFilter.__name__=["jeash","filters","BitmapFilter"];d.filters.BitmapFilter.prototype={jeashApplyFilter:function(){},jeashPreFilter:function(){},clone:function(){throw"Implement in subclass. BitmapFilter::clone";
},_mType:null,_jeashCached:null,__class__:d.filters.BitmapFilter};d.filters.ColorMatrixFilter=function(a){d.filters.BitmapFilter.call(this,"ColorMatrixFilter");this.matrix=a};l["jeash.filters.ColorMatrixFilter"]=d.filters.ColorMatrixFilter;d.filters.ColorMatrixFilter.__name__=["jeash","filters","ColorMatrixFilter"];d.filters.ColorMatrixFilter.__super__=d.filters.BitmapFilter;d.filters.ColorMatrixFilter.prototype=t(d.filters.BitmapFilter.prototype,{matrix:null,__class__:d.filters.ColorMatrixFilter});
d.filters.DropShadowFilter=function(a,b,e,k,l,g,h,i,j,m,n){null==n&&(n=!1);null==m&&(m=!1);null==j&&(j=!1);null==i&&(i=1);null==h&&(h=1);null==l&&(l=4);null==k&&(k=1);null==e&&(e=0);null==b&&(b=45);null==a&&(a=4);d.filters.BitmapFilter.call(this,"DropShadowFilter");this.distance=a;this.angle=b;this.color=e;this.alpha=k;this.blurY=this.blurX=l;this.strength=h;this.quality=i;this.inner=j;this.knockout=m;this.hideObject=n;this._jeashCached=!1};l["jeash.filters.DropShadowFilter"]=d.filters.DropShadowFilter;
d.filters.DropShadowFilter.__name__=["jeash","filters","DropShadowFilter"];d.filters.DropShadowFilter.__super__=d.filters.BitmapFilter;d.filters.DropShadowFilter.prototype=t(d.filters.BitmapFilter.prototype,{jeashApplyFilter:function(a,b){if(!this._jeashCached||b){var d=this.distance*Math.sin(2*Math.PI*this.angle/360),e=this.distance*Math.cos(2*Math.PI*this.angle/360),k=Math.max(this.blurX,this.blurY),g=a.getContext("2d");g.shadowOffsetX=d;g.shadowOffsetY=e;g.shadowBlur=k;g.shadowColor="#"+E.hex(this.color,
6);this._jeashCached=!0}},clone:function(){return new d.filters.DropShadowFilter(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,this.hideObject)},hideObject:null,knockout:null,inner:null,strength:null,quality:null,blurY:null,blurX:null,alpha:null,color:null,angle:null,distance:null,__class__:d.filters.DropShadowFilter});d.media.Sound=function(a,b){d.events.EventDispatcher.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.id3=
null;this.isBuffering=!1;this.length=0;this.url=null;this.jeashSoundChannels=new B;this.jeashSoundIdx=0;null!=a&&this.load(a,b)};l["jeash.media.Sound"]=d.media.Sound;d.media.Sound.__name__=["jeash","media","Sound"];d.media.Sound.jeashCanPlayType=function(a){a=d.media.Sound.jeashMimeForExtension(a);return null==a?!1:d.media.Sound.jeashCanPlayMime(a)};d.media.Sound.jeashMimeForExtension=function(a){var b=null;switch(a){case "mp3":b="audio/mpeg";break;case "ogg":b='audio/ogg; codecs="vorbis"';break;
case "wav":b='audio/wav; codecs="1"';break;case "aac":b='audio/mp4; codecs="mp4a.40.2"';break;default:b=null}return b};d.media.Sound.jeashCanPlayMime=function(a){a=n.Lib.document.createElement("audio").canPlayType(a);return""!=a&&"no"!=a?!0:!1};d.media.Sound.__super__=d.events.EventDispatcher;d.media.Sound.prototype=t(d.events.EventDispatcher.prototype,{jeashOnSoundLoadError:function(){this.jeashRemoveEventListeners();var a=new d.events.IOErrorEvent(d.events.IOErrorEvent.IO_ERROR);this.dispatchEvent(a)},
jeashOnSoundLoaded:function(){this.jeashRemoveEventListeners();var a=new d.events.Event(d.events.Event.COMPLETE);this.dispatchEvent(a)},jeashRemoveEventListeners:function(){this.jeashSoundCache.removeEventListener(d.events.Event.COMPLETE,A(this,this.jeashOnSoundLoaded),!1);this.jeashSoundCache.removeEventListener(d.events.IOErrorEvent.IO_ERROR,A(this,this.jeashOnSoundLoadError),!1)},jeashAddEventListeners:function(){this.jeashSoundCache.addEventListener(d.events.Event.COMPLETE,A(this,this.jeashOnSoundLoaded));
this.jeashSoundCache.addEventListener(d.events.IOErrorEvent.IO_ERROR,A(this,this.jeashOnSoundLoadError))},play:function(a,b,e){null==b&&(b=0);null==a&&(a=0);if(null==this.jeashStreamUrl)return null;var k=this,l=this.jeashSoundIdx,a=d.media.SoundChannel.jeashCreate(this.jeashStreamUrl,a,b,e,function(){k.jeashSoundChannels.remove(l)});this.jeashSoundChannels.set(l,a);this.jeashSoundIdx++;return a},jeashLoad:function(a){this.jeashStreamUrl=a.url;try{this.jeashSoundCache=new d.net.URLLoader,this.jeashAddEventListeners(),
this.jeashSoundCache.load(a)}catch(b){}},load:function(a,b){this.jeashLoad(a,b)},close:function(){},jeashSoundCache:null,jeashSoundIdx:null,jeashSoundChannels:null,jeashStreamUrl:null,url:null,length:null,isBuffering:null,id3:null,bytesTotal:null,bytesLoaded:null,__class__:d.media.Sound});d.media.SoundChannel=function(){d.events.EventDispatcher.call(this,this);this.ChannelId=-1;this.rightPeak=this.position=this.leftPeak=0;this.jeashAudioTotalLoops=this.jeashAudioCurrentLoop=1};l["jeash.media.SoundChannel"]=
d.media.SoundChannel;d.media.SoundChannel.__name__=["jeash","media","SoundChannel"];d.media.SoundChannel.jeashCreate=function(a,b,e,k,l){null==e&&(e=0);null==b&&(b=0);var g=new d.media.SoundChannel;g.jeashAudio=n.Lib.document.createElement("audio");g.jeashRemoveRef=l;g.jeashAudio.addEventListener("ended",A(g,g.__onSoundChannelFinished),!1);g.jeashAudio.addEventListener("seeked",A(g,g.__onSoundSeeked),!1);g.jeashAudio.addEventListener("stalled",A(g,g.__onStalled),!1);g.jeashAudio.addEventListener("progress",
A(g,g.__onProgress),!1);0<e&&(g.jeashAudioTotalLoops=e,g.jeashAudio.loop=!0);g.jeashStartTime=b;if(0<b){var h=null,h=function(){g.jeashAudio.currentTime=g.jeashStartTime;g.jeashAudio.play();g.jeashAudio.removeEventListener("canplaythrough",h,false)};g.jeashAudio.addEventListener("canplaythrough",h,!1)}else g.jeashAudio.autoplay=!0;g.jeashAudio.src=a;return g};d.media.SoundChannel.__super__=d.events.EventDispatcher;d.media.SoundChannel.prototype=t(d.events.EventDispatcher.prototype,{__onSoundChannelFinished:function(){if(this.jeashAudioCurrentLoop>=
this.jeashAudioTotalLoops){this.jeashAudio.removeEventListener("ended",A(this,this.__onSoundChannelFinished),!1);this.jeashAudio.removeEventListener("seeked",A(this,this.__onSoundSeeked),!1);this.jeashAudio.removeEventListener("stalled",A(this,this.__onStalled),!1);this.jeashAudio.removeEventListener("progress",A(this,this.__onProgress),!1);this.jeashAudio=null;var a=new d.events.Event(d.events.Event.COMPLETE);a.target=this;this.dispatchEvent(a);null!=this.jeashRemoveRef&&this.jeashRemoveRef()}else this.jeashAudio.currentTime=
this.jeashStartTime,this.jeashAudio.play()},__onProgress:function(){null},__onStalled:function(){null!=this.jeashAudio&&this.jeashAudio.load()},__onSoundSeeked:function(){this.jeashAudioCurrentLoop>=this.jeashAudioTotalLoops?(this.jeashAudio.loop=!1,this.stop()):this.jeashAudioCurrentLoop++},jeashSetSoundTransform:function(a){this.jeashAudio.volume=a.volume;return this.soundTransform=a},stop:function(){null!=this.jeashAudio&&(this.jeashAudio.pause(),this.jeashAudio=null,null!=this.jeashRemoveRef&&
this.jeashRemoveRef())},jeashAudio:null,jeashStartTime:null,jeashRemoveRef:null,jeashAudioTotalLoops:null,jeashAudioCurrentLoop:null,soundTransform:null,rightPeak:null,position:null,leftPeak:null,ChannelId:null,__class__:d.media.SoundChannel,__properties__:{set_soundTransform:"jeashSetSoundTransform"}});d.media.SoundLoaderContext=function(a,b){this.bufferTime=a;this.checkPolicyFile=b};l["jeash.media.SoundLoaderContext"]=d.media.SoundLoaderContext;d.media.SoundLoaderContext.__name__=["jeash","media",
"SoundLoaderContext"];d.media.SoundLoaderContext.prototype={checkPolicyFile:null,bufferTime:null,__class__:d.media.SoundLoaderContext};d.net={};d.net.SharedObject=function(){d.events.EventDispatcher.call(this)};l["jeash.net.SharedObject"]=d.net.SharedObject;d.net.SharedObject.__name__=["jeash","net","SharedObject"];d.net.SharedObject.jeashGetLocalStorage=function(){return n.Lib.window.localStorage};d.net.SharedObject.getLocal=function(a,b){var e=n.Lib.window.location.href;null==b&&(b=e);e=new d.net.SharedObject;
e.jeashKey=b+":"+a;var l=d.net.SharedObject.jeashGetLocalStorage().getItem(e.jeashKey);e.data=""==l||null==l?{}:k.Unserializer.run(l);return e};d.net.SharedObject.__super__=d.events.EventDispatcher;d.net.SharedObject.prototype=t(d.events.EventDispatcher.prototype,{flush:function(){var a=k.Serializer.run(this.data);d.net.SharedObject.jeashGetLocalStorage().setItem(this.jeashKey,a);return d.net.SharedObjectFlushedStatus.FLUSHED},clear:function(){this.data={};d.net.SharedObject.jeashGetLocalStorage().removeItem(this.jeashKey);
this.flush()},data:null,jeashKey:null,__class__:d.net.SharedObject});d.net.SharedObjectFlushedStatus=function(){};l["jeash.net.SharedObjectFlushedStatus"]=d.net.SharedObjectFlushedStatus;d.net.SharedObjectFlushedStatus.__name__=["jeash","net","SharedObjectFlushedStatus"];d.net.URLLoader=function(a){d.events.EventDispatcher.call(this);this.bytesTotal=this.bytesLoaded=0;this.dataFormat=d.net.URLLoaderDataFormat.TEXT;null!=a&&this.load(a)};l["jeash.net.URLLoader"]=d.net.URLLoader;d.net.URLLoader.__name__=
["jeash","net","URLLoader"];d.net.URLLoader.__super__=d.events.EventDispatcher;d.net.URLLoader.prototype=t(d.events.EventDispatcher.prototype,{getData:function(){},requestUrl:function(a,b,e,k){var l=new XMLHttpRequest;this.registerEvents(l);var g="";switch(!0){case null==e:break;case n.Boot.__instanceof(e,d.utils.ByteArray):var h=e;switch(this.dataFormat[1]){case 0:g=h.jeashGetBuffer();break;default:g=h.readUTFBytes(h.length)}break;case n.Boot.__instanceof(e,d.net.URLVariables):for(var h=e,e=0,i=
w.fields(h);e<i.length;){var j=i[e];++e;0!=g.length&&(g+="&");g+=E.urlEncode(j)+"="+E.urlEncode(w.field(h,j))}break;default:null!=e&&(g=e.toString())}try{if("GET"==b&&null!=g&&""!=g){var p=1>=a.split("?").length;l.open(b,a+(p?"?":"&")+m.string(g),!0);g=""}else l.open(b,a,!0)}catch(q){this.onError(q.toString());return}switch(this.dataFormat[1]){case 0:l.responseType="arraybuffer"}for(e=0;e<k.length;)a=k[e],++e,l.setRequestHeader(a.name,a.value);l.send(g);this.onOpen();this.getData=function(){return l.response}},
registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",A(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var d;try{d=a.status}catch(e){d=null}void 0==d&&(d=null);if(null!=d)b.onStatus(d);if(null!=d&&200<=d&&400>d)b.onData(a.response);else switch(d){case null:case void 0:b.onError("Failed to connect or resolve host");break;case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");
break;default:b.onError("Http Error #"+a.status)}}}},onProgress:function(a){var b=new d.events.ProgressEvent(d.events.ProgressEvent.PROGRESS);b.currentTarget=this;b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onStatus:function(a){a=new d.events.HTTPStatusEvent(d.events.HTTPStatusEvent.HTTP_STATUS,!1,!1,a);a.currentTarget=this;this.dispatchEvent(a)},onOpen:function(){var a=new d.events.Event(d.events.Event.OPEN);a.currentTarget=this;this.dispatchEvent(a)},onError:function(a){var b=
new d.events.IOErrorEvent(d.events.IOErrorEvent.IO_ERROR);b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onData:function(){var a=this.getData();if(n.Boot.__instanceof(a,String))this.data=m.string(a);else if(n.Boot.__instanceof(a,d.utils.ByteArray))this.data=d.utils.ByteArray.jeashOfBuffer(a);else switch(this.dataFormat[1]){case 0:this.data=d.utils.ByteArray.jeashOfBuffer(a);break;default:var b=d.utils.ByteArray.jeashOfBuffer(a);this.data=null!=b&&0<b.length?m.string(b.readUTFBytes(b.length)):
m.string(a)}a=new d.events.Event(d.events.Event.COMPLETE);a.currentTarget=this;this.dispatchEvent(a)},load:function(a){if(null==a.contentType)switch(this.dataFormat[1]){case 0:a.requestHeaders.push(new d.net.URLRequestHeader("Content-Type","application/octet-stream"));break;default:a.requestHeaders.push(new d.net.URLRequestHeader("Content-Type","application/x-www-form-urlencoded"))}else a.requestHeaders.push(new d.net.URLRequestHeader("Content-Type",a.contentType));this.requestUrl(a.url,a.method,
a.data,a.requestHeaders)},close:function(){},dataFormat:null,data:null,bytesTotal:null,bytesLoaded:null,__class__:d.net.URLLoader});d.net.URLLoaderDataFormat=l["jeash.net.URLLoaderDataFormat"]={__ename__:["jeash","net","URLLoaderDataFormat"],__constructs__:["BINARY","TEXT","VARIABLES"]};d.net.URLLoaderDataFormat.BINARY=["BINARY",0];d.net.URLLoaderDataFormat.BINARY.toString=v;d.net.URLLoaderDataFormat.BINARY.__enum__=d.net.URLLoaderDataFormat;d.net.URLLoaderDataFormat.TEXT=["TEXT",1];d.net.URLLoaderDataFormat.TEXT.toString=
v;d.net.URLLoaderDataFormat.TEXT.__enum__=d.net.URLLoaderDataFormat;d.net.URLLoaderDataFormat.VARIABLES=["VARIABLES",2];d.net.URLLoaderDataFormat.VARIABLES.toString=v;d.net.URLLoaderDataFormat.VARIABLES.__enum__=d.net.URLLoaderDataFormat;d.net.URLRequest=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method=d.net.URLRequestMethod.GET;this.contentType="application/x-www-form-urlencoded"};l["jeash.net.URLRequest"]=d.net.URLRequest;d.net.URLRequest.__name__=["jeash","net","URLRequest"];
d.net.URLRequest.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,__class__:d.net.URLRequest};d.net.URLRequestHeader=function(a,b){this.name=a;this.value=b};l["jeash.net.URLRequestHeader"]=d.net.URLRequestHeader;d.net.URLRequestHeader.__name__=["jeash","net","URLRequestHeader"];d.net.URLRequestHeader.prototype={value:null,name:null,__class__:d.net.URLRequestHeader};d.net.URLRequestMethod=function(){};l["jeash.net.URLRequestMethod"]=d.net.URLRequestMethod;d.net.URLRequestMethod.__name__=
["jeash","net","URLRequestMethod"];d.net.URLVariables=function(a){null!=a&&this.decode(a)};l["jeash.net.URLVariables"]=d.net.URLVariables;d.net.URLVariables.__name__=["jeash","net","URLVariables"];d.net.URLVariables.prototype={toString:function(){for(var a=[],b=w.fields(this),d=0;d<b.length;){var e=b[d];++d;a.push(E.urlEncode(e)+"="+E.urlEncode(w.field(this,e)))}return a.join("&")},decode:function(a){for(var b=w.fields(this),d=0;d<b.length;){var e=b[d];++d;w.deleteField(this,e)}a=a.split(";").join("&").split("&");
for(d=0;d<a.length;)e=a[d],++d,b=e.indexOf("="),0<b?this[E.urlDecode(x.substr(e,0,b))]=E.urlDecode(x.substr(e,b+1,null)):0!=b&&(this[E.urlDecode(e)]="")},__class__:d.net.URLVariables};d.system={};d.system.Capabilities=function(){};l["jeash.system.Capabilities"]=d.system.Capabilities;d.system.Capabilities.__name__=["jeash","system","Capabilities"];d.system.Capabilities.__properties__={get_language:"jeashGetLanguage",get_screenResolutionY:"jeashGetScreenResolutionY",get_screenResolutionX:"jeashGetScreenResolutionX",
get_screenDPI:"jeashGetScreenDPI",get_pixelAspectRatio:"jeashGetPixelAspectRatio"};d.system.Capabilities.pixelAspectRatio=null;d.system.Capabilities.screenDPI=null;d.system.Capabilities.screenResolutionX=null;d.system.Capabilities.screenResolutionY=null;d.system.Capabilities.language=null;d.system.Capabilities.jeashGetPixelAspectRatio=function(){return 1};d.system.Capabilities.jeashGetScreenDPI=function(){return 72};d.system.Capabilities.jeashGetScreenResolutionX=function(){return 0};d.system.Capabilities.jeashGetScreenResolutionY=
function(){return 0};d.system.Capabilities.jeashGetLanguage=function(){return navigator.language};d.system.LoaderContext=function(a){null==a&&(a=!1);this.checkPolicyFile=a};l["jeash.system.LoaderContext"]=d.system.LoaderContext;d.system.LoaderContext.__name__=["jeash","system","LoaderContext"];d.system.LoaderContext.prototype={securityDomain:null,checkPolicyFile:null,applicationDomain:null,__class__:d.system.LoaderContext};d.system.System=function(){};l["jeash.system.System"]=d.system.System;d.system.System.__name__=
["jeash","system","System"];d.system.System.__properties__={get_totalMemory:"GetMemory",get_vmVersion:"getVersion"};d.system.System.vmVersion=null;d.system.System.getVersion=function(){return"Jeash - tip"};d.system.System.totalMemory=null;d.system.System.exit=function(){throw"System.exit is currently not supported for HTML5";};d.system.System.gc=function(){};d.system.System.pause=function(){throw"System.pause is currently not supported for HTML5";};d.system.System.resume=function(){throw"System.resume is currently not supported for HTML5";
};d.system.System.setClipboard=function(){throw"System.setClipboard is currently not supported for HTML5";};d.system.System.GetMemory=function(){return 0};d.text={};d.text.Font=function(){this.jeashMetrics=[];this.jeashFontScale=9;var a=C.getClassName(C.getClass(this));null==d.text.Font.jeashFontData&&(d.text.Font.jeashFontData=[],d.text.Font.jeashFontData.Bitstream_Vera_Sans=d.text.Font.DEFAULT_FONT_DATA);this.jeashSetFontName("jeash.text.Font"==a?"Bitstream_Vera_Sans":a.split(".").pop())};l["jeash.text.Font"]=
d.text.Font;d.text.Font.__name__=["jeash","text","Font"];d.text.Font.jeashFontData=null;d.text.Font.enumerateFonts=function(){var a=new d.text.Font;a.jeashSetFontName("Bitstream_Vera_Sans");a.fontStyle=d.text.FontStyle.REGULAR;a.fontType=d.text.FontType.DEVICE;return[a]};d.text.Font.registerFont=function(){};d.text.Font.jeashOfResource=function(a){var b=k.Resource.getString(a);null==b?null:d.text.Font.jeashFontData[a]=b};d.text.Font.prototype={jeashSetFontName:function(a){if("_sans"==a||"_serif"==
a||"_typewriter"==a)a="Bitstream_Vera_Sans";this.fontName=a;if(null==d.text.Font.jeashFontData[this.fontName])try{d.text.Font.jeashOfResource(a)}catch(b){s.Lib.trace("Glyph data for font '"+a+"' does not exist, defaulting to 'Bitstream_Vera_Sans'."),this.fontName="Bitstream_Vera_Sans"}else try{this.jeashGlyphData=k.Unserializer.run(d.text.Font.jeashFontData[this.fontName])}catch(e){s.Lib.trace("Error decoding font '"+a+"', defaulting to 'Bitstream_Vera_Sans'."),this.fontName="Bitstream_Vera_Sans"}return a},
jeashRender:function(a,b,d,e){var k=0,g=this.jeashGlyphData.get(b);if(null!=g)for(var b=g.commands,g=g.data,h=0;h<b.length;){var i=b[h];++h;switch(i){case 1:a.moveTo(d+g[k++]*this.jeashFontScale,e+g[k++]*this.jeashFontScale);break;case 2:a.lineTo(d+g[k++]*this.jeashFontScale,e+g[k++]*this.jeashFontScale);break;case 3:a.curveTo(d+g[k++]*this.jeashFontScale,e+g[k++]*this.jeashFontScale,d+g[k++]*this.jeashFontScale,e+g[k++]*this.jeashFontScale)}}},jeashGetAdvance:function(a){var b=this.jeashMetrics[a];
if(null==b){b=this.jeashGlyphData.get(a);if(null==b)return 0;this.jeashMetrics[a]=b=b._width*this.jeashFontScale|0}return null==b?0:b},jeashSetScale:function(a){this.jeashFontScale=a/1024},hasGlyph:function(){return!1},jeashFontScale:null,jeashGlyphData:null,jeashMetrics:null,fontType:null,fontStyle:null,fontName:null,__class__:d.text.Font,__properties__:{set_fontName:"jeashSetFontName"}};d.text.FontStyle=l["jeash.text.FontStyle"]={__ename__:["jeash","text","FontStyle"],__constructs__:["REGULAR",
"ITALIC","BOLD_ITALIC","BOLD"]};d.text.FontStyle.REGULAR=["REGULAR",0];d.text.FontStyle.REGULAR.toString=v;d.text.FontStyle.REGULAR.__enum__=d.text.FontStyle;d.text.FontStyle.ITALIC=["ITALIC",1];d.text.FontStyle.ITALIC.toString=v;d.text.FontStyle.ITALIC.__enum__=d.text.FontStyle;d.text.FontStyle.BOLD_ITALIC=["BOLD_ITALIC",2];d.text.FontStyle.BOLD_ITALIC.toString=v;d.text.FontStyle.BOLD_ITALIC.__enum__=d.text.FontStyle;d.text.FontStyle.BOLD=["BOLD",3];d.text.FontStyle.BOLD.toString=v;d.text.FontStyle.BOLD.__enum__=
d.text.FontStyle;d.text.FontType=l["jeash.text.FontType"]={__ename__:["jeash","text","FontType"],__constructs__:["EMBEDDED","DEVICE"]};d.text.FontType.EMBEDDED=["EMBEDDED",0];d.text.FontType.EMBEDDED.toString=v;d.text.FontType.EMBEDDED.__enum__=d.text.FontType;d.text.FontType.DEVICE=["DEVICE",1];d.text.FontType.DEVICE.toString=v;d.text.FontType.DEVICE.__enum__=d.text.FontType;d.text.TextField=function(){d.display.InteractiveObject.call(this);this.mWidth=100;this.mHeight=20;this.multiline=this.mHTMLMode=
!1;this.jeashGraphics=new d.display.Graphics;this.mFace=d.text.TextField.mDefaultFont;this.mAlign=d.text.TextFormatAlign.LEFT;this.mParagraphs=[];this.mSelEnd=this.mSelStart=-1;this.mScrollH=0;this.mScrollV=1;this.mType=d.text.TextFieldType.DYNAMIC;this.SetAutoSize(d.text.TextFieldAutoSize.NONE);this.mMaxHeight=this.mTextHeight=12;this.mText=this.mHTMLText=" ";this.mTextColour=0;this.tabEnabled=!1;this.selectable=this.mTryFreeType=!0;this.mInsertPos=0;this.jeashInputEnabled=!1;this.mDownChar=0;this.mSelectDrag=
-1;this.mLineInfo=[];this.jeashSetDefaultTextFormat(new d.text.TextFormat);this.SetBorderColor(0);this.SetBorder(!1);this.SetBackgroundColor(16777215);this.SetBackground(!1)};l["jeash.text.TextField"]=d.text.TextField;d.text.TextField.__name__=["jeash","text","TextField"];d.text.TextField.__super__=d.display.InteractiveObject;d.text.TextField.prototype=t(d.display.InteractiveObject.prototype,{jeashRender:function(a,b){if(this.jeashVisible){(0!=(this._jeashRenderFlags&4)||0!=(this._jeashRenderFlags&
8))&&this.jeashValidateMatrix();this.jeashGraphics.jeashRender(a,this.jeashFilters,1,1)&&(this._jeashRenderFlags|=64,null!=this.parent&&(this.parent._jeashRenderFlags|=64),this.jeashApplyFilters(this.jeashGraphics.jeashSurface),this._jeashRenderFlags|=32);var e=(null!=this.parent?this.parent.alpha:1)*this.alpha;if(!this.mHTMLMode&&null!=a){var k=this.getSurfaceTransform(this.jeashGraphics);d.Lib.jeashDrawToSurface(this.jeashGraphics.jeashSurface,a,k,e,b)}else if(0!=(this._jeashRenderFlags&32)&&(k=
this.getSurfaceTransform(this.jeashGraphics),d.Lib.jeashSetSurfaceTransform(this.jeashGraphics.jeashSurface,k),this._jeashRenderFlags&=-33),e!=this._lastFullAlpha)d.Lib.jeashSetSurfaceOpacity(this.jeashGraphics.jeashSurface,e),this._lastFullAlpha=e}},jeashGetObjectUnderPoint:function(a){return this.jeashGetVisible()?1<this.mText.length?(a=this.globalToLocal(a),0>a.x||0>a.y||a.x>this.mMaxWidth||a.y>this.mMaxHeight?null:this):d.display.InteractiveObject.prototype.jeashGetObjectUnderPoint.call(this,
a):null},setTextFormat:function(a){null!=a.font&&(this.mFace=a.font);null!=a.size&&(this.mTextHeight=a.size|0);null!=a.align&&(this.mAlign=a.align);null!=a.color&&(this.mTextColour=a.color);this.RebuildText();this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64);return this.getTextFormat()},getTextFormat:function(){return new d.text.TextFormat},jeashSetDefaultTextFormat:function(a){this.setTextFormat(a);return this._defaultTextFormat=a},jeashGetDefaultTextFormat:function(){return this._defaultTextFormat},
setSelection:function(){},appendText:function(a){this.SetText(this.GetText()+a)},SetHTMLText:function(a){this.mParagraphs=[];this.mHTMLText=a;if(this.mHTMLMode)this.jeashGraphics.jeashSurface.innerHTML=a;else{var b=n.Lib.document.createElement("div");b.innerHTML=a;var a=new d.display.Graphics(b),e=this.jeashGraphics.jeashSurface;d.Lib.jeashIsOnStage(e)&&(d.Lib.jeashAppendSurface(b),d.Lib.jeashCopyStyle(e,b),d.Lib.jeashSwapSurface(e,b),d.Lib.jeashRemoveSurface(e));this.jeashGraphics=a;this.jeashGraphics.jeashExtent.width=
b.width;this.jeashGraphics.jeashExtent.height=b.height}this.mHTMLMode=!0;this.RebuildText();this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64);return this.mHTMLText},RebuildText:function(){this.mParagraphs=[];if(!this.mHTMLMode)for(var a=d.text.FontInstance.CreateSolid(this.mFace,this.mTextHeight,this.mTextColour,1),b=this.mText.split("\n"),e=0;e<b.length;){var k=b[e];++e;this.mParagraphs.push({align:this.mAlign,spans:[{font:a,text:k+"\n"}]})}this.Rebuild()},DecodeColour:function(a){return m.parseInt("0x"+
x.substr(a,1,null))},GetHTMLText:function(){return this.mHTMLText},SetBackground:function(a){this.background=a;this.Rebuild();return a},SetBackgroundColor:function(a){this.backgroundColor=a;this.Rebuild();return a},SetBorderColor:function(a){this.borderColor=a;this.Rebuild();return a},SetBorder:function(a){this.border=a;this.Rebuild();return a},SetWordWrap:function(a){this.wordWrap=a;this.Rebuild();return this.wordWrap},SetAutoSize:function(a){this.autoSize=a;this.Rebuild();return a},ConvertHTMLToText:function(a){this.mText=
"";for(var b=0,d=this.mParagraphs;b<d.length;){var e=d[b];++b;for(var k=0,e=e.spans;k<e.length;){var g=e[k];++k;this.mText+=g.text}}a&&(this.mHTMLMode=!1,this.RebuildText())},SetText:function(a){this.mText=a;this.mHTMLMode=!1;this.RebuildText();this._jeashRenderFlags|=64;null!=this.parent&&(this.parent._jeashRenderFlags|=64);return this.mText},GetText:function(){this.mHTMLMode&&this.ConvertHTMLToText(!1);return this.mText},SetTextColour:function(a){this.mTextColour=a;this.RebuildText();return a},
GetTextColour:function(){return this.mTextColour},GetTextHeight:function(){return this.mMaxHeight},GetTextWidth:function(){return this.mMaxWidth},Rebuild:function(){if(!this.mHTMLMode){this.mLineInfo=[];this.jeashGraphics.clear();this.background&&(this.jeashGraphics.beginFill(this.backgroundColor),this.jeashGraphics.drawRect(-2,-2,this.jeashGetWidth()+4,this.jeashGetHeight()+4),this.jeashGraphics.endFill());this.jeashGraphics.lineStyle(this.mTextColour);var a=null;this.mMaxWidth=0;for(var b=this.mLimitRenderX=
this.wordWrap&&!this.jeashInputEnabled?this.mWidth|0:999999,e=0,k=0,l=this.mSelStart,g=this.mSelEnd,h=0,i=this.mParagraphs;h<i.length;){var j=i[h];++h;for(var m=[],n=0,q=0,r=0,s=e,t=0,v=0,w=j.spans;v<w.length;){n=w[v];++v;for(var y=n.text,A=n.font,B=A.jeashGetHeight(),n=m.length,q=0,r=e,C=0,D=y.length;C<D;){var E=C++,E=x.cca(y,E),F=A.jeashGetAdvance(E);32==E&&(n=m.length,q=t,r=e);if(t+F>b)if(0<n){var G=m.splice(n,m.length-n),k=k+this.RenderRow(m,k,s,j.align),m=G,t=t-q,s=r,r=q=n=0;0<G.length&&32==
G[0].chr&&(G.shift(),s++)}else k+=this.RenderRow(m,k,e,j.align),m=[],t=0,s=e;m.push({font:A,chr:E,x:t,fh:B,sel:e>=l&&e<g,adv:F});t+=F;e++}}0<m.length&&(k+=this.RenderRow(m,k,s,j.align,a),a=null)}k<this.mTextHeight&&(k=this.mTextHeight);this.mMaxHeight=k;switch(this.autoSize){case d.text.TextFieldAutoSize.LEFT:break;case d.text.TextFieldAutoSize.RIGHT:a=this.jeashGetX()+this.jeashGetWidth();this.jeashSetX(this.mWidth-a);break;case d.text.TextFieldAutoSize.CENTER:a=this.jeashGetX()+this.jeashGetWidth()/
2;this.jeashSetX(this.mWidth/2-a);break;default:this.wordWrap&&this.jeashSetHeight(k)}this.border&&(this.jeashGraphics.endFill(),this.jeashGraphics.lineStyle(1,this.borderColor),this.jeashGraphics.drawRect(-2,-2,this.jeashGetWidth()+4,this.jeashGetHeight()+4))}},RenderRow:function(a,b,e,k,l){for(var g=0,h=0,i=0;i<a.length;){var j=a[i];++i;j.fh>g&&(g=j.fh);h+=j.adv}h>this.mMaxWidth&&(this.mMaxWidth=h);var m=1.2*g|0,j=i=0;if(null!=l)if(this.autoSize!=d.text.TextFieldAutoSize.NONE)this.mScrollH=0;else if(j=
l-this.mScrollH,0>j?this.mScrollH-=(3*this.mLimitRenderX>>2)-j:j>this.mLimitRenderX&&(this.mScrollH+=j-(3*this.mLimitRenderX>>2)),0>this.mScrollH)this.mScrollH=0;this.autoSize==d.text.TextFieldAutoSize.NONE&&h<=this.mLimitRenderX&&(k==d.text.TextFormatAlign.CENTER?i=this.mLimitRenderX-h>>1:k==d.text.TextFormatAlign.RIGHT&&(i=this.mLimitRenderX-h));k=[];this.mLineInfo.push({mY0:b,mIndex:e-1,mX:k});l=e=null;h=i-this.mScrollH;for(i=0;i<a.length;){j=a[i];++i;var n=j.adv;if(h+n>this.mLimitRenderX)break;
k.push(h);if(0<=h){var q=j.font;j.sel&&(this.jeashGraphics.lineStyle(),this.jeashGraphics.beginFill(2105440),this.jeashGraphics.drawRect(h,b,n,m),this.jeashGraphics.endFill(),l==j.font?q=e:(e=q=d.text.FontInstance.CreateSolid(j.font.GetFace(),j.fh,16777215,1),l=j.font));q.RenderChar(this.jeashGraphics,j.chr,h,b+(g-j.fh)|0)}h+=n}return m},mLimitRenderX:null,mMaxHeight:null,mMaxWidth:null,getCharBoundaries:function(){return null},getCharIndexAtPoint:function(a,b){var d=this.getLineIndexAtPoint(a,b);
if(0>d)return-1;for(var e=this.mLineInfo[d],d=e.mIndex,k=0,e=e.mX;k<e.length;){var g=e[k];++k;if(g>a)break;d++}return d},getLineIndexAtPoint:function(a,b){if(1>this.mLineInfo.length)return-1;if(0>=b)return 0;for(var d=0,e=this.mLineInfo.length;d<e;){var k=d++;if(this.mLineInfo[k].mY0>b)return 0==k?0:k-1}return this.mLineInfo.length-1},jeashGetGraphics:function(){return this.jeashGraphics},GetCaret:function(){return this.mInsertPos},SetType:function(a){this.mType=a;this.jeashInputEnabled=this.mType==
d.text.TextFieldType.INPUT;this.mHTMLMode?this.jeashInputEnabled?d.Lib.jeashSetContentEditable(this.jeashGraphics.jeashSurface,!0):d.Lib.jeashSetContentEditable(this.jeashGraphics.jeashSurface,!1):this.jeashInputEnabled&&(this.SetHTMLText(E.replace(this.mText,"\n","<BR />")),d.Lib.jeashSetContentEditable(this.jeashGraphics.jeashSurface,!0));this.tabEnabled=this.GetType()==d.text.TextFieldType.INPUT;this.Rebuild();return a},GetType:function(){return this.mType},jeashSetHeight:function(a){null!=this.parent&&
this.parent.jeashInvalidateBounds();this.getBoundsInvalid()&&this.validateBounds();a!=this.mHeight&&(this.mHeight=a,this.Rebuild());return this.mHeight},jeashGetHeight:function(){return this.getBounds(this.getStage()).height},jeashSetWidth:function(a){null!=this.parent&&this.parent.jeashInvalidateBounds();this.getBoundsInvalid()&&this.validateBounds();a!=this.mWidth&&(this.mWidth=a,this.Rebuild());return this.mWidth},jeashGetWidth:function(){return this.getBounds(this.getStage()).width},toString:function(){return"[TextField name="+
this.name+" id="+this._jeashId+"]"},jeashGraphics:null,mScrollV:null,mScrollH:null,mSelectionAnchor:null,mSelectionAnchored:null,mHeight:null,mWidth:null,jeashInputEnabled:null,mSelectDrag:null,mInsertPos:null,mSelEnd:null,mSelStart:null,mHTMLMode:null,mAlign:null,mLineInfo:null,mTryFreeType:null,mParagraphs:null,caretIndex:null,selectionEndIndex:null,selectionBeginIndex:null,mDownChar:null,mFace:null,mTextHeight:null,length:null,gridFitType:null,sharpness:null,antiAliasType:null,type:null,restrict:null,
maxChars:null,wordWrap:null,border:null,displayAsPassword:null,caretPos:null,backgroundColor:null,background:null,borderColor:null,embedFonts:null,multiline:null,selectable:null,autoSize:null,mType:null,mTextColour:null,mText:null,mHTMLText:null,defaultTextFormat:null,_defaultTextFormat:null,textHeight:null,textWidth:null,textColor:null,text:null,htmlText:null,__class__:d.text.TextField,__properties__:t(d.display.InteractiveObject.prototype.__properties__,{set_htmlText:"SetHTMLText",get_htmlText:"GetHTMLText",
set_text:"SetText",get_text:"GetText",set_textColor:"SetTextColour",get_textColor:"GetTextColour",get_textWidth:"GetTextWidth",get_textHeight:"GetTextHeight",set_defaultTextFormat:"jeashSetDefaultTextFormat",get_defaultTextFormat:"jeashGetDefaultTextFormat",set_autoSize:"SetAutoSize",set_borderColor:"SetBorderColor",set_background:"SetBackground",set_backgroundColor:"SetBackgroundColor",get_caretPos:"GetCaret",set_border:"SetBorder",set_wordWrap:"SetWordWrap",set_type:"SetType",get_type:"GetType"})});
d.text.FontInstanceMode=l["jeash.text.FontInstanceMode"]={__ename__:["jeash","text","FontInstanceMode"],__constructs__:["fimSolid"]};d.text.FontInstanceMode.fimSolid=["fimSolid",0];d.text.FontInstanceMode.fimSolid.toString=v;d.text.FontInstanceMode.fimSolid.__enum__=d.text.FontInstanceMode;d.text.FontInstance=function(a,b){this.mFont=a;this.mHeight=b;this.mTryFreeType=!0;this.mGlyphs=[];this.mCacheAsBitmap=!1};l["jeash.text.FontInstance"]=d.text.FontInstance;d.text.FontInstance.__name__=["jeash",
"text","FontInstance"];d.text.FontInstance.CreateSolid=function(a,b,e,k){var l="SOLID:"+a+":"+b+":"+e+":"+k,g=d.text.FontInstance.mSolidFonts.get(l);if(null!=g)return g;g=new d.text.Font;g.jeashSetScale(b);g.jeashSetFontName(a);if(null==g)return null;g=new d.text.FontInstance(g,b);g.SetSolid(e,k);d.text.FontInstance.mSolidFonts.set(l,g);return g};d.text.FontInstance.prototype={jeashGetAdvance:function(a){return null==this.mFont?0:this.mFont.jeashGetAdvance(a,this.mHeight)},RenderChar:function(a,b,
d,e){a.jeashClearLine();a.beginFill(this.mColour,this.mAlpha);this.mFont.jeashRender(a,b,d,e,this.mTryFreeType);a.endFill()},SetSolid:function(a,b){this.mColour=a;this.mAlpha=b;this.mMode=d.text.FontInstanceMode.fimSolid},jeashGetHeight:function(){return this.mHeight},GetFace:function(){return this.mFont.fontName},toString:function(){return"FontInstance:"+m.string(this.mFont)+":"+this.mColour+"("+this.mGlyphs.length+")"},height:null,mTryFreeType:null,mCacheAsBitmap:null,mGlyphs:null,mHeight:null,
mFont:null,mAlpha:null,mColour:null,mMode:null,__class__:d.text.FontInstance,__properties__:{get_height:"jeashGetHeight"}};d.text.TextFieldAutoSize=function(){};l["jeash.text.TextFieldAutoSize"]=d.text.TextFieldAutoSize;d.text.TextFieldAutoSize.__name__=["jeash","text","TextFieldAutoSize"];d.text.TextFieldAutoSize.prototype={__class__:d.text.TextFieldAutoSize};d.text.TextFieldType=function(){};l["jeash.text.TextFieldType"]=d.text.TextFieldType;d.text.TextFieldType.__name__=["jeash","text","TextFieldType"];
d.text.TextFieldType.prototype={__class__:d.text.TextFieldType};d.text.TextFormat=function(a,b,d,e,k,g,h,i,j,l,m,n,q){this.font=a;this.size=b;this.color=d;this.bold=e;this.italic=k;this.underline=g;this.url=h;this.target=i;this.align=j;this.leftMargin=l;this.rightMargin=m;this.indent=n;this.leading=q};l["jeash.text.TextFormat"]=d.text.TextFormat;d.text.TextFormat.__name__=["jeash","text","TextFormat"];d.text.TextFormat.prototype={url:null,underline:null,target:null,tabStops:null,size:null,rightMargin:null,
letterSpacing:null,leftMargin:null,leading:null,kerning:null,italic:null,indent:null,font:null,display:null,color:null,bullet:null,bold:null,blockIndent:null,align:null,__class__:d.text.TextFormat};d.text.TextFormatAlign=l["jeash.text.TextFormatAlign"]={__ename__:["jeash","text","TextFormatAlign"],__constructs__:["LEFT","RIGHT","JUSTIFY","CENTER"]};d.text.TextFormatAlign.LEFT=["LEFT",0];d.text.TextFormatAlign.LEFT.toString=v;d.text.TextFormatAlign.LEFT.__enum__=d.text.TextFormatAlign;d.text.TextFormatAlign.RIGHT=
["RIGHT",1];d.text.TextFormatAlign.RIGHT.toString=v;d.text.TextFormatAlign.RIGHT.__enum__=d.text.TextFormatAlign;d.text.TextFormatAlign.JUSTIFY=["JUSTIFY",2];d.text.TextFormatAlign.JUSTIFY.toString=v;d.text.TextFormatAlign.JUSTIFY.__enum__=d.text.TextFormatAlign;d.text.TextFormatAlign.CENTER=["CENTER",3];d.text.TextFormatAlign.CENTER.toString=v;d.text.TextFormatAlign.CENTER.__enum__=d.text.TextFormatAlign;d.ui={};d.ui.Keyboard=function(){};l["jeash.ui.Keyboard"]=d.ui.Keyboard;d.ui.Keyboard.__name__=
["jeash","ui","Keyboard"];d.ui.Keyboard.jeashConvertWebkitCode=function(a){switch(a.toLowerCase()){case "backspace":return d.ui.Keyboard.BACKSPACE;case "tab":return d.ui.Keyboard.TAB;case "enter":return d.ui.Keyboard.ENTER;case "shift":return d.ui.Keyboard.SHIFT;case "control":return d.ui.Keyboard.CONTROL;case "capslock":return d.ui.Keyboard.CAPS_LOCK;case "escape":return d.ui.Keyboard.ESCAPE;case "space":return d.ui.Keyboard.SPACE;case "pageup":return d.ui.Keyboard.PAGE_UP;case "pagedown":return d.ui.Keyboard.PAGE_DOWN;
case "end":return d.ui.Keyboard.END;case "home":return d.ui.Keyboard.HOME;case "left":return d.ui.Keyboard.LEFT;case "right":return d.ui.Keyboard.RIGHT;case "up":return d.ui.Keyboard.UP;case "down":return d.ui.Keyboard.DOWN;case "insert":return d.ui.Keyboard.INSERT;case "delete":return d.ui.Keyboard.DELETE;case "numlock":return d.ui.Keyboard.NUMLOCK;case "break":return d.ui.Keyboard.BREAK}if(0==a.indexOf("U+"))return m.parseInt("0x"+x.substr(a,3,null));throw"Unrecognised key code: "+a;};d.ui.Keyboard.jeashConvertMozillaCode=
function(a){switch(a){case d.ui.Keyboard.DOM_VK_BACK_SPACE:return d.ui.Keyboard.BACKSPACE;case d.ui.Keyboard.DOM_VK_TAB:return d.ui.Keyboard.TAB;case d.ui.Keyboard.DOM_VK_RETURN:return d.ui.Keyboard.ENTER;case d.ui.Keyboard.DOM_VK_ENTER:return d.ui.Keyboard.ENTER;case d.ui.Keyboard.DOM_VK_SHIFT:return d.ui.Keyboard.SHIFT;case d.ui.Keyboard.DOM_VK_CONTROL:return d.ui.Keyboard.CONTROL;case d.ui.Keyboard.DOM_VK_CAPS_LOCK:return d.ui.Keyboard.CAPS_LOCK;case d.ui.Keyboard.DOM_VK_ESCAPE:return d.ui.Keyboard.ESCAPE;
case d.ui.Keyboard.DOM_VK_SPACE:return d.ui.Keyboard.SPACE;case d.ui.Keyboard.DOM_VK_PAGE_UP:return d.ui.Keyboard.PAGE_UP;case d.ui.Keyboard.DOM_VK_PAGE_DOWN:return d.ui.Keyboard.PAGE_DOWN;case d.ui.Keyboard.DOM_VK_END:return d.ui.Keyboard.END;case d.ui.Keyboard.DOM_VK_HOME:return d.ui.Keyboard.HOME;case d.ui.Keyboard.DOM_VK_LEFT:return d.ui.Keyboard.LEFT;case d.ui.Keyboard.DOM_VK_RIGHT:return d.ui.Keyboard.RIGHT;case d.ui.Keyboard.DOM_VK_UP:return d.ui.Keyboard.UP;case d.ui.Keyboard.DOM_VK_DOWN:return d.ui.Keyboard.DOWN;
case d.ui.Keyboard.DOM_VK_INSERT:return d.ui.Keyboard.INSERT;case d.ui.Keyboard.DOM_VK_DELETE:return d.ui.Keyboard.DELETE;case d.ui.Keyboard.DOM_VK_NUM_LOCK:return d.ui.Keyboard.NUMLOCK;default:return a}};d.ui.Keyboard.capsLock=null;d.ui.Keyboard.numLock=null;d.ui.Keyboard.isAccessible=function(){return!1};d.ui.Mouse=function(){};l["jeash.ui.Mouse"]=d.ui.Mouse;d.ui.Mouse.__name__=["jeash","ui","Mouse"];d.ui.Mouse.hide=function(){};d.ui.Mouse.show=function(){};d.ui.Mouse.prototype={__class__:d.ui.Mouse};
d.utils.ByteArray=function(a){null==a&&(a=8192);this.position=0;this.length=a;a=new ArrayBuffer(a);this.data=new DataView(a);this.byteView=new Uint8Array(a);this.bigEndian=!1};l["jeash.utils.ByteArray"]=d.utils.ByteArray;d.utils.ByteArray.__name__=["jeash","utils","ByteArray"];d.utils.ByteArray.jeashOfBuffer=function(a){var b=new d.utils.ByteArray(a.byteLength);b.data=new DataView(a);b.byteView=new Uint8Array(a);return b};d.utils.ByteArray.prototype={jeashGetBuffer:function(){return this.data.buffer},
jeashSetEndian:function(a){this.bigEndian=a==d.utils.Endian.BIG_ENDIAN?!0:!1;return a},jeashGetEndian:function(){return!0==this.bigEndian?d.utils.Endian.BIG_ENDIAN:d.utils.Endian.LITTLE_ENDIAN},writeUnsignedInt:function(a){this.position+4>=this.byteView.length&&this.jeashResizeBuffer(this.position+4);this.data.setUint32(this.position,a,!this.bigEndian);this.position+=4;this.position>this.length&&(this.length=this.position)},readUnsignedInt:function(){var a=this.data.getUint32(this.position,!this.bigEndian);
this.position+=4;return a},readUnsignedByte:function(){return this.data.getUint8(this.position++)},readUTFBytes:function(a){var b="",d=String.fromCharCode,a=this.position+a;for(a>=this.byteView.length&&this.jeashResizeBuffer(a);this.position<a;){var e=this.data.getUint8(this.position++);if(128>e){if(0==e)break;b+=d(e)}else if(224>e)b+=d((e&63)<<6|this.data.getUint8(this.position++)&127);else if(240>e)var k=this.data.getUint8(this.position++),b=b+d((e&31)<<12|(k&127)<<6|this.data.getUint8(this.position++)&
127);else var k=this.data.getUint8(this.position++),g=this.data.getUint8(this.position++),b=b+d((e&15)<<18|(k&127)<<12|g<<6&127|this.data.getUint8(this.position++)&127)}return b},writeUTFBytes:function(a){this.position+4*a.length>=this.byteView.length&&this.jeashResizeBuffer(this.position+4*a.length);for(var b=0,d=a.length;b<d;){var e=b++,e=a.charCodeAt(e);127>=e?this.data.setUint8(this.position++,e):(2047>=e?this.data.setUint8(this.position++,192|e>>6):(65535>=e?this.data.setUint8(this.position++,
224|e>>12):(this.data.setUint8(this.position++,240|e>>18),this.data.setUint8(this.position++,128|e>>12&63)),this.data.setUint8(this.position++,128|e>>6&63)),this.data.setUint8(this.position++,128|e&63))}this.position>this.length&&(this.length=this.position)},writeUTF:function(a){this.writeUTFBytes(a)},readUTF:function(){return this.readUTFBytes(this.length-this.position)},writeUnsignedShort:function(a){this.position+2>=this.byteView.length&&this.jeashResizeBuffer(this.position+2);this.data.setUint16(this.position,
a,!this.bigEndian);this.position+=2;this.position>this.length&&(this.length=this.position)},readUnsignedShort:function(){var a=this.data.getUint16(this.position,!this.bigEndian);this.position+=2;return a},writeShort:function(a){this.position+2>=this.byteView.length&&this.jeashResizeBuffer(this.position+2);this.data.setInt16(this.position,a,!this.bigEndian);this.position+=2;this.position>this.length&&(this.length=this.position)},readShort:function(){var a=this.data.getInt16(this.position,!this.bigEndian);
this.position+=2;return a},writeInt:function(a){this.position+4>=this.byteView.length&&this.jeashResizeBuffer(this.position+4);this.data.setInt32(this.position,a,!this.bigEndian);this.position+=4;this.position>this.length&&(this.length=this.position)},readInt:function(){var a=this.data.getInt32(this.position,!this.bigEndian);this.position+=4;return a},writeFloat:function(a){this.position+4>=this.byteView.length&&this.jeashResizeBuffer(this.position+4);this.data.setFloat32(this.position,a,!this.bigEndian);
this.position+=4;this.position>this.length&&(this.length=this.position)},readFloat:function(){var a=this.data.getFloat32(this.position,!this.bigEndian);this.position+=4;return a},writeDouble:function(a){this.position+8>=this.byteView.length&&this.jeashResizeBuffer(this.position+8);this.data.setFloat64(this.position,a,!this.bigEndian);this.position+=8;this.position>this.length&&(this.length=this.position)},readDouble:function(){var a=this.data.getFloat64(this.position,!this.bigEndian);this.position+=
8;return a},writeBoolean:function(a){this.writeByte(a?1:0)},readBoolean:function(){return 1==this.readByte()?!0:!1},writeBytes:function(a,b,e){if(0>b||0>e)throw new d.errors.IOError("Write error - Out of bounds");this.byteView.length<e+this.position&&this.jeashResizeBuffer(this.position+e);a.position=b+e;this.byteView.set(a.byteView.subarray(b,b+e),this.position);this.position+=e;this.position>this.length&&(this.length=this.position)},writeByte:function(a){this.position+1>=this.byteView.length&&this.jeashResizeBuffer(this.position+
1);this.data.setInt8(this.position++,a);this.position>this.length&&this.length++},readBytes:function(a,b,e){if(0>b||0>e)throw new d.errors.IOError("Read error - Out of bounds");null==b&&(b=0);null==e&&(e=this.length);a.byteView.length<e+b&&a.jeashResizeBuffer(b+e);a.byteView.set(this.byteView.subarray(this.position,this.position+e),b);a.position=b;this.position+=e;a.position+e>a.length&&(a.length=a.position+e)},readByte:function(){return this.data.getUint8(this.position++)},jeashResizeBuffer:function(a){a=
new Uint8Array(a);a.set(this.byteView);this.data=new DataView(a.buffer);this.byteView=a},readFullBytes:function(a,b,d){for(var e=b,b=b+d;e<b;)d=e++,this.data.setInt8(this.position++,a.b[d])},jeashGetBytesAvailable:function(){return this.length-this.position},length:null,position:null,objectEncoding:null,endian:null,bytesAvailable:null,bigEndian:null,byteView:null,data:null,__class__:d.utils.ByteArray,__properties__:{get_bytesAvailable:"jeashGetBytesAvailable",set_endian:"jeashSetEndian",get_endian:"jeashGetEndian"}};
d.utils.Endian=l["jeash.utils.Endian"]={__ename__:["jeash","utils","Endian"],__constructs__:["BIG_ENDIAN","LITTLE_ENDIAN"]};d.utils.Endian.BIG_ENDIAN=["BIG_ENDIAN",0];d.utils.Endian.BIG_ENDIAN.toString=v;d.utils.Endian.BIG_ENDIAN.__enum__=d.utils.Endian;d.utils.Endian.LITTLE_ENDIAN=["LITTLE_ENDIAN",1];d.utils.Endian.LITTLE_ENDIAN.toString=v;d.utils.Endian.LITTLE_ENDIAN.__enum__=d.utils.Endian;var s={Lib:function(){}};l["nme.Lib"]=s.Lib;s.Lib.__name__=["nme","Lib"];s.Lib.__properties__={get_version:"nmeGetVersion",
get_stage:"nmeGetStage",get_packageName:"nmeGetPackageName",get_initWidth:"nmeGetInitWidth",get_initHeight:"nmeGetInitHeight",get_file:"nmeGetFile",get_current:"nmeGetCurrent",get_company:"nmeGetCompany"};s.Lib.company=null;s.Lib.current=null;s.Lib.file=null;s.Lib.initHeight=null;s.Lib.initWidth=null;s.Lib.packageName=null;s.Lib.stage=null;s.Lib.version=null;s.Lib.close=function(){};s.Lib.create=function(){};s.Lib.createManagedStage=function(){return null};s.Lib.exit=function(){};s.Lib.forceClose=
function(){};s.Lib.getTimer=function(){return d.Lib.getTimer()};s.Lib.getURL=function(a,b){d.Lib.getURL(a,b)};s.Lib.pause=function(){};s.Lib.postUICallback=function(a){a()};s.Lib.resume=function(){};s.Lib.setPackage=function(){};s.Lib.trace=function(a){d.Lib.trace(a)};s.Lib.nmeGetCompany=function(){return""};s.Lib.nmeGetCurrent=function(){return d.Lib.jeashGetCurrent()};s.Lib.nmeGetFile=function(){return""};s.Lib.nmeGetInitHeight=function(){return 0};s.Lib.nmeGetInitWidth=function(){return 0};s.Lib.nmeGetPackageName=
function(){return""};s.Lib.nmeGetStage=function(){return s.Lib.nmeGetCurrent().getStage()};s.Lib.nmeGetVersion=function(){return""};s.ObjectHash=function(){this.hashKeys=new B;this.hashValues=new B};l["nme.ObjectHash"]=s.ObjectHash;s.ObjectHash.__name__=["nme","ObjectHash"];s.ObjectHash.prototype={set:function(a,b){var d;null==a.___id___&&(a.___id___=s.ObjectHash.nextObjectID++,2147483647==s.ObjectHash.nextObjectID&&(s.ObjectHash.nextObjectID=0));d=a.___id___;this.hashKeys.set(d,a);this.hashValues.set(d,
b)},remove:function(a){null==a.___id___&&(a.___id___=s.ObjectHash.nextObjectID++,2147483647==s.ObjectHash.nextObjectID&&(s.ObjectHash.nextObjectID=0));a=a.___id___;this.hashKeys.remove(a);this.hashValues.remove(a)},keys:function(){return this.hashKeys.iterator()},iterator:function(){return this.hashValues.iterator()},getID:function(a){null==a.___id___&&(a.___id___=s.ObjectHash.nextObjectID++,2147483647==s.ObjectHash.nextObjectID&&(s.ObjectHash.nextObjectID=0));return a.___id___},get:function(a){return this.hashValues.get(function(){null==
a.___id___&&(a.___id___=s.ObjectHash.nextObjectID++,2147483647==s.ObjectHash.nextObjectID&&(s.ObjectHash.nextObjectID=0));return a.___id___}(this))},exists:function(a){return this.hashValues.exists(function(){null==a.___id___&&(a.___id___=s.ObjectHash.nextObjectID++,2147483647==s.ObjectHash.nextObjectID&&(s.ObjectHash.nextObjectID=0));return a.___id___}(this))},hashValues:null,hashKeys:null,__class__:s.ObjectHash};s.installer={};s.installer.Assets=function(){};l["nme.installer.Assets"]=s.installer.Assets;
s.installer.Assets.__name__=["nme","installer","Assets"];s.installer.Assets.getBitmapData=function(a){switch(a){case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-1-1.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-1-1.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-3-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-3-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-5-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-5-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-7-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-7-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-9-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-9-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-11-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-11-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-16-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-16-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-18-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-18-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-20-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-20-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-26-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-26-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-28-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-28-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-1-1.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-1-1.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-3-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-3-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-5-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-5-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-7-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-7-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-9-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-9-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-11-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-11-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-16-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-16-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-18-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-18-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-20-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-20-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-26-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-26-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-28-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-28-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-1-1.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-1-1.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-3-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-3-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-5-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-5-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-7-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-7-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-9-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-9-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-11-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-11-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-16-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-16-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-18-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-18-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-20-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-20-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-26-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-26-0.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-28-0.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-28-0.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@2x.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@2x.png").contentLoaderInfo.content,
d.display.Bitmap).bitmapData;case "templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@4x.png":return n.Boot.__cast(q.loaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@4x.png").contentLoaderInfo.content,d.display.Bitmap).bitmapData}return null};s.installer.Assets.getBytes=function(){return null};s.installer.Assets.getFont=function(){return null};s.installer.Assets.getSound=function(a){switch(a){case "templates/"+Common.getTemplateId()+"/assets/music/sound-12.mp3":return new d.media.Sound(new d.net.URLRequest("templates/"+Common.getTemplateId()+"/assets/music/sound-12.mp3"));case "templates/"+Common.getTemplateId()+"/assets/music/sound-13.mp3":return new d.media.Sound(new d.net.URLRequest("templates/"+Common.getTemplateId()+"/assets/music/sound-13.mp3"));
case "templates/"+Common.getTemplateId()+"/assets/sfx/sound-24.mp3":return new d.media.Sound(new d.net.URLRequest("templates/"+Common.getTemplateId()+"/assets/sfx/sound-24.mp3"))}return null};s.installer.Assets.getText=function(a){switch(a){case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-1-1.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-1-1.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-3-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-3-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-5-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-5-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-7-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-7-0.png").data;
case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-9-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-9-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-11-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-11-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-16-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-16-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-18-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-18-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-20-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-20-0.png").data;
case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-26-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/"+Common.getProjectId()+"/sprite-26-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-28-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/1x/sprite-28-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-1-1.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-1-1.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-3-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-3-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-5-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-5-0.png").data;
case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-7-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-7-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-9-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-9-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-11-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-11-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-16-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-16-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-18-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-18-0.png").data;
case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-20-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-20-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-26-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/"+Common.getProjectId()+"/sprite-26-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-28-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/2x/sprite-28-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-1-1.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-1-1.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-3-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-3-0.png").data;
case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-5-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-5-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-7-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-7-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-9-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-9-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-11-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-11-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-16-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-16-0.png").data;
case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-18-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-18-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-20-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-20-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-26-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/"+Common.getProjectId()+"/sprite-26-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-28-0.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/4x/sprite-28-0.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.png").data;
case "templates/"+Common.getTemplateId()+"/assets/graphics/default-font.fnt":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/default-font.fnt").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.txt":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg.txt").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@2x.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@2x.png").data;case "templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@4x.png":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/graphics/preloader-bg@4x.png").data;
case "templates/"+Common.getTemplateId()+"/assets/music/sound-12.mp3":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/music/sound-12.mp3").data;case "templates/"+Common.getTemplateId()+"/assets/music/sound-13.mp3":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/music/sound-13.mp3").data;case "templates/"+Common.getTemplateId()+"/assets/sfx/sound-24.mp3":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/sfx/sound-24.mp3").data;case "templates/"+Common.getTemplateId()+"/assets/data/game.xml":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/data/game.xml").data;case "templates/"+Common.getTemplateId()+"/assets/data/resources.xml":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/data/resources.xml").data;case "templates/"+Common.getTemplateId()+"/assets/data/scenes.xml":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/data/scenes.xml").data;
case "templates/"+Common.getTemplateId()+"/assets/data/behaviors.xml":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/data/behaviors.xml").data;case "templates/"+Common.getTemplateId()+"/assets/data/scene-0.xml":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/data/scene-0.xml").data;case "templates/"+Common.getTemplateId()+"/assets/data/scene-0.txt":return q.urlLoaders.get("templates/"+Common.getTemplateId()+"/assets/data/scene-0.txt").data}return null};var r={ActorEvents_15:function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d)}};l["scripts.ActorEvents_15"]=r.ActorEvents_15;r.ActorEvents_15.__name__=["scripts","ActorEvents_15"];r.ActorEvents_15.__super__=b.stencyl.behavior.ActorScript;
r.ActorEvents_15.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},__class__:r.ActorEvents_15});r.ActorEvents_2=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d)};l["scripts.ActorEvents_2"]=r.ActorEvents_2;r.ActorEvents_2.__name__=["scripts","ActorEvents_2"];r.ActorEvents_2.__super__=b.stencyl.behavior.ActorScript;r.ActorEvents_2.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},__class__:r.ActorEvents_2});
r.ActorEvents_25=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d)};l["scripts.ActorEvents_25"]=r.ActorEvents_25;r.ActorEvents_25.__name__=["scripts","ActorEvents_25"];r.ActorEvents_25.__super__=b.stencyl.behavior.ActorScript;r.ActorEvents_25.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},__class__:r.ActorEvents_25});r.ActorEvents_4=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d)};l["scripts.ActorEvents_4"]=r.ActorEvents_4;
r.ActorEvents_4.__name__=["scripts","ActorEvents_4"];r.ActorEvents_4.__super__=b.stencyl.behavior.ActorScript;r.ActorEvents_4.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},__class__:r.ActorEvents_4});r.Design_11=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Damage Given","damage");this.nameMap.set("Actor","actor")};l["scripts.Design_11"]=r.Design_11;r.Design_11.__name__=["scripts","Design_11"];r.Design_11.__super__=
b.stencyl.behavior.ActorScript;r.Design_11.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},damage:null,__class__:r.Design_11});r.Design_15_15=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("x","x");this.nameMap.set("y","y");this.nameMap.set("angle","angle");this.nameMap.set("Initial Angle","initAngle");this.nameMap.set("Actor","actor")};l["scripts.Design_15_15"]=r.Design_15_15;r.Design_15_15.__name__=["scripts","Design_15_15"];
r.Design_15_15.__super__=b.stencyl.behavior.ActorScript;r.Design_15_15.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){var a=this;this.addWhenUpdatedListener(null,function(){a.wrapper.enabled&&(a.x=a.asNumber(a.getMouseX()-a.actor.getXCenter()),a.propertyChanged("x",a.x),a.y=a.asNumber(a.getMouseY()-a.actor.getYCenter()),a.propertyChanged("y",a.y),a.angle=a.asNumber(180/Math.PI*Math.atan2(a.y,a.x)),a.propertyChanged("angle",a.angle),a.actor.setAngle(Math.PI/
180*(a.angle+a.initAngle)))})},initAngle:null,angle:null,y:null,x:null,__class__:r.Design_15_15});r.Design_16_16=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Actor","actor")};l["scripts.Design_16_16"]=r.Design_16_16;r.Design_16_16.__name__=["scripts","Design_16_16"];r.Design_16_16.__super__=b.stencyl.behavior.ActorScript;r.Design_16_16.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){var a=this;this.setOffscreenTolerance(9999,
9999,9999,9999);this.addWhenUpdatedListener(null,function(){a.wrapper.enabled&&(a.actor.setX(Math.max(0,Math.min(a.getMouseX()-a.actor.getWidth()/2,a.getScreenWidth()-a.actor.getWidth()))),a.actor.setY(Math.max(0,Math.min(a.getMouseY()-a.actor.getHeight()/2,a.getScreenHeight()-a.actor.getHeight()))))})},__class__:r.Design_16_16});r.Design_17_17=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Action To Perform","msg");this.nameMap.set("Actor","actor")};l["scripts.Design_17_17"]=
r.Design_17_17;r.Design_17_17.__name__=["scripts","Design_17_17"];r.Design_17_17.__super__=b.stencyl.behavior.ActorScript;r.Design_17_17.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){var a=this;this.addWhenUpdatedListener(null,function(){a.wrapper.enabled&&a.isMousePressed()&&a.actor.shout(a.msg)})},msg:null,__class__:r.Design_17_17});r.Design_2=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Actor to Create","type");
this.nameMap.set("xPos","xPos");this.nameMap.set("yPos","yPos");this.nameMap.set("angle","angle");this.nameMap.set("power","power");this.nameMap.set("Max Power","maxPower");this.nameMap.set("Firing Sound","FiringSound");this.nameMap.set("Actor","actor")};l["scripts.Design_2"]=r.Design_2;r.Design_2.__name__=["scripts","Design_2"];r.Design_2.__super__=b.stencyl.behavior.ActorScript;r.Design_2.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},fire:function(){this.playSound(this.FiringSound);
this.xPos=this.asNumber(this.getMouseY()-this.actor.getYCenter());this.propertyChanged("xPos",this.xPos);this.yPos=this.asNumber(this.getMouseX()-this.actor.getXCenter());this.propertyChanged("yPos",this.yPos);this.angle=this.asNumber(180/Math.PI*Math.atan2(this.yPos,this.xPos));this.propertyChanged("angle",this.angle);this.power=this.asNumber(Math.min(this.maxPower,Math.sqrt(Math.pow(this.xPos,2)+Math.pow(this.yPos,2))));this.propertyChanged("power",this.power);this.createRecycledActor(this.type,
this.actor.getXCenter(),this.actor.getYCenter(),b.stencyl.behavior.Script.BACK);this.getLastCreatedActor().sendToBack();this.getLastCreatedActor().setX(this.getLastCreatedActor().getX()-10+60*Math.sin(Math.PI/180*this.angle));this.getLastCreatedActor().setY(this.getLastCreatedActor().getY()+60*Math.cos(Math.PI/180*this.angle));this.getLastCreatedActor().setXVelocity(Math.sin(Math.PI/180*this.angle)*(this.power/7.8));this.getLastCreatedActor().setYVelocity(Math.cos(Math.PI/180*this.angle)*(this.power/
5.2))},FiringSound:null,maxPower:null,power:null,angle:null,yPos:null,xPos:null,type:null,__class__:r.Design_2});r.Design_21_21=function(a,c){b.stencyl.behavior.SceneScript.call(this,c);this.nameMap.set("Pop Count","popCount")};l["scripts.Design_21_21"]=r.Design_21_21;r.Design_21_21.__name__=["scripts","Design_21_21"];r.Design_21_21.__super__=b.stencyl.behavior.SceneScript;r.Design_21_21.prototype=t(b.stencyl.behavior.SceneScript.prototype,{forwardMessage:function(){},init:function(){var a=this;this.addWhenDrawingListener(null,
function(b){a.wrapper.enabled&&b.drawString(""+a.popCount,261,376)})},popped:function(){this.popCount=this.asNumber(this.popCount+1);this.propertyChanged("popCount",this.popCount)},popCount:null,__class__:r.Design_21_21});r.Design_27_27=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Actor","actor")};l["scripts.Design_27_27"]=r.Design_27_27;r.Design_27_27.__name__=["scripts","Design_27_27"];r.Design_27_27.__super__=b.stencyl.behavior.ActorScript;r.Design_27_27.prototype=
t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},resetGame:function(){this.reloadCurrentScene(this.createFadeOut(0.5),this.createFadeIn(1))},__class__:r.Design_27_27});r.Design_28_28=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Action to Perform","action");this.nameMap.set("Allow Only One Click?","justOnce");this.nameMap.set("ranOnce","ranOnce");this.nameMap.set("Actor","actor")};l["scripts.Design_28_28"]=r.Design_28_28;r.Design_28_28.__name__=
["scripts","Design_28_28"];r.Design_28_28.__super__=b.stencyl.behavior.ActorScript;r.Design_28_28.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){var a=this;this.ranOnce=!1;this.propertyChanged("ranOnce",this.ranOnce);this.addWhenUpdatedListener(null,function(){if(a.wrapper.enabled&&a.actor.isMousePressed()){if(!a.ranOnce||!a.justOnce)a.actor.fadeTo(0,1,b.eclecticdesignstudio.motion.easing.Linear.getEaseNone()),a.actor.growTo(0.01,0.01,0.5,b.eclecticdesignstudio.motion.easing.Back.getEaseIn()),
a.runLater(600,function(){a.actor.shout(a.action)},a.actor);a.ranOnce=!0;a.propertyChanged("ranOnce",a.ranOnce)}})},ranOnce:null,justOnce:null,action:null,__class__:r.Design_28_28});r.Design_32_32=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Max Ammo","maxAmmo");this.nameMap.set("Initial Ammo","initialAmmo");this.nameMap.set("Current Ammo","ammo");this.nameMap.set("Infinite Ammo?","infinite");this.nameMap.set("Use Ammo Message","useAmmo");this.nameMap.set("Reload Message",
"reload");this.nameMap.set("Used Ammo Message","usedAmmo");this.nameMap.set("Ammo Depleted Message","ammoDepleted");this.nameMap.set("Actor","actor")};l["scripts.Design_32_32"]=r.Design_32_32;r.Design_32_32.__name__=["scripts","Design_32_32"];r.Design_32_32.__super__=b.stencyl.behavior.ActorScript;r.Design_32_32.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(a){a==this.reload?this.whenThisHearsreload():a==this.useAmmo&&this.whenThisHearsuseAmmo()},init:function(){this.ammo=
this.asNumber(this.initialAmmo);this.propertyChanged("ammo",this.ammo)},whenThisHearsuseAmmo:function(){this.infinite?this.actor.shout(this.usedAmmo):0<this.ammo&&(this.actor.shout(this.usedAmmo),0>=this.ammo&&this.actor.shout(this.ammoDepleted))},whenThisHearsreload:function(){this.ammo=this.asNumber(this.maxAmmo);this.propertyChanged("ammo",this.ammo)},ammoDepleted:null,usedAmmo:null,reload:null,useAmmo:null,infinite:null,ammo:null,initialAmmo:null,maxAmmo:null,__class__:r.Design_32_32});r.Design_34_34=
function(a,c){b.stencyl.behavior.SceneScript.call(this,c);this.nameMap.set("Music to Play","bgmusic")};l["scripts.Design_34_34"]=r.Design_34_34;r.Design_34_34.__name__=["scripts","Design_34_34"];r.Design_34_34.__super__=b.stencyl.behavior.SceneScript;r.Design_34_34.prototype=t(b.stencyl.behavior.SceneScript.prototype,{forwardMessage:function(){},init:function(){this.stopAllSounds();this.loopSound(this.bgmusic)},bgmusic:null,__class__:r.Design_34_34});r.Design_37_37_SpawnActoruponDeath=function(a,
c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Actor Type to Spawn","actTypeToSpawn");this.nameMap.set("X Offset","xOffset");this.nameMap.set("Y Offset","yOffset");this.nameMap.set("Lifespan","lifespan");this.nameMap.set("Actor","actor")};l["scripts.Design_37_37_SpawnActoruponDeath"]=r.Design_37_37_SpawnActoruponDeath;r.Design_37_37_SpawnActoruponDeath.__name__=["scripts","Design_37_37_SpawnActoruponDeath"];r.Design_37_37_SpawnActoruponDeath.__super__=b.stencyl.behavior.ActorScript;
r.Design_37_37_SpawnActoruponDeath.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},healthDepleted:function(){this.createRecycledActor(this.actTypeToSpawn,this.actor.getX()+this.xOffset,this.actor.getY()+this.yOffset,b.stencyl.behavior.Script.FRONT)},lifespan:null,yOffset:null,xOffset:null,actTypeToSpawn:null,__class__:r.Design_37_37_SpawnActoruponDeath});r.Design_38_38_FadeOutandDieafterTime=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,
c,d);this.nameMap.set("Start Fading After","_StartFadingAfter");this.nameMap.set("Fade Time","_FadeTime");this.nameMap.set("Actor","actor")};l["scripts.Design_38_38_FadeOutandDieafterTime"]=r.Design_38_38_FadeOutandDieafterTime;r.Design_38_38_FadeOutandDieafterTime.__name__=["scripts","Design_38_38_FadeOutandDieafterTime"];r.Design_38_38_FadeOutandDieafterTime.__super__=b.stencyl.behavior.ActorScript;r.Design_38_38_FadeOutandDieafterTime.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},
init:function(){var a=this;this.runLater(1E3*this._StartFadingAfter,function(){a.actor.fadeTo(0,a._FadeTime,b.eclecticdesignstudio.motion.easing.Linear.getEaseNone());a.runLater(1E3*a._FadeTime,function(){a.recycleActor(a.actor)},a.actor)},this.actor)},_FadeTime:null,_StartFadingAfter:null,__class__:r.Design_38_38_FadeOutandDieafterTime});r.Design_39_39_PlaySoundonDepletedHealth=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Sound to Play","_SoundtoPlay");this.nameMap.set("Actor",
"actor")};l["scripts.Design_39_39_PlaySoundonDepletedHealth"]=r.Design_39_39_PlaySoundonDepletedHealth;r.Design_39_39_PlaySoundonDepletedHealth.__name__=["scripts","Design_39_39_PlaySoundonDepletedHealth"];r.Design_39_39_PlaySoundonDepletedHealth.__super__=b.stencyl.behavior.ActorScript;r.Design_39_39_PlaySoundonDepletedHealth.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},healthDepleted:function(){this.playSound(this._SoundtoPlay)},_SoundtoPlay:null,
__class__:r.Design_39_39_PlaySoundonDepletedHealth});r.Design_40_40_HideMouseCursor=function(a,c){b.stencyl.behavior.SceneScript.call(this,c);this.nameMap.set("Show Mouse Cursor?","_ShowMouseCursor")};l["scripts.Design_40_40_HideMouseCursor"]=r.Design_40_40_HideMouseCursor;r.Design_40_40_HideMouseCursor.__name__=["scripts","Design_40_40_HideMouseCursor"];r.Design_40_40_HideMouseCursor.__super__=b.stencyl.behavior.SceneScript;r.Design_40_40_HideMouseCursor.prototype=t(b.stencyl.behavior.SceneScript.prototype,
{forwardMessage:function(){},init:function(){this._ShowMouseCursor?this.showCursor():this.hideCursor()},_ShowMouseCursor:null,__class__:r.Design_40_40_HideMouseCursor});r.Design_5=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Default Damage","defaultDmg");this.nameMap.set("cacheDmg","cacheDmg");this.nameMap.set("currHealth","currHealth");this.nameMap.set("Max Health","maxHealth");this.nameMap.set("Initial Health","initHealth");this.nameMap.set("actorCache","actorCache");
this.nameMap.set("Actor","actor")};l["scripts.Design_5"]=r.Design_5;r.Design_5.__name__=["scripts","Design_5"];r.Design_5.__super__=b.stencyl.behavior.ActorScript;r.Design_5.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){var a=this;this.currHealth=this.asNumber(this.initHealth);this.propertyChanged("currHealth",this.currHealth);this.addCollisionListener(this.actor,function(){a.wrapper.enabled&&!a.actor.hasBehavior("Invincible")&&!(!1!=a.hasValue(a.actorCache)&&
a.actorCache==a.actor.getLastCollidedActor())&&(a.cacheDmg=a.actor.getLastCollidedActor().hasBehavior("Inflicts Damage")?a.asNumber(a.asNumber(a.actor.getLastCollidedActor().getValue("Inflicts Damage","damage"))):a.asNumber(a.defaultDmg),a.propertyChanged("cacheDmg",a.cacheDmg),a.actorCache=a.actor.getLastCollidedActor(),a.propertyChanged("actorCache",a.actorCache),a.currHealth-=a.cacheDmg,a.propertyChanged("currHealth",a.currHealth),a.actor.shout("tookDamage"))})},restore:function(){this.currHealth=
this.asNumber(this.maxHealth);this.propertyChanged("currHealth",this.currHealth)},heal:function(){this.currHealth+=1;this.propertyChanged("currHealth",this.currHealth);this.currHealth>this.maxHealth&&(this.currHealth=this.asNumber(this.maxHealth),this.propertyChanged("currHealth",this.currHealth))},tookDamage:function(){0>=this.currHealth&&this.actor.shout("healthDepleted")},actorCache:null,initHealth:null,maxHealth:null,currHealth:null,cacheDmg:null,defaultDmg:null,__class__:r.Design_5});r.Design_7=
function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("condemned","condemned");this.nameMap.set("Actor","actor")};l["scripts.Design_7"]=r.Design_7;r.Design_7.__name__=["scripts","Design_7"];r.Design_7.__super__=b.stencyl.behavior.ActorScript;r.Design_7.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){},healthDepleted:function(){this.shoutToScene("popped");this.recycleActor(this.actor)},condemned:null,__class__:r.Design_7});
r.Design_8=function(a,c,d){b.stencyl.behavior.ActorScript.call(this,c,d);this.nameMap.set("Actor","actor")};l["scripts.Design_8"]=r.Design_8;r.Design_8.__name__=["scripts","Design_8"];r.Design_8.__super__=b.stencyl.behavior.ActorScript;r.Design_8.prototype=t(b.stencyl.behavior.ActorScript.prototype,{forwardMessage:function(){},init:function(){var a=this;this.addCollisionListener(this.actor,function(){a.wrapper.enabled&&a.recycleActor(a.actor)})},__class__:r.Design_8});r.MyAssets=function(){b.stencyl.Input.enable();
b.stencyl.Input.define("right",[d.ui.Keyboard.RIGHT]);b.stencyl.Input.define("left",[d.ui.Keyboard.LEFT]);b.stencyl.Input.define("up",[d.ui.Keyboard.UP]);b.stencyl.Input.define("fire",[d.ui.Keyboard.SPACE]);b.stencyl.Input.define("down",[d.ui.Keyboard.DOWN])};l["scripts.MyAssets"]=r.MyAssets;r.MyAssets.__name__=["scripts","MyAssets"];r.MyAssets.__interfaces__=[b.stencyl.AssetLoader];r.MyAssets.prototype={loadScenes:function(a){var c=10/Math.max(1,1);a.set(0,new k.xml.Fast(y.parse(s.installer.Assets.getText("templates/"+Common.getTemplateId()+"/assets/data/scene-0.xml")).firstElement()));
b.stencyl.Data.instance.updatePreloader(90+(0*c|0))},loadResources:function(a){var c=0,d=50/Math.max(1,25);a.set("1-1.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/sprite-1-1.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("3-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/"+Common.getProjectId()+"/sprite-3-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("5-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+
b.stencyl.Engine.IMG_BASE+"/"+Common.getProjectId()+"/sprite-5-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("7-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/sprite-7-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("9-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/"+Common.getProjectId()+"/sprite-9-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("11-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+
b.stencyl.Engine.IMG_BASE+"/sprite-11-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("16-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/"+Common.getProjectId()+"/sprite-16-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("18-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/sprite-18-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("20-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+
b.stencyl.Engine.IMG_BASE+"/sprite-20-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("26-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/"+Common.getProjectId()+"/sprite-26-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0));c++;a.set("28-0.png",s.installer.Assets.getBitmapData("templates/"+Common.getTemplateId()+"/assets/graphics/"+b.stencyl.Engine.IMG_BASE+"/sprite-28-0.png",!1));b.stencyl.Data.instance.updatePreloader(15+(d*c|0))},__class__:r.MyAssets};r.MyScripts=function(){};l["scripts.MyScripts"]=
r.MyScripts;r.MyScripts.__name__=["scripts","MyScripts"];r.MyScripts.prototype={a:null,s:null,__class__:r.MyScripts};r.SceneEvents_0=function(a,c){b.stencyl.behavior.SceneScript.call(this,c)};l["scripts.SceneEvents_0"]=r.SceneEvents_0;r.SceneEvents_0.__name__=["scripts","SceneEvents_0"];r.SceneEvents_0.__super__=b.stencyl.behavior.SceneScript;r.SceneEvents_0.prototype=t(b.stencyl.behavior.SceneScript.prototype,{forwardMessage:function(){},init:function(){},__class__:r.SceneEvents_0});r.StencylPreloader=
function(){N.call(this);this.locked=!1;this.adFinished=!0;this.started=!1;this.background=new d.display.Sprite;this.background.jeashGetGraphics().beginFill(-15592942,1);this.background.jeashGetGraphics().drawRect(0,0,this.getWidth(),this.getHeight());this.addChild(this.background);try{var a=k.Resource.getString("preloader-bg"),b=new d.display.Sprite;this.addChild(b);d.display.BitmapData.loadFromBase64String(a,function(a){a=new d.display.Bitmap(a);b.addChild(a)})}catch(e){if(n.Boot.__instanceof(e,
String))null;else throw e;}this.barWidth=120;this.barHeight=8;var a=this.getWidth()/2-this.barWidth/2,l=this.getHeight()/2-this.barHeight/2;this.barBorder=new d.display.Sprite;this.barBorder.jeashGetGraphics().beginFill(-12303292,1);this.barBorder.jeashGetGraphics().drawRect(-2,-2,this.barWidth+4,this.barHeight+4);this.barBorder.jeashSetX(a+0);this.barBorder.jeashSetY(l+0);this.addChild(this.barBorder);this.barBackground=new d.display.Sprite;this.barBackground.jeashGetGraphics().beginFill(-12303292,
1);this.barBackground.jeashGetGraphics().drawRect(0,0,this.barWidth,this.barHeight);this.barBackground.jeashSetX(a+0);this.barBackground.jeashSetY(l+0);this.barBackground.jeashSetScaleX(1);this.addChild(this.barBackground);this.bar=new d.display.Sprite;this.bar.jeashGetGraphics().beginFill(-7829368,1);this.bar.jeashGetGraphics().drawRect(0,0,this.barWidth,this.barHeight);var m=new d.geom.Rectangle(0,0,0,this.barHeight);this.bar.setScrollRect(m);this.bar.jeashSetX(a+0);this.bar.jeashSetY(l+0);this.addChild(this.bar);
""!=this.getURL()&&this.addEventListener(d.events.MouseEvent.MOUSE_DOWN,A(this,this.onMouseDown),!1,2);m=this.getLockURL();if(this.isSiteLocked()&&null!=m&&""!=m){a=!1;l=s.Lib.nmeGetCurrent().loaderInfo.url;if(null==l)a=!0;else if(0>l.indexOf("http://")&&0>l.indexOf("https://"))a=!0;else if(0<l.indexOf("stencyl.com")||0<l.indexOf("localhost"))a=!0;if(!a){for(var m=m.split(","),g=0;g<m.length;){var h=m[g];++g;null!=l&&0<l.indexOf(h)&&(a=!0)}if(!a){this.showLockScreen(m[0]);return}}}this.addEventListener(d.events.Event.ENTER_FRAME,
A(this,this.onEnterFrame))};l["scripts.StencylPreloader"]=r.StencylPreloader;r.StencylPreloader.__name__=["scripts","StencylPreloader"];r.StencylPreloader.__super__=N;r.StencylPreloader.prototype=t(N.prototype,{onEnterFrame:function(){this.started||(this.started=!0)},onUpdate:function(a,b){var e=a/b;1<e&&1==e;null!=this.bar&&(e=new d.geom.Rectangle(0,0,this.barWidth*e,this.barHeight),this.bar.setScrollRect(e))},onLoaded:function(){this.adFinished&&(!this.isSiteLocked()||!this.locked)&&this.dispatchEvent(new d.events.Event(d.events.Event.COMPLETE))},
onInit:function(){},getHeight:function(){return 400},getWidth:function(){return 720},getBackgroundColor:function(){return 3368601},onMouseDown:function(){this.removeEventListener(d.events.MouseEvent.MOUSE_DOWN,A(this,this.onMouseDown));s.Lib.getURL(new d.net.URLRequest(this.getURL()),"_blank")},goToLockURL:function(){s.Lib.getURL(new d.net.URLRequest(this.getLockURL()),"_parent")},getURL:function(){return""},showLockScreen:function(a){this.locked=!0;b.stencyl.utils.Utils.removeAllChildren(this);var c=
new d.display.Bitmap(new d.display.BitmapData(this.getWidth()|0,this.getHeight()|0,!1,5658198));this.addChild(c);var e=new d.text.TextField;e.jeashSetWidth(this.getWidth()-16);e.jeashSetHeight(this.getHeight()-16);e.jeashSetX(8);e.jeashSetY(8);e.SetTextColour(16777215);e.multiline=!0;e.SetWordWrap(!0);e.SetText("Hi there!  It looks like somebody copied this game without my permission.  Just click anywhere, or copy-paste this URL into your browser.\n\n"+a+"\n\nThanks, and have fun!");this.addChild(e);
this.removeEventListener(d.events.MouseEvent.MOUSE_DOWN,A(this,this.onMouseDown));e.addEventListener(d.events.MouseEvent.CLICK,A(this,this.goToLockURL));c.addEventListener(d.events.MouseEvent.CLICK,A(this,this.goToLockURL))},isSiteLocked:function(){return!1},getLockURL:function(){return""},locked:null,adFinished:null,started:null,barHeight:null,barWidth:null,background:null,barBackground:null,bar:null,barBorder:null,__class__:r.StencylPreloader});var K;Array.prototype.indexOf?x.remove=function(a,
b){var d=a.indexOf(b);if(-1==d)return!1;a.splice(d,1);return!0}:null;Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;l.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=l.String=String;String.__name__=["String"];Array.prototype.__class__=l.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=l.Date=Date;Date.__name__=["Date"];
var R=l.Int={__name__:["Int"]},T=l.Dynamic={__name__:["Dynamic"]},P=l.Float=Number;P.__name__=["Float"];var Q=l.Bool=Boolean;Q.__ename__=["Bool"];var S=l.Class={__name__:["Class"]},U={};l.Void={__ename__:["Void"]};y.Element="element";y.PCData="pcdata";y.CData="cdata";y.Comment="comment";y.DocType="doctype";y.Prolog="prolog";y.Document="document";"undefined"!=typeof document&&(n.Lib.document=document);"undefined"!=typeof window&&(n.Lib.window=window,n.Lib.window.onerror=function(a,b,d){var e=n.Lib.onerror;
return e==null?false:e(a,[b+":"+d])});k.Resource.content=[{name:"preloader-bg",data:"s130:aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBRFVsRVFWUjQybU5nWUdENER3QUJCQUVBZ0x2UgpXd0FBQUFCSlJVNUVya0pnZ2c9PQ"}];if(window.XMLHttpRequest)O=XMLHttpRequest;else{if(!window.ActiveXObject)throw"Unable to create XMLHttpRequest object.";O=function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw"Unable to create XMLHttpRequest object.";
}}}}n.XMLHttpRequest=O;d.display.DisplayObject.GRAPHICS_INVALID=2;d.display.DisplayObject.MATRIX_INVALID=4;d.display.DisplayObject.MATRIX_CHAIN_INVALID=8;d.display.DisplayObject.MATRIX_OVERRIDDEN=16;d.display.DisplayObject.TRANSFORM_INVALID=32;d.display.DisplayObject.BOUNDS_INVALID=64;d.display.DisplayObject.RENDER_VALIDATE_IN_PROGRESS=1024;d.display.DisplayObject.ALL_RENDER_FLAGS=98;e.common.math.B2Vec2.pool=[];e.collision.B2Collision.b2_nullFeature=255;e.collision.B2Collision.s_incidentEdge=e.collision.B2Collision.makeClipPointVector();
e.collision.B2Collision.s_clipPoints1=e.collision.B2Collision.makeClipPointVector();e.collision.B2Collision.s_clipPoints2=e.collision.B2Collision.makeClipPointVector();e.collision.B2Collision.s_edgeAO=[];e.collision.B2Collision.s_edgeBO=[];e.collision.B2Collision.s_localTangent=new e.common.math.B2Vec2;e.collision.B2Collision.s_localNormal=new e.common.math.B2Vec2;e.collision.B2Collision.s_planePoint=new e.common.math.B2Vec2;e.collision.B2Collision.s_normal=new e.common.math.B2Vec2;e.collision.B2Collision.s_tangent=
new e.common.math.B2Vec2;e.collision.B2Collision.s_tangent2=new e.common.math.B2Vec2;e.collision.B2Collision.s_v11=new e.common.math.B2Vec2;e.collision.B2Collision.s_v12=new e.common.math.B2Vec2;e.collision.B2Collision.b2CollidePolyTempVec=new e.common.math.B2Vec2;e.collision.B2Distance.s_simplex=new e.collision.B2Simplex;e.collision.B2Distance.s_saveA=[];e.collision.B2Distance.s_saveB=[];e.collision.B2DynamicTreeNode.currentID=0;e.collision.B2Manifold.e_circles=1;e.collision.B2Manifold.e_faceA=2;
e.collision.B2Manifold.e_faceB=4;e.collision.B2SeparationFunction.e_points=1;e.collision.B2SeparationFunction.e_faceA=2;e.collision.B2SeparationFunction.e_faceB=4;e.collision.B2TimeOfImpact.b2_toiCalls=0;e.collision.B2TimeOfImpact.b2_toiIters=0;e.collision.B2TimeOfImpact.b2_toiMaxIters=0;e.collision.B2TimeOfImpact.b2_toiRootIters=0;e.collision.B2TimeOfImpact.b2_toiMaxRootIters=0;e.collision.B2TimeOfImpact.s_cache=new e.collision.B2SimplexCache;e.collision.B2TimeOfImpact.s_distanceInput=new e.collision.B2DistanceInput;
e.collision.B2TimeOfImpact.s_xfA=new e.common.math.B2Transform;e.collision.B2TimeOfImpact.s_xfB=new e.common.math.B2Transform;e.collision.B2TimeOfImpact.s_fcn=new e.collision.B2SeparationFunction;e.collision.B2TimeOfImpact.s_distanceOutput=new e.collision.B2DistanceOutput;e.collision.shapes.B2Shape.distanceInput=new e.collision.B2DistanceInput;e.collision.shapes.B2Shape.proxyA=new e.collision.B2DistanceProxy;e.collision.shapes.B2Shape.proxyB=new e.collision.B2DistanceProxy;e.collision.shapes.B2Shape.simplexCache=
new e.collision.B2SimplexCache;e.collision.shapes.B2Shape.distanceOutput=new e.collision.B2DistanceOutput;e.collision.shapes.B2Shape.e_unknownShape=-1;e.collision.shapes.B2Shape.e_circleShape=0;e.collision.shapes.B2Shape.e_polygonShape=1;e.collision.shapes.B2Shape.e_edgeShape=2;e.collision.shapes.B2Shape.e_shapeTypeCount=3;e.collision.shapes.B2Shape.e_hitCollide=1;e.collision.shapes.B2Shape.e_missCollide=0;e.collision.shapes.B2Shape.e_startsInsideCollide=-1;e.collision.shapes.B2PolygonShape.s_mat=
new e.common.math.B2Mat22;e.common.B2Settings.VERSION="2.1alpha";e.common.B2Settings.USHRT_MAX=65535;e.common.B2Settings.b2_pi=Math.PI;e.common.B2Settings.b2_maxManifoldPoints=2;e.common.B2Settings.b2_aabbExtension=0.1;e.common.B2Settings.b2_aabbMultiplier=2;e.common.B2Settings.b2_polygonRadius=2*e.common.B2Settings.b2_linearSlop;e.common.B2Settings.b2_linearSlop=0.0050;e.common.B2Settings.b2_angularSlop=2/180*e.common.B2Settings.b2_pi;e.common.B2Settings.b2_toiSlop=8*e.common.B2Settings.b2_linearSlop;
e.common.B2Settings.b2_maxTOIContactsPerIsland=32;e.common.B2Settings.b2_maxTOIJointsPerIsland=32;e.common.B2Settings.b2_velocityThreshold=1;e.common.B2Settings.b2_maxLinearCorrection=0.2;e.common.B2Settings.b2_maxAngularCorrection=8/180*e.common.B2Settings.b2_pi;e.common.B2Settings.b2_maxTranslation=2;e.common.B2Settings.b2_maxTranslationSquared=e.common.B2Settings.b2_maxTranslation*e.common.B2Settings.b2_maxTranslation;e.common.B2Settings.b2_maxRotation=0.5*e.common.B2Settings.b2_pi;e.common.B2Settings.b2_maxRotationSquared=
e.common.B2Settings.b2_maxRotation*e.common.B2Settings.b2_maxRotation;e.common.B2Settings.b2_contactBaumgarte=0.2;e.common.B2Settings.b2_timeToSleep=0.5;e.common.B2Settings.b2_linearSleepTolerance=0.01;e.common.B2Settings.b2_angularSleepTolerance=2/180*e.common.B2Settings.b2_pi;e.common.math.B2Math.b2Vec2_zero=new e.common.math.B2Vec2(0,0);e.common.math.B2Math.b2Mat22_identity=e.common.math.B2Mat22.fromVV(new e.common.math.B2Vec2(1,0),new e.common.math.B2Vec2(0,1));e.common.math.B2Math.b2Transform_identity=
new e.common.math.B2Transform(e.common.math.B2Math.b2Vec2_zero,e.common.math.B2Math.b2Mat22_identity);e.common.math.B2Math.MIN_VALUE=Number.MIN_VALUE;e.common.math.B2Math.MAX_VALUE=Number.MAX_VALUE;e.dynamics.B2Body.s_xf1=new e.common.math.B2Transform;e.dynamics.B2Body.e_islandFlag=1;e.dynamics.B2Body.e_awakeFlag=2;e.dynamics.B2Body.e_allowSleepFlag=4;e.dynamics.B2Body.e_bulletFlag=8;e.dynamics.B2Body.e_fixedRotationFlag=16;e.dynamics.B2Body.e_activeFlag=32;e.dynamics.B2Body.e_ignoreGravityFlag=128;
e.dynamics.B2Body.e_alwaysActiveFlag=256;e.dynamics.B2Body.e_pausedFlag=512;e.dynamics.B2Body.b2_staticBody=0;e.dynamics.B2Body.b2_kinematicBody=1;e.dynamics.B2Body.b2_dynamicBody=2;e.dynamics.B2ContactFilter.b2_defaultFilter=new e.dynamics.B2ContactFilter;e.dynamics.B2ContactListener.b2_defaultListener=new e.dynamics.B2ContactListener;e.dynamics.B2ContactManager.s_evalCP=new e.collision.B2ContactPoint;e.dynamics.B2DebugDraw.e_shapeBit=1;e.dynamics.B2DebugDraw.e_jointBit=2;e.dynamics.B2DebugDraw.e_aabbBit=
4;e.dynamics.B2DebugDraw.e_pairBit=8;e.dynamics.B2DebugDraw.e_centerOfMassBit=16;e.dynamics.B2DebugDraw.e_controllerBit=32;e.dynamics.B2Fixture.tempAABB1=new e.collision.B2AABB;e.dynamics.B2Fixture.tempAABB2=new e.collision.B2AABB;e.dynamics.B2Island.s_impulse=new e.dynamics.B2ContactImpulse;e.dynamics.B2World.s_timestep2=new e.dynamics.B2TimeStep;e.dynamics.B2World.s_xf=new e.common.math.B2Transform;e.dynamics.B2World.s_backupA=new e.common.math.B2Sweep;e.dynamics.B2World.s_backupB=new e.common.math.B2Sweep;
e.dynamics.B2World.s_timestep=new e.dynamics.B2TimeStep;e.dynamics.B2World.s_queue=[];e.dynamics.B2World.s_jointColor=new e.common.B2Color(0.5,0.8,0.8);e.dynamics.B2World.m_warmStarting=!0;e.dynamics.B2World.m_continuousPhysics=!1;e.dynamics.B2World.e_newFixture=1;e.dynamics.B2World.e_locked=2;e.dynamics.contacts.B2Contact.e_sensorFlag=1;e.dynamics.contacts.B2Contact.e_continuousFlag=2;e.dynamics.contacts.B2Contact.e_islandFlag=4;e.dynamics.contacts.B2Contact.e_toiFlag=8;e.dynamics.contacts.B2Contact.e_touchingFlag=
16;e.dynamics.contacts.B2Contact.e_enabledFlag=32;e.dynamics.contacts.B2Contact.e_filterFlag=64;e.dynamics.contacts.B2Contact.s_input=new e.collision.B2TOIInput;e.dynamics.contacts.B2PositionSolverManifold.circlePointA=new e.common.math.B2Vec2;e.dynamics.contacts.B2PositionSolverManifold.circlePointB=new e.common.math.B2Vec2;e.dynamics.contacts.B2ContactSolver.staticFix=e.common.B2Settings.b2_maxManifoldPoints;e.dynamics.contacts.B2ContactSolver.s_worldManifold=new e.collision.B2WorldManifold;e.dynamics.contacts.B2ContactSolver.s_psm=
new e.dynamics.contacts.B2PositionSolverManifold;e.dynamics.joints.B2Joint.e_unknownJoint=0;e.dynamics.joints.B2Joint.e_revoluteJoint=1;e.dynamics.joints.B2Joint.e_prismaticJoint=2;e.dynamics.joints.B2Joint.e_distanceJoint=3;e.dynamics.joints.B2Joint.e_pulleyJoint=4;e.dynamics.joints.B2Joint.e_mouseJoint=5;e.dynamics.joints.B2Joint.e_gearJoint=6;e.dynamics.joints.B2Joint.e_lineJoint=7;e.dynamics.joints.B2Joint.e_weldJoint=8;e.dynamics.joints.B2Joint.e_frictionJoint=9;e.dynamics.joints.B2Joint.e_inactiveLimit=
0;e.dynamics.joints.B2Joint.e_atLowerLimit=1;e.dynamics.joints.B2Joint.e_atUpperLimit=2;e.dynamics.joints.B2Joint.e_equalLimits=3;e.dynamics.joints.B2JointDef.CENTER="center";e.dynamics.joints.B2PulleyJoint.b2_minPulleyLength=2;e.dynamics.joints.B2RevoluteJoint.tImpulse=new e.common.math.B2Vec2;b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuators=[];b.eclecticdesignstudio.motion.actuators.SimpleActuator.actuatorsLength=0;b.eclecticdesignstudio.motion._Actuate.ObjectHash.nextObjectID=0;
b.eclecticdesignstudio.motion.Actuate.defaultActuator=b.eclecticdesignstudio.motion.actuators.SimpleActuator;b.eclecticdesignstudio.motion.Actuate.defaultEase=b.eclecticdesignstudio.motion.easing.Expo.getEaseOut();b.eclecticdesignstudio.motion.Actuate.targetLibraries=new b.eclecticdesignstudio.motion._Actuate.ObjectHash;b.nmefermmmtools.debug.Stats.GRAPH_WIDTH=70;b.nmefermmmtools.debug.Stats.XPOS=69;b.nmefermmmtools.debug.Stats.GRAPH_HEIGHT=1;b.nmefermmmtools.debug.Stats.TEXT_HEIGHT=15;b.nmefermmmtools.debug.Colors.bg=
51;b.nmefermmmtools.debug.Colors.fps=16776960;b.nmefermmmtools.debug.Colors.ms=65280;b.nmefermmmtools.debug.Colors.mem=65535;b.nmefermmmtools.debug.Colors.memmax=16711792;b.nmefermmmtools.debug.Colors.bgCSS="#000033";b.nmefermmmtools.debug.Colors.fpsCSS="#ffff00";b.nmefermmmtools.debug.Colors.msCSS="#00ff00";b.nmefermmmtools.debug.Colors.memCSS="#00ffff";b.nmefermmmtools.debug.Colors.memmaxCSS="#ff0070";b.stencyl.event.EventMaster.TYPE_ADS=1;b.stencyl.event.EventMaster.TYPE_PURCHASES=2;b.stencyl.event.EventMaster.TYPE_GAMECENTER=
3;b.stencyl.event.EventMaster.TYPE_KEYBOARD=4;b.stencyl.Engine.BACKGROUND="b";b.stencyl.Engine.SCROLLING_BACKGROUND="s";b.stencyl.Engine.REGULAR_LAYER="l";b.stencyl.Engine.DOODAD="";b.stencyl.Engine.INTERNAL_SHIFT="iSHIFT";b.stencyl.Engine.INTERNAL_CTRL="iCTRL";b.stencyl.Engine.NO_PHYSICS=!1;b.stencyl.Engine.DEBUG_DRAW=!1;b.stencyl.Engine.IMG_BASE="";b.stencyl.Engine.SCALE=1;b.stencyl.Engine.isStandardIOS=!1;b.stencyl.Engine.isExtendedIOS=!1;b.stencyl.Engine.isTabletIOS=!1;b.stencyl.Engine.engine=
null;b.stencyl.Engine.landscape=!1;b.stencyl.Engine.paused=!1;b.stencyl.Engine.started=!1;b.stencyl.Engine.events=new b.stencyl.event.EventMaster;b.stencyl.Engine.ITERATIONS=3;b.stencyl.Engine.physicsScale=10;b.stencyl.Engine.paddingLeft=0;b.stencyl.Engine.paddingRight=0;b.stencyl.Engine.paddingTop=0;b.stencyl.Engine.paddingBottom=0;b.stencyl.Engine.STEP_SIZE=10;b.stencyl.Engine.MS_PER_SEC=1E3;b.stencyl.Engine.elapsedTime=0;b.stencyl.Engine.timeScale=1;b.stencyl.Engine.debug=!1;b.stencyl.Engine.debugDraw=
!1;b.stencyl.Input.keyString="";b.stencyl.Input.mouseX=0;b.stencyl.Input.mouseY=0;b.stencyl.Input.kKeyStringMax=100;b.stencyl.Input._enabled=!1;b.stencyl.Input._key=[];b.stencyl.Input._keyNum=0;b.stencyl.Input._press=[];b.stencyl.Input._pressNum=0;b.stencyl.Input._release=[];b.stencyl.Input._releaseNum=0;b.stencyl.Input._control=new F;b.stencyl.Input._mouseWheelDelta=0;b.stencyl.Key.ANY=-1;b.stencyl.Key.LEFT=37;b.stencyl.Key.UP=38;b.stencyl.Key.RIGHT=39;b.stencyl.Key.DOWN=40;b.stencyl.Key.ENTER=13;
b.stencyl.Key.CONTROL=17;b.stencyl.Key.SPACE=32;b.stencyl.Key.SHIFT=16;b.stencyl.Key.BACKSPACE=8;b.stencyl.Key.CAPS_LOCK=20;b.stencyl.Key.DELETE=46;b.stencyl.Key.END=35;b.stencyl.Key.ESCAPE=27;b.stencyl.Key.HOME=36;b.stencyl.Key.INSERT=45;b.stencyl.Key.TAB=9;b.stencyl.Key.PAGE_DOWN=34;b.stencyl.Key.PAGE_UP=33;b.stencyl.Key.LEFT_SQUARE_BRACKET=219;b.stencyl.Key.RIGHT_SQUARE_BRACKET=221;b.stencyl.Key.A=97;b.stencyl.Key.B=98;b.stencyl.Key.C=99;b.stencyl.Key.D=100;b.stencyl.Key.E=101;b.stencyl.Key.F=
102;b.stencyl.Key.G=103;b.stencyl.Key.H=104;b.stencyl.Key.I=105;b.stencyl.Key.J=106;b.stencyl.Key.K=107;b.stencyl.Key.L=108;b.stencyl.Key.M=109;b.stencyl.Key.N=110;b.stencyl.Key.O=111;b.stencyl.Key.P=112;b.stencyl.Key.Q=113;b.stencyl.Key.R=114;b.stencyl.Key.S=115;b.stencyl.Key.T=116;b.stencyl.Key.U=117;b.stencyl.Key.V=118;b.stencyl.Key.W=119;b.stencyl.Key.X=120;b.stencyl.Key.Y=121;b.stencyl.Key.Z=122;b.stencyl.Key.F1=112;b.stencyl.Key.F2=113;b.stencyl.Key.F3=114;b.stencyl.Key.F4=115;b.stencyl.Key.F5=
116;b.stencyl.Key.F6=117;b.stencyl.Key.F7=118;b.stencyl.Key.F8=119;b.stencyl.Key.F9=120;b.stencyl.Key.F10=121;b.stencyl.Key.F11=122;b.stencyl.Key.F12=123;b.stencyl.Key.F13=124;b.stencyl.Key.F14=125;b.stencyl.Key.F15=126;b.stencyl.Key.DIGIT_0=48;b.stencyl.Key.DIGIT_1=49;b.stencyl.Key.DIGIT_2=50;b.stencyl.Key.DIGIT_3=51;b.stencyl.Key.DIGIT_4=52;b.stencyl.Key.DIGIT_5=53;b.stencyl.Key.DIGIT_6=54;b.stencyl.Key.DIGIT_7=55;b.stencyl.Key.DIGIT_8=56;b.stencyl.Key.DIGIT_9=57;b.stencyl.Key.NUMPAD_0=96;b.stencyl.Key.NUMPAD_1=
97;b.stencyl.Key.NUMPAD_2=98;b.stencyl.Key.NUMPAD_3=99;b.stencyl.Key.NUMPAD_4=100;b.stencyl.Key.NUMPAD_5=101;b.stencyl.Key.NUMPAD_6=102;b.stencyl.Key.NUMPAD_7=103;b.stencyl.Key.NUMPAD_8=104;b.stencyl.Key.NUMPAD_9=105;b.stencyl.Key.NUMPAD_ADD=107;b.stencyl.Key.NUMPAD_DECIMAL=110;b.stencyl.Key.NUMPAD_DIVIDE=111;b.stencyl.Key.NUMPAD_ENTER=108;b.stencyl.Key.NUMPAD_MULTIPLY=106;b.stencyl.Key.NUMPAD_SUBTRACT=109;b.stencyl.behavior.Script.FRONT=0;b.stencyl.behavior.Script.MIDDLE=1;b.stencyl.behavior.Script.BACK=
2;b.stencyl.behavior.Script.CHANNELS=32;b.stencyl.behavior.Script.lastCreatedActor=null;b.stencyl.behavior.Script.lastCreatedJoint=null;b.stencyl.behavior.Script.lastCreatedRegion=null;b.stencyl.behavior.Script.lastCreatedTerrainRegion=null;b.stencyl.behavior.Script.mpx=0;b.stencyl.behavior.Script.mpy=0;b.stencyl.behavior.Script.mrx=0;b.stencyl.behavior.Script.mry=0;b.stencyl.event.StencylEvent.AD_USER_OPEN=100;b.stencyl.event.StencylEvent.AD_USER_CLOSE=101;b.stencyl.event.StencylEvent.AD_LOADED=
102;b.stencyl.event.StencylEvent.AD_FAILED=103;b.stencyl.event.StencylEvent.PURCHASE_READY=200;b.stencyl.event.StencylEvent.PURCHASE_SUCCESS=201;b.stencyl.event.StencylEvent.PURCHASE_FAIL=202;b.stencyl.event.StencylEvent.PURCHASE_RESTORE=203;b.stencyl.event.StencylEvent.PURCHASE_CANCEL=204;b.stencyl.event.StencylEvent.GAME_CENTER_READY=300;b.stencyl.event.StencylEvent.GAME_CENTER_SCORE=301;b.stencyl.event.StencylEvent.GAME_CENTER_ACHIEVEMENT=302;b.stencyl.event.StencylEvent.GAME_CENTER_ACHIEVEMENT_RESET=
303;b.stencyl.event.StencylEvent.GAME_CENTER_READY_FAIL=304;b.stencyl.event.StencylEvent.GAME_CENTER_SCORE_FAIL=305;b.stencyl.event.StencylEvent.GAME_CENTER_ACHIEVEMENT_FAIL=306;b.stencyl.event.StencylEvent.GAME_CENTER_ACHIEVEMENT_RESET_FAIL=307;b.stencyl.event.StencylEvent.KEYBOARD_EVENT=400;b.stencyl.event.StencylEvent.KEYBOARD_DONE=401;b.stencyl.event.StencylEvent.KEYBOARD_SHOW=402;b.stencyl.event.StencylEvent.KEYBOARD_HIDE=403;b.stencyl.graphics.BitmapFont.ALIGN_LEFT="left";b.stencyl.graphics.BitmapFont.ALIGN_RIGHT=
"right";b.stencyl.graphics.BitmapFont.ALIGN_CENTER="center";b.stencyl.graphics.BitmapFont.TEXT_SET1=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";b.stencyl.graphics.BitmapFont.TEXT_SET2=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.stencyl.graphics.BitmapFont.TEXT_SET25=" !\"'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.stencyl.graphics.BitmapFont.TEXT_SET3="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ";b.stencyl.graphics.BitmapFont.TEXT_SET4=
"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789";b.stencyl.graphics.BitmapFont.TEXT_SET5="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789";b.stencyl.graphics.BitmapFont.TEXT_SET6="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ";b.stencyl.graphics.BitmapFont.TEXT_SET7="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39";b.stencyl.graphics.BitmapFont.TEXT_SET8="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.stencyl.graphics.BitmapFont.TEXT_SET9="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!";b.stencyl.graphics.BitmapFont.TEXT_SET10=
"ABCDEFGHIJKLMNOPQRSTUVWXYZ";b.stencyl.graphics.BitmapFont.TEXT_SET11="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789";b.stencyl.graphics.G.fontCache=null;b.stencyl.graphics.fonts.BitmapFont._storedFonts=new F;b.stencyl.graphics.fonts.BitmapFont.ZERO_POINT=new d.geom.Point;b.stencyl.graphics.fonts.DefaultFontGenerator.fontData=" 36000000000000000000!26101010001000\"46101010100000000000000000#66010100111110010100111110010100000000$56001000111011000001101110000100%66100100000100001000010000010010000000&66011000100000011010100100011010000000'26101000000000(36010100100100010000)36100010010010100000*46000010100100101000000000+46000001001110010000000000,36000000000000010100-46000000001110000000000000.26000000001000/66000010000100001000010000100000000000056011001001010010100100110000000156011000010000100001000010000000256111000001001100100001111000000356111000001001100000101110000000456100101001010010011100001000000556111101000011100000101110000000656011001000011100100100110000000756111000001000010001100001000000856011001001001100100100110000000956011001001010010011100001000000:26001000100000;26001000101000<46001001001000010000100000=46000011100000111000000000>46100001000010010010000000?56111000001001100000000100000000@66011100100010101110101010011100000000A56011001001010010111101001000000B56111001001011100100101110000000C56011001001010000100100110000000D56111001001010010100101110000000E56111101000011000100001111000000F56111101000010000110001000000000G56011001000010110100100111000000H56100101001011110100101001000000I26101010101000J56000100001000010100100110000000K56100101001010010111001001000000L46100010001000100011100000M66100010100010110110101010100010000000N56100101001011010101101001000000O56011001001010010100100110000000P56111001001010010111001000000000Q56011001001010010100100110000010R56111001001010010111001001000000S56011101000001100000101110000000T46111001000100010001000000U56100101001010010100100110000000V56100101001010010101000100000000W66100010100010101010110110100010000000X56100101001001100100101001000000Y56100101001010010011100001001100Z56111100001001100100001111000000[36110100100100110000}46110001000010010011000000]36110010010010110000^46010010100000000000000000_46000000000000000011110000'26101000000000a56000000111010010100100111000000b56100001110010010100101110000000c46000001101000100001100000d56000100111010010100100111000000e56000000110010110110000110000000f46011010001000110010000000g5700000011001001010010011100001001100h56100001110010010100101001000000i26100010101000j37010000010010010010100k56100001001010010111001001000000l26101010101000m66000000111100101010101010101010000000n56000001110010010100101001000000o56000000110010010100100110000000p5700000111001001010010111001000010000q5700000011101001010010011100001000010r46000010101100100010000000s56000000111011000001101110000000t46100011001000100001100000u56000001001010010100100111000000v56000001001010010101000100000000w66000000101010101010101010011110000000x56000001001010010011001001000000y5700000100101001010010011100001001100z56000001111000100010001111000000{46011001001000010001100000|26101010101000}46110001000010010011000000~56010101010000000000000000000000\\46111010101010101011100000";
b.stencyl.graphics.fonts.TextAlign.LEFT=1;b.stencyl.graphics.fonts.TextAlign.RIGHT=2;b.stencyl.graphics.fonts.TextAlign.CENTER=3;b.stencyl.graphics.transitions.Transition.IN="in";b.stencyl.graphics.transitions.Transition.OUT="out";b.stencyl.graphics.transitions.Transition.THROUGH="through";b.stencyl.graphics.transitions.SlideTransition.SLIDE_UP="up";b.stencyl.graphics.transitions.SlideTransition.SLIDE_DOWN="down";b.stencyl.graphics.transitions.SlideTransition.SLIDE_LEFT="left";b.stencyl.graphics.transitions.SlideTransition.SLIDE_RIGHT=
"right";b.stencyl.models.Actor.GROUP_OFFSET=1E6;b.stencyl.models.Actor.manifold=new e.collision.B2WorldManifold;b.stencyl.models.Font.defaultFont=null;b.stencyl.models.GameModel.INHERIT_ID=-1E3;b.stencyl.models.GameModel.REGION_ID=-2;b.stencyl.models.GameModel.PLAYER_ID=0;b.stencyl.models.GameModel.TERRAIN_ID=1;b.stencyl.models.GameModel.DOODAD_ID=2;b.stencyl.models.GameModel.ACTOR_ID=3;b.stencyl.models.Scene.MAX_VERTICES=200;b.stencyl.models.SoundChannel.muted=!1;b.stencyl.models.SoundChannel.masterVolume=
1;b.stencyl.models.actor.Animation.allAnimations=[];b.stencyl.models.background.ColorBackground.WHITE=-1;b.stencyl.models.background.ColorBackground.TRANSPARENT=-2;b.stencyl.utils.HashMap.SAFE_NUM=2147483647;b.stencyl.utils.HashMap.clsId=0;b.stencyl.models.scene.TileLayer.cacheSource=new b.stencyl.utils.HashMap;d.display.Graphics.JEASH_MAX_DIM=5E3;d.display.Graphics.RADIAL=1;d.display.Graphics.SPREAD_REPEAT=2;d.display.Graphics.SPREAD_REFLECT=4;d.display.Graphics.END_NONE=0;d.display.Graphics.END_ROUND=
256;d.display.Graphics.END_SQUARE=512;d.display.Graphics.CORNER_ROUND=0;d.display.Graphics.CORNER_MITER=4096;d.display.Graphics.CORNER_BEVEL=8192;d.display.Graphics.ROUND="round";d.display.Graphics.MITER="miter";d.display.Graphics.BEVEL="bevel";d.display.Graphics.SQUARE="square";d.display.Graphics.BUTT="butt";d.display.Graphics.PIXEL_HINTING=16384;d.display.Graphics.BMP_REPEAT=16;d.display.Graphics.BMP_SMOOTH=65536;d.display.Graphics.SCALE_NONE=0;d.display.Graphics.SCALE_VERTICAL=1;d.display.Graphics.SCALE_HORIZONTAL=
2;d.display.Graphics.SCALE_NORMAL=3;d.display.Graphics.MOVE=0;d.display.Graphics.LINE=1;d.display.Graphics.CURVE=2;d.display.Graphics.TILE_SCALE=1;d.display.Graphics.TILE_ROTATION=2;d.display.Graphics.TILE_RGB=4;d.display.Graphics.TILE_ALPHA=8;d.Lib.VENDOR_HTML_TAG="data-";d.Lib.HTML_DIV_EVENT_TYPES="resize mouseup mouseover mouseout mousemove mousedown mousewheel dblclick click".split(" ");d.Lib.HTML_WINDOW_EVENT_TYPES=["keyup","keypress","keydown","resize"];d.Lib.HTML_TOUCH_EVENT_TYPES=["touchstart",
"touchmove","touchend"];d.Lib.HTML_ACCELEROMETER_EVENT_TYPE="devicemotion";d.Lib.HTML_ORIENTATION_EVENT_TYPE="orientationchange";d.Lib.JEASH_IDENTIFIER="haxe:jeash";d.Lib.DEFAULT_WIDTH=500;d.Lib.DEFAULT_HEIGHT=500;d.Lib.starttime=k.Timer.stamp();n.Lib.onerror=null;d.events.Event.ACTIVATE="activate";d.events.Event.ADDED="added";d.events.Event.ADDED_TO_STAGE="addedToStage";d.events.Event.CANCEL="cancel";d.events.Event.CHANGE="change";d.events.Event.CLOSE="close";d.events.Event.COMPLETE="complete";d.events.Event.CONNECT=
"connect";d.events.Event.DEACTIVATE="deactivate";d.events.Event.ENTER_FRAME="enterFrame";d.events.Event.ID3="id3";d.events.Event.INIT="init";d.events.Event.MOUSE_LEAVE="mouseLeave";d.events.Event.OPEN="open";d.events.Event.REMOVED="removed";d.events.Event.REMOVED_FROM_STAGE="removedFromStage";d.events.Event.RENDER="render";d.events.Event.RESIZE="resize";d.events.Event.SCROLL="scroll";d.events.Event.SELECT="select";d.events.Event.TAB_CHILDREN_CHANGE="tabChildrenChange";d.events.Event.TAB_ENABLED_CHANGE=
"tabEnabledChange";d.events.Event.TAB_INDEX_CHANGE="tabIndexChange";d.events.Event.UNLOAD="unload";d.events.Event.SOUND_COMPLETE="soundComplete";d.events.MouseEvent.CLICK="click";d.events.MouseEvent.DOUBLE_CLICK="doubleClick";d.events.MouseEvent.MOUSE_DOWN="mouseDown";d.events.MouseEvent.MOUSE_MOVE="mouseMove";d.events.MouseEvent.MOUSE_OUT="mouseOut";d.events.MouseEvent.MOUSE_OVER="mouseOver";d.events.MouseEvent.MOUSE_UP="mouseUp";d.events.MouseEvent.MOUSE_WHEEL="mouseWheel";d.events.MouseEvent.ROLL_OUT=
"rollOut";d.events.MouseEvent.ROLL_OVER="rollOver";d.events.TouchEvent.TOUCH_BEGIN="touchBegin";d.events.TouchEvent.TOUCH_END="touchEnd";d.events.TouchEvent.TOUCH_MOVE="touchMove";d.events.TouchEvent.TOUCH_OUT="touchOut";d.events.TouchEvent.TOUCH_OVER="touchOver";d.events.TouchEvent.TOUCH_ROLL_OUT="touchRollOut";d.events.TouchEvent.TOUCH_ROLL_OVER="touchRollOver";d.events.TouchEvent.TOUCH_TAP="touchTap";d.display.Stage.NAME="Stage";d.display.Stage.OrientationPortrait=1;d.display.Stage.OrientationPortraitUpsideDown=
2;d.display.Stage.OrientationLandscapeRight=3;d.display.Stage.OrientationLandscapeLeft=4;d.display.Stage.jeashAcceleration={x:0,y:1,z:0};d.display.Stage.jeashMouseChanges=[d.events.MouseEvent.MOUSE_OUT,d.events.MouseEvent.MOUSE_OVER,d.events.MouseEvent.ROLL_OUT,d.events.MouseEvent.ROLL_OVER];d.display.Stage.jeashTouchChanges=[d.events.TouchEvent.TOUCH_OUT,d.events.TouchEvent.TOUCH_OVER,d.events.TouchEvent.TOUCH_ROLL_OUT,d.events.TouchEvent.TOUCH_ROLL_OVER];d.display.Stage.DEFAULT_FRAMERATE=60;d.display.Stage.UI_EVENTS_QUEUE_MAX=
1E3;d.utils.Uuid.UID_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";d.geom.Transform.DEG_TO_RAD=Math.PI/180;b.stencyl.utils.Utils.INT_MAX=1E8;b.stencyl.utils.Utils.NUMBER_MAX_VALUE=179*Math.pow(10,306);b.stencyl.utils.Utils.blackColor=-16777216;b.stencyl.utils.Utils.rate=1;b.stencyl.utils.Utils.camera=new d.geom.Point;b.stencyl.utils.Utils._bitmap=new F;b.stencyl.utils.Utils._seed=0;b.stencyl.utils.Utils._volume=1;b.stencyl.utils.Utils._pan=0;b.stencyl.utils.Utils._soundTransform=new d.media.SoundTransform;
b.stencyl.utils.Utils.DEG=180/Math.PI;b.stencyl.utils.Utils.RAD=Math.PI/180;b.stencyl.utils.Utils.point=new d.geom.Point;b.stencyl.utils.Utils.point2=new d.geom.Point;b.stencyl.utils.Utils.zero=new d.geom.Point;b.stencyl.utils.Utils.rect=new d.geom.Rectangle;b.stencyl.utils.Utils.matrix=new d.geom.Matrix;b.stencyl.utils.Utils.sprite=new d.display.Sprite;b.stencyl.utils.Utils.collision=new b.stencyl.models.actor.Collision;k.Serializer.USE_CACHE=!1;k.Serializer.USE_ENUM_INDEX=!1;k.Serializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";k.Template.splitter=new L('(::[A-Za-z0-9_ ()&|!+=/><*."-]+::|\\$\\$([A-Za-z0-9_-]+)\\()',"");k.Template.expr_splitter=new L('(\\(|\\)|[ \r\n\t]*"[^"]*"[ \r\n\t]*|[!+=/><*.&|-]+)',"");k.Template.expr_trim=new L("^[ ]*([^ ]+)[ ]*$","");k.Template.expr_int=new L("^[0-9]+$","");k.Template.expr_float=new L("^([+-]?)(?=\\d|,\\d)\\d*(,\\d*)?([Ee]([+-]?\\d+))?$","");k.Template.globals={};k.Unserializer.DEFAULT_RESOLVER=C;k.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";k.Unserializer.CODES=null;k.xml.Check.blanks=new L("^[ \r\n\t]*$","");d.display._BitmapData.MinstdGenerator.a=16807;d.display._BitmapData.MinstdGenerator.m=-2147483649;d.display.BitmapDataChannel.ALPHA=8;d.display.BitmapDataChannel.BLUE=4;d.display.BitmapDataChannel.GREEN=2;d.display.BitmapDataChannel.RED=1;d.display.GraphicsPathCommand.LINE_TO=2;d.display.GraphicsPathCommand.MOVE_TO=1;d.display.GraphicsPathCommand.CURVE_TO=3;d.display.GraphicsPathCommand.WIDE_LINE_TO=
5;d.display.GraphicsPathCommand.WIDE_MOVE_TO=4;d.display.GraphicsPathCommand.NO_OP=0;d.display.StageQuality.BEST="best";d.display.StageQuality.HIGH="high";d.display.StageQuality.MEDIUM="medium";d.display.StageQuality.LOW="low";d.errors.Error.DEFAULT_TO_STRING="Error";d.events.Listener.sIDs=1;d.events.EventPhase.CAPTURING_PHASE=0;d.events.EventPhase.AT_TARGET=1;d.events.EventPhase.BUBBLING_PHASE=2;d.events.FocusEvent.FOCUS_IN="FOCUS_IN";d.events.FocusEvent.FOCUS_OUT="FOCUS_OUT";d.events.FocusEvent.KEY_FOCUS_CHANGE=
"KEY_FOCUS_CHANGE";d.events.FocusEvent.MOUSE_FOCUS_CHANGE="MOUSE_FOCUS_CHANGE";d.events.HTTPStatusEvent.HTTP_RESPONSE_STATUS="httpResponseStatus";d.events.HTTPStatusEvent.HTTP_STATUS="httpStatus";d.events.IOErrorEvent.IO_ERROR="IO_ERROR";d.events.KeyboardEvent.KEY_DOWN="KEY_DOWN";d.events.KeyboardEvent.KEY_UP="KEY_UP";d.events.ProgressEvent.PROGRESS="progress";d.events.ProgressEvent.SOCKET_DATA="socketData";d.filters.DropShadowFilter.DEGREES_FULL_RADIUS=360;d.media.Sound.MEDIA_TYPE_MP3="audio/mpeg";
d.media.Sound.MEDIA_TYPE_OGG='audio/ogg; codecs="vorbis"';d.media.Sound.MEDIA_TYPE_WAV='audio/wav; codecs="1"';d.media.Sound.MEDIA_TYPE_AAC='audio/mp4; codecs="mp4a.40.2"';d.media.Sound.EXTENSION_MP3="mp3";d.media.Sound.EXTENSION_OGG="ogg";d.media.Sound.EXTENSION_WAV="wav";d.media.Sound.EXTENSION_AAC="aac";d.net.SharedObjectFlushedStatus.FLUSHED="flushed";d.net.SharedObjectFlushedStatus.PENDING="pending";d.net.URLRequestMethod.DELETE="DELETE";d.net.URLRequestMethod.GET="GET";d.net.URLRequestMethod.HEAD=
"HEAD";d.net.URLRequestMethod.OPTIONS="OPTIONS";d.net.URLRequestMethod.POST="POST";d.net.URLRequestMethod.PUT="PUT";d.system.Capabilities.hasAccessibility=!1;d.system.System.useCodePage=!1;d.text.Font.DEFAULT_FONT_SCALE=9;d.text.Font.DEFAULT_FONT_NAME="Bitstream_Vera_Sans";d.text.Font.DEFAULT_CLASS_NAME="jeash.text.Font";d.text.Font.DEFAULT_FONT_DATA="q:55oy6:ascentd950.5y4:dataad84d277.5d564d277.5d564d320.5d293d1024d187.5d1024d442.5d362.5d84d362.5d84d277.5hy6:_widthd651.5y4:xMaxd564y4:xMind84y4:yMaxd746.5y4:yMind0y7:_heightd662.5y7:leadingd168y7:descentd241.5y8:charCodei55y15:leftsideBearingd84y12:advanceWidthd651.5y8:commandsai1i2i2i2i2i2i2i2hg:111oR0d950.5R1ad313.5d528.5d239.5d528.5d196.5d586.25d153.5d644d153.5d744.5d153.5d845d196.25d902.75d239d960.5d313.5d960.5d387d960.5d430d902.5d473d844.5d473d744.5d473d645d430d586.75d387d528.5d313.5d528.5d313.5d450.5d433.5d450.5d502d528.5d570.5d606.5d570.5d744.5d570.5d882d502d960.25d433.5d1038.5d313.5d1038.5d193d1038.5d124.75d960.25d56.5d882d56.5d744.5d56.5d606.5d124.75d528.5d193d450.5d313.5d450.5hR2d626.5R3d570.5R4d56.5R5d573.5R6d-14.5R7d517R8d168R9d241.5R10i111R11d56.5R12d626.5R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3hg:54oR0d950.5R1ad338d610.5d270d610.5d230.25d657d190.5d703.5d190.5d784.5d190.5d865d230.25d911.75d270d958.5d338d958.5d406d958.5d445.75d911.75d485.5d865d485.5d784.5d485.5d703.5d445.75d657d406d610.5d338d610.5d538.5d294d538.5d386d500.5d368d461.75d358.5d423d349d385d349d285d349d232.25d416.5d179.5d484d172d620.5d201.5d577d246d553.75d290.5d530.5d344d530.5d456.5d530.5d521.75d598.75d587d667d587d784.5d587d899.5d519d969d451d1038.5d338d1038.5d208.5d1038.5d140d939.25d71.5d840d71.5d651.5d71.5d474.5d155.5d369.25d239.5d264d381d264d419d264d457.75d271.5d496.5d279d538.5d294hR2d651.5R3d587R4d71.5R5d760R6d-14.5R7d688.5R8d168R9d241.5R10i54R11d71.5R12d651.5R13ai1i3i3i3i3i3i3i3i3i1i2i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3hg:110oR0d950.5R1ad562d686d562d1024d470d1024d470d689d470d609.5d439d570d408d530.5d346d530.5d271.5d530.5d228.5d578d185.5d625.5d185.5d707.5d185.5d1024d93d1024d93d464d185.5d464d185.5d551d218.5d500.5d263.25d475.5d308d450.5d366.5d450.5d463d450.5d512.5d510.25d562d570d562d686hR2d649R3d562R4d93R5d573.5R6d0R7d480.5R8d168R9d241.5R10i110R11d93R12d649R13ai1i2i2i2i3i3i3i3i2i2i2i2i2i3i3i3i3hg:53oR0d950.5R1ad110.5d277.5d507d277.5d507d362.5d203d362.5d203d545.5d225d538d247d534.25d269d530.5d291d530.5d416d530.5d489d599d562d667.5d562d784.5d562d905d487d971.75d412d1038.5d275.5d1038.5d228.5d1038.5d179.75d1030.5d131d1022.5d79d1006.5d79d905d124d929.5d172d941.5d220d953.5d273.5d953.5d360d953.5d410.5d908d461d862.5d461d784.5d461d706.5d410.5d661d360d615.5d273.5d615.5d233d615.5d192.75d624.5d152.5d633.5d110.5d652.5d110.5d277.5hR2d651.5R3d562R4d79R5d746.5R6d-14.5R7d667.5R8d168R9d241.5R10i53R11d79R12d651.5R13ai1i2i2i2i2i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3i3i3i2hg:109oR0d950.5R1ad532.5d571.5d567d509.5d615d480d663d450.5d728d450.5d815.5d450.5d863d511.75d910.5d573d910.5d686d910.5d1024d818d1024d818d689d818d608.5d789.5d569.5d761d530.5d702.5d530.5d631d530.5d589.5d578d548d625.5d548d707.5d548d1024d455.5d1024d455.5d689d455.5d608d427d569.25d398.5d530.5d339d530.5d268.5d530.5d227d578.25d185.5d626d185.5d707.5d185.5d1024d93d1024d93d464d185.5d464d185.5d551d217d499.5d261d475d305d450.5d365.5d450.5d426.5d450.5d469.25d481.5d512d512.5d532.5d571.5hR2d997.5R3d910.5R4d93R5d573.5R6d0R7d480.5R8d168R9d241.5R10i109R11d93R12d997.5R13ai1i3i3i3i3i2i2i2i3i3i3i3i2i2i2i3i3i3i3i2i2i2i2i2i3i3i3i3hg:52oR0d950.5R1ad387d365.5d132d764d387d764d387d365.5d360.5d277.5d487.5d277.5d487.5d764d594d764d594d848d487.5d848d487.5d1024d387d1024d387d848d50d848d50d750.5d360.5d277.5hR2d651.5R3d594R4d50R5d746.5R6d0R7d696.5R8d168R9d241.5R10i52R11d50R12d651.5R13ai1i2i2i2i1i2i2i2i2i2i2i2i2i2i2i2hg:108oR0d950.5R1ad96.5d246d188.5d246d188.5d1024d96.5d1024d96.5d246hR2d284.5R3d188.5R4d96.5R5d778R6d0R7d681.5R8d168R9d241.5R10i108R11d96.5R12d284.5R13ai1i2i2i2i2hg:51oR0d950.5R1ad415.5d621.5d488d637d528.75d686d569.5d735d569.5d807d569.5d917.5d493.5d978d417.5d1038.5d277.5d1038.5d230.5d1038.5d180.75d1029.25d131d1020d78d1001.5d78d904d120d928.5d170d941d220d953.5d274.5d953.5d369.5d953.5d419.25d916d469d878.5d469d807d469d741d422.75d703.75d376.5d666.5d294d666.5d207d666.5d207d583.5d298d583.5d372.5d583.5d412d553.75d451.5d524d451.5d468d451.5d410.5d410.75d379.75d370d349d294d349d252.5d349d205d358d157.5d367d100.5d386d100.5d296d158d280d208.25d272d258.5d264d303d264d418d264d485d316.25d552d368.5d552d457.5d552d519.5d516.5d562.25d481d605d415.5d621.5hR2d651.5R3d569.5R4d78R5d760R6d-14.5R7d682R8d168R9d241.5R10i51R11d78R12d651.5R13ai1i3i3i3i3i3i3i2i3i3i3i3i3i3i2i2i2i3i3i3i3i3i3i2i3i3i3i3i3i3hg:107oR0d950.5R1ad93d246d185.5d246d185.5d705.5d460d464d577.5d464d280.5d726d590d1024d470d1024d185.5d750.5d185.5d1024d93d1024d93d246hR2d593R3d590R4d93R5d778R6d0R7d685R8d168R9d241.5R10i107R11d93R12d593R13ai1i2i2i2i2i2i2i2i2i2i2i2hg:50oR0d950.5R1ad196.5d939d549d939d549d1024d75d1024d75d939d132.5d879.5d231.75d779.25d331d679d356.5d650d405d595.5d424.25d557.75d443.5d520d443.5d483.5d443.5d424d401.75d386.5d360d349d293d349d245.5d349d192.75d365.5d140d382d80d415.5d80d313.5d141d289d194d276.5d247d264d291d264d407d264d476d322d545d380d545d477d545d523d527.75d564.25d510.5d605.5d465d661.5d452.5d676d385.5d745.25d318.5d814.5d196.5d939hR2d651.5R3d549R4d75R5d760R6d0R7d685R8d168R9d241.5R10i50R11d75R12d651.5R13ai1i2i2i2i2i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3i3i3hg:106oR0d950.5R1ad96.5d464d188.5d464d188.5d1034d188.5d1141d147.75d1189d107d1237d16.5d1237d-18.5d1237d-18.5d1159d6d1159d58.5d1159d77.5d1134.75d96.5d1110.5d96.5d1034d96.5d464d96.5d246d188.5d246d188.5d362.5d96.5d362.5d96.5d246hR2d284.5R3d188.5R4d-18.5R5d778R6d-213R7d796.5R8d168R9d241.5R10i106R11d-18.5R12d284.5R13ai1i2i2i3i3i2i2i2i3i3i2i1i2i2i2i2hg:49oR0d950.5R1ad127d939d292d939d292d369.5d112.5d405.5d112.5d313.5d291d277.5d392d277.5d392d939d557d939d557d1024d127d1024d127d939hR2d651.5R3d557R4d112.5R5d746.5R6d0R7d634R8d168R9d241.5R10i49R11d112.5R12d651.5R13ai1i2i2i2i2i2i2i2i2i2i2i2hg:105oR0d950.5R1ad96.5d464d188.5d464d188.5d1024d96.5d1024d96.5d464d96.5d246d188.5d246d188.5d362.5d96.5d362.5d96.5d246hR2d284.5R3d188.5R4d96.5R5d778R6d0R7d681.5R8d168R9d241.5R10i105R11d96.5R12d284.5R13ai1i2i2i2i2i1i2i2i2i2hg:48oR0d950.5R1ad325.5d344d247.5d344d208.25d420.75d169d497.5d169d651.5d169d805d208.25d881.75d247.5d958.5d325.5d958.5d404d958.5d443.25d881.75d482.5d805d482.5d651.5d482.5d497.5d443.25d420.75d404d344d325.5d344d325.5d264d451d264d517.25d363.25d583.5d462.5d583.5d651.5d583.5d840d517.25d939.25d451d1038.5d325.5d1038.5d200d1038.5d133.75d939.25d67.5d840d67.5d651.5d67.5d462.5d133.75d363.25d200d264d325.5d264hR2d651.5R3d583.5R4d67.5R5d760R6d-14.5R7d692.5R8d168R9d241.5R10i48R11d67.5R12d651.5R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3hg:104oR0d950.5R1ad562d686d562d1024d470d1024d470d689d470d609.5d439d570d408d530.5d346d530.5d271.5d530.5d228.5d578d185.5d625.5d185.5d707.5d185.5d1024d93d1024d93d246d185.5d246d185.5d551d218.5d500.5d263.25d475.5d308d450.5d366.5d450.5d463d450.5d512.5d510.25d562d570d562d686hR2d649R3d562R4d93R5d778R6d0R7d685R8d168R9d241.5R10i104R11d93R12d649R13ai1i2i2i2i3i3i3i3i2i2i2i2i2i3i3i3i3hg:47oR0d950.5R1ad260d277.5d345d277.5d85d1119d0d1119d260d277.5hR2d345R3d345R4d0R5d746.5R6d-95R7d746.5R8d168R9d241.5R10i47R11d0R12d345R13ai1i2i2i2i2hg:103oR0d950.5R1ad465d737.5d465d637.5d423.75d582.5d382.5d527.5d308d527.5d234d527.5d192.75d582.5d151.5d637.5d151.5d737.5d151.5d837d192.75d892d234d947d308d947d382.5d947d423.75d892d465d837d465d737.5d557d954.5d557d1097.5d493.5d1167.25d430d1237d299d1237d250.5d1237d207.5d1229.75d164.5d1222.5d124d1207.5d124d1118d164.5d1140d204d1150.5d243.5d1161d284.5d1161d375d1161d420d1113.75d465d1066.5d465d971d465d925.5d436.5d975d392d999.5d347.5d1024d285.5d1024d182.5d1024d119.5d945.5d56.5d867d56.5d737.5d56.5d607.5d119.5d529d182.5d450.5d285.5d450.5d347.5d450.5d392d475d436.5d499.5d465d549d465d464d557d464d557d954.5hR2d650R3d557R4d56.5R5d573.5R6d-213R7d517R8d168R9d241.5R10i103R11d56.5R12d650R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i2i3i3i3i3i2i3i3i3i3i3i3i3i3i2i2i2hg:46oR0d950.5R1ad109.5d897d215d897d215d1024d109.5d1024d109.5d897hR2d325.5R3d215R4d109.5R5d127R6d0R7d17.5R8d168R9d241.5R10i46R11d109.5R12d325.5R13ai1i2i2i2i2hg:102oR0d950.5R1ad380d246d380d322.5d292d322.5d242.5d322.5d223.25d342.5d204d362.5d204d414.5d204d464d355.5d464d355.5d535.5d204d535.5d204d1024d111.5d1024d111.5d535.5d23.5d535.5d23.5d464d111.5d464d111.5d425d111.5d331.5d155d288.75d198.5d246d293d246d380d246hR2d360.5R3d380R4d23.5R5d778R6d0R7d754.5R8d168R9d241.5R10i102R11d23.5R12d360.5R13ai1i2i2i3i3i2i2i2i2i2i2i2i2i2i2i2i3i3i2hg:45oR0d950.5R1ad50d702.5d319.5d702.5d319.5d784.5d50d784.5d50d702.5hR2d369.5R3d319.5R4d50R5d321.5R6d239.5R7d271.5R8d168R9d241.5R10i45R11d50R12d369.5R13ai1i2i2i2i2hg:101oR0d950.5R1ad575.5d721d575.5d766d152.5d766d158.5d861d209.75d910.75d261d960.5d352.5d960.5d405.5d960.5d455.25d947.5d505d934.5d554d908.5d554d995.5d504.5d1016.5d452.5d1027.5d400.5d1038.5d347d1038.5d213d1038.5d134.75d960.5d56.5d882.5d56.5d749.5d56.5d612d130.75d531.25d205d450.5d331d450.5d444d450.5d509.75d523.25d575.5d596d575.5d721d483.5d694d482.5d618.5d441.25d573.5d400d528.5d332d528.5d255d528.5d208.75d572d162.5d615.5d155.5d694.5d483.5d694hR2d630R3d575.5R4d56.5R5d573.5R6d-14.5R7d517R8d168R9d241.5R10i101R11d56.5R12d630R13ai1i2i2i3i3i3i3i2i3i3i3i3i3i3i3i3i1i3i3i3i3i2hg:44oR0d950.5R1ad120d897d225.5d897d225.5d983d143.5d1143d79d1143d120d983d120d897hR2d325.5R3d225.5R4d79R5d127R6d-119R7d48R8d168R9d241.5R10i44R11d79R12d325.5R13ai1i2i2i2i2i2i2hg:100oR0d950.5R1ad465d549d465d246d557d246d557d1024d465d1024d465d940d436d990d391.75d1014.25d347.5d1038.5d285.5d1038.5d184d1038.5d120.25d957.5d56.5d876.5d56.5d744.5d56.5d612.5d120.25d531.5d184d450.5d285.5d450.5d347.5d450.5d391.75d474.75d436d499d465d549d151.5d744.5d151.5d846d193.25d903.75d235d961.5d308d961.5d381d961.5d423d903.75d465d846d465d744.5d465d643d423d585.25d381d527.5d308d527.5d235d527.5d193.25d585.25d151.5d643d151.5d744.5hR2d650R3d557R4d56.5R5d778R6d-14.5R7d721.5R8d168R9d241.5R10i100R11d56.5R12d650R13ai1i2i2i2i2i2i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3hg:43oR0d950.5R1ad471d382d471d660.5d749.5d660.5d749.5d745.5d471d745.5d471d1024d387d1024d387d745.5d108.5d745.5d108.5d660.5d387d660.5d387d382d471d382hR2d858R3d749.5R4d108.5R5d642R6d0R7d533.5R8d168R9d241.5R10i43R11d108.5R12d858R13ai1i2i2i2i2i2i2i2i2i2i2i2i2hg:99oR0d950.5R1ad499.5d485.5d499.5d571.5d460.5d550d421.25d539.25d382d528.5d342d528.5d252.5d528.5d203d585.25d153.5d642d153.5d744.5d153.5d847d203d903.75d252.5d960.5d342d960.5d382d960.5d421.25d949.75d460.5d939d499.5d917.5d499.5d1002.5d461d1020.5d419.75d1029.5d378.5d1038.5d332d1038.5d205.5d1038.5d131d959d56.5d879.5d56.5d744.5d56.5d607.5d131.75d529d207d450.5d338d450.5d380.5d450.5d421d459.25d461.5d468d499.5d485.5hR2d563R3d499.5R4d56.5R5d573.5R6d-14.5R7d517R8d168R9d241.5R10i99R11d56.5R12d563R13ai1i2i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3i3i3hg:42oR0d950.5R1ad481.5d400.5d302d497.5d481.5d595d452.5d644d284.5d542.5d284.5d731d227.5d731d227.5d542.5d59.5d644d30.5d595d210d497.5d30.5d400.5d59.5d351d227.5d452.5d227.5d264d284.5d264d284.5d452.5d452.5d351d481.5d400.5hR2d512R3d481.5R4d30.5R5d760R6d293R7d729.5R8d168R9d241.5R10i42R11d30.5R12d512R13ai1i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2hg:98oR0d950.5R1ad498.5d744.5d498.5d643d456.75d585.25d415d527.5d342d527.5d269d527.5d227.25d585.25d185.5d643d185.5d744.5d185.5d846d227.25d903.75d269d961.5d342d961.5d415d961.5d456.75d903.75d498.5d846d498.5d744.5d185.5d549d214.5d499d258.75d474.75d303d450.5d364.5d450.5d466.5d450.5d530.25d531.5d594d612.5d594d744.5d594d876.5d530.25d957.5d466.5d1038.5d364.5d1038.5d303d1038.5d258.75d1014.25d214.5d990d185.5d940d185.5d1024d93d1024d93d246d185.5d246d185.5d549hR2d650R3d594R4d93R5d778R6d-14.5R7d685R8d168R9d241.5R10i98R11d93R12d650R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3i2i2i2i2i2hg:41oR0d950.5R1ad82d247d162d247d237d365d274.25d478d311.5d591d311.5d702.5d311.5d814.5d274.25d928d237d1041.5d162d1159d82d1159d148.5d1044.5d181.25d931.25d214d818d214d702.5d214d587d181.25d474.5d148.5d362d82d247hR2d399.5R3d311.5R4d82R5d777R6d-135R7d695R8d168R9d241.5R10i41R11d82R12d399.5R13ai1i2i3i3i3i3i2i3i3i3i3hg:97oR0d950.5R1ad351d742.5d239.5d742.5d196.5d768d153.5d793.5d153.5d855d153.5d904d185.75d932.75d218d961.5d273.5d961.5d350d961.5d396.25d907.25d442.5d853d442.5d763d442.5d742.5d351d742.5d534.5d704.5d534.5d1024d442.5d1024d442.5d939d411d990d364d1014.25d317d1038.5d249d1038.5d163d1038.5d112.25d990.25d61.5d942d61.5d861d61.5d766.5d124.75d718.5d188d670.5d313.5d670.5d442.5d670.5d442.5d661.5d442.5d598d400.75d563.25d359d528.5d283.5d528.5d235.5d528.5d190d540d144.5d551.5d102.5d574.5d102.5d489.5d153d470d200.5d460.25d248d450.5d293d450.5d414.5d450.5d474.5d513.5d534.5d576.5d534.5d704.5hR2d627.5R3d534.5R4d61.5R5d573.5R6d-14.5R7d512R8d168R9d241.5R10i97R11d61.5R12d627.5R13ai1i3i3i3i3i3i3i2i2i1i2i2i2i3i3i3i3i3i3i2i2i3i3i3i3i2i3i3i3i3hg:40oR0d950.5R1ad317.5d247d250.5d362d218d474.5d185.5d587d185.5d702.5d185.5d818d218.25d931.25d251d1044.5d317.5d1159d237.5d1159d162.5d1041.5d125.25d928d88d814.5d88d702.5d88d591d125d478d162d365d237.5d247d317.5d247hR2d399.5R3d317.5R4d88R5d777R6d-135R7d689R8d168R9d241.5R10i40R11d88R12d399.5R13ai1i3i3i3i3i2i3i3i3i3i2hg:96oR0d950.5R1ad183.5d205d324.5d392d248d392d85d205d183.5d205hR2d512R3d324.5R4d85R5d819R6d632R7d734R8d168R9d241.5R10i96R11d85R12d512R13ai1i2i2i2i2hg:39oR0d950.5R1ad183.5d277.5d183.5d555d98.5d555d98.5d277.5d183.5d277.5hR2d281.5R3d183.5R4d98.5R5d746.5R6d469R7d648R8d168R9d241.5R10i39R11d98.5R12d281.5R13ai1i2i2i2i2hg:95oR0d950.5R1ad522d1194d522d1265.5d-10d1265.5d-10d1194d522d1194hR2d512R3d522R4d-10R5d-170R6d-241.5R7d-160R8d168R9d241.5R10i95R11d-10R12d512R13ai1i2i2i2i2hg:38oR0d950.5R1ad249d622.5d203.5d663d182.25d703.25d161d743.5d161d787.5d161d860.5d214d909d267d957.5d347d957.5d394.5d957.5d436d941.75d477.5d926d514d894d249d622.5d319.5d566.5d573.5d826.5d603d782d619.5d731.25d636d680.5d639d623.5d732d623.5d726d689.5d700d754d674d818.5d627.5d881.5d767d1024d641d1024d569.5d950.5d517.5d995d460.5d1016.75d403.5d1038.5d338d1038.5d217.5d1038.5d141d969.75d64.5d901d64.5d793.5d64.5d729.5d98d673.25d131.5d617d198.5d567.5d174.5d536d162d504.75d149.5d473.5d149.5d443.5d149.5d362.5d205d313.25d260.5d264d352.5d264d394d264d435.25d273d476.5d282d519d300d519d391d475.5d367.5d436d355.25d396.5d343d362.5d343d310d343d277.25d370.75d244.5d398.5d244.5d442.5d244.5d468d259.25d493.75d274d519.5d319.5d566.5hR2d798.5R3d767R4d64.5R5d760R6d-14.5R7d695.5R8d168R9d241.5R10i38R11d64.5R12d798.5R13ai1i3i3i3i3i3i3i2i1i2i3i3i2i3i3i2i2i2i3i3i3i3i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3hg:94oR0d950.5R1ad478d277.5d749.5d556d649d556d429d358.5d209d556d108.5d556d380d277.5d478d277.5hR2d858R3d749.5R4d108.5R5d746.5R6d468R7d638R8d168R9d241.5R10i94R11d108.5R12d858R13ai1i2i2i2i2i2i2i2hg:37oR0d950.5R1ad744.5d695.5d701d695.5d676.25d732.5d651.5d769.5d651.5d835.5d651.5d900.5d676.25d937.75d701d975d744.5d975d787d975d811.75d937.75d836.5d900.5d836.5d835.5d836.5d770d811.75d732.75d787d695.5d744.5d695.5d744.5d632d823.5d632d870d687d916.5d742d916.5d835.5d916.5d929d869.75d983.75d823d1038.5d744.5d1038.5d664.5d1038.5d618d983.75d571.5d929d571.5d835.5d571.5d741.5d618.25d686.75d665d632d744.5d632d228.5d327.5d185.5d327.5d160.75d364.75d136d402d136d467d136d533d160.5d570d185d607d228.5d607d272d607d296.75d570d321.5d533d321.5d467d321.5d402.5d296.5d365d271.5d327.5d228.5d327.5d680d264d760d264d293d1038.5d213d1038.5d680d264d228.5d264d307.5d264d354.5d318.75d401.5d373.5d401.5d467d401.5d561.5d354.75d616d308d670.5d228.5d670.5d149d670.5d102.75d615.75d56.5d561d56.5d467d56.5d374d103d319d149.5d264d228.5d264hR2d973R3d916.5R4d56.5R5d760R6d-14.5R7d703.5R8d168R9d241.5R10i37R11d56.5R12d973R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3i1i2i2i2i2i1i3i3i3i3i3i3i3i3hg:93oR0d950.5R1ad311.5d246d311.5d1159d99.5d1159d99.5d1087.5d219d1087.5d219d317.5d99.5d317.5d99.5d246d311.5d246hR2d399.5R3d311.5R4d99.5R5d778R6d-135R7d678.5R8d168R9d241.5R10i93R11d99.5R12d399.5R13ai1i2i2i2i2i2i2i2i2hg:36oR0d950.5R1ad346d1174.5d296d1174.5d295.5d1024d243d1023d190.5d1011.75d138d1000.5d85d978d85d888d136d920d188.25d936.25d240.5d952.5d296d953d296d725d185.5d707d135.25d664d85d621d85d546d85d464.5d139.5d417.5d194d370.5d296d363.5d296d246d346d246d346d362d392.5d364d436d371.75d479.5d379.5d521d393d521d480.5d479.5d459.5d435.75d448d392d436.5d346d434.5d346d648d459.5d665.5d513d710.5d566.5d755.5d566.5d833.5d566.5d918d509.75d966.75d453d1015.5d346d1023d346d1174.5d296d639d296d434d238d440.5d207.5d467d177d493.5d177d537.5d177d580.5d205.25d604.5d233.5d628.5d296d639d346d735d346d951.5d409.5d943d441.75d915.5d474d888d474d843d474d799d443.25d773d412.5d747d346d735hR2d651.5R3d566.5R4d85R5d778R6d-150.5R7d693R8d168R9d241.5R10i36R11d85R12d651.5R13ai1i2i2i3i3i2i3i3i2i3i3i3i3i2i2i2i3i3i2i3i3i2i3i3i3i3i2i1i2i3i3i3i3i1i2i3i3i3i3hg:92oR0d950.5R1ad85d277.5d345d1119d260d1119d0d277.5d85d277.5hR2d345R3d345R4d0R5d746.5R6d-95R7d746.5R8d168R9d241.5R10i92R11d0R12d345R13ai1i2i2i2i2hg:35oR0d950.5R1ad523.5d573.5d378d573.5d336d740.5d482.5d740.5d523.5d573.5d448.5d289d396.5d496.5d542.5d496.5d595d289d675d289d623.5d496.5d779.5d496.5d779.5d573.5d604d573.5d563d740.5d722d740.5d722d817d543.5d817d491.5d1024d411.5d1024d463d817d316.5d817d265d1024d184.5d1024d236.5d817d79d817d79d740.5d255d740.5d297d573.5d136d573.5d136d496.5d316.5d496.5d367.5d289d448.5d289hR2d858R3d779.5R4d79R5d735R6d0R7d656R8d168R9d241.5R10i35R11d79R12d858R13ai1i2i2i2i2i1i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2i2hg:91oR0d950.5R1ad88d246d300d246d300d317.5d180d317.5d180d1087.5d300d1087.5d300d1159d88d1159d88d246hR2d399.5R3d300R4d88R5d778R6d-135R7d690R8d168R9d241.5R10i91R11d88R12d399.5R13ai1i2i2i2i2i2i2i2i2hg:34oR0d950.5R1ad183.5d277.5d183.5d555d98.5d555d98.5d277.5d183.5d277.5d372.5d277.5d372.5d555d287.5d555d287.5d277.5d372.5d277.5hR2d471R3d372.5R4d98.5R5d746.5R6d469R7d648R8d168R9d241.5R10i34R11d98.5R12d471R13ai1i2i2i2i2i1i2i2i2i2hg:90oR0d950.5R1ad57.5d277.5d644d277.5d644d354.5d172d939d655.5d939d655.5d1024d46d1024d46d947d518d362.5d57.5d362.5d57.5d277.5hR2d701.5R3d655.5R4d46R5d746.5R6d0R7d700.5R8d168R9d241.5R10i90R11d46R12d701.5R13ai1i2i2i2i2i2i2i2i2i2i2hg:33oR0d950.5R1ad154.5d897d256d897d256d1024d154.5d1024d154.5d897d154.5d277.5d256d277.5d256d605d246d783.5d165d783.5d154.5d605d154.5d277.5hR2d410.5R3d256R4d154.5R5d746.5R6d0R7d592R8d168R9d241.5R10i33R11d154.5R12d410.5R13ai1i2i2i2i2i1i2i2i2i2i2i2hg:89oR0d950.5R1ad-2d277.5d106.5d277.5d313.5d584.5d519d277.5d627.5d277.5d363.5d668.5d363.5d1024d262d1024d262d668.5d-2d277.5hR2d625.5R3d627.5R4d-2R5d746.5R6d0R7d748.5R8d168R9d241.5R10i89R11d-2R12d625.5R13ai1i2i2i2i2i2i2i2i2i2hg:32oR0d950.5R1ahR2d325.5R3d0R4d0R5d0R6d0R7d0R8d168R9d241.5R10i32R11d0R12d325.5R13ahg:88oR0d950.5R1ad64.5d277.5d173d277.5d358.5d555d545d277.5d653.5d277.5d413.5d636d669.5d1024d561d1024d351d706.5d139.5d1024d30.5d1024d297d625.5d64.5d277.5hR2d701.5R3d669.5R4d30.5R5d746.5R6d0R7d716R8d168R9d241.5R10i88R11d30.5R12d701.5R13ai1i2i2i2i2i2i2i2i2i2i2i2i2hg:87oR0d950.5R1ad34d277.5d136d277.5d293d908.5d449.5d277.5d563d277.5d720d908.5d876.5d277.5d979d277.5d791.5d1024d664.5d1024d507d376d348d1024d221d1024d34d277.5hR2d1012.5R3d979R4d34R5d746.5R6d0R7d712.5R8d168R9d241.5R10i87R11d34R12d1012.5R13ai1i2i2i2i2i2i2i2i2i2i2i2i2i2hg:86oR0d950.5R1ad293d1024d8d277.5d113.5d277.5d350d906d587d277.5d692d277.5d407.5d1024d293d1024hR2d700.5R3d692R4d8R5d746.5R6d0R7d738.5R8d168R9d241.5R10i86R11d8R12d700.5R13ai1i2i2i2i2i2i2i2hg:85oR0d950.5R1ad89d277.5d190.5d277.5d190.5d731d190.5d851d234d903.75d277.5d956.5d375d956.5d472d956.5d515.5d903.75d559d851d559d731d559d277.5d660.5d277.5d660.5d743.5d660.5d889.5d588.25d964d516d1038.5d375d1038.5d233.5d1038.5d161.25d964d89d889.5d89d743.5d89d277.5hR2d749.5R3d660.5R4d89R5d746.5R6d-14.5R7d657.5R8d168R9d241.5R10i85R11d89R12d749.5R13ai1i2i2i3i3i3i3i2i2i2i3i3i3i3i2hg:84oR0d950.5R1ad-3d277.5d628.5d277.5d628.5d362.5d363.5d362.5d363.5d1024d262d1024d262d362.5d-3d362.5d-3d277.5hR2d625.5R3d628.5R4d-3R5d746.5R6d0R7d749.5R8d168R9d241.5R10i84R11d-3R12d625.5R13ai1i2i2i2i2i2i2i2i2hg:83oR0d950.5R1ad548d302d548d400.5d490.5d373d439.5d359.5d388.5d346d341d346d258.5d346d213.75d378d169d410d169d469d169d518.5d198.75d543.75d228.5d569d311.5d584.5d372.5d597d485.5d618.5d539.25d672.75d593d727d593d818d593d926.5d520.25d982.5d447.5d1038.5d307d1038.5d254d1038.5d194.25d1026.5d134.5d1014.5d70.5d991d70.5d887d132d921.5d191d939d250d956.5d307d956.5d393.5d956.5d440.5d922.5d487.5d888.5d487.5d825.5d487.5d770.5d453.75d739.5d420d708.5d343d693d281.5d681d168.5d658.5d118d610.5d67.5d562.5d67.5d477d67.5d378d137.25d321d207d264d329.5d264d382d264d436.5d273.5d491d283d548d302hR2d650R3d593R4d67.5R5d760R6d-14.5R7d692.5R8d168R9d241.5R10i83R11d67.5R12d650R13ai1i2i3i3i3i3i3i3i2i3i3i3i3i3i3i2i3i3i3i3i3i3i2i3i3i3i3i3i3hg:82oR0d950.5R1ad454.5d674d487d685d517.75d721d548.5d757d579.5d820d682d1024d573.5d1024d478d832.5d441d757.5d406.25d733d371.5d708.5d311.5d708.5d201.5d708.5d201.5d1024d100.5d1024d100.5d277.5d328.5d277.5d456.5d277.5d519.5d331d582.5d384.5d582.5d492.5d582.5d563d549.75d609.5d517d656d454.5d674d201.5d360.5d201.5d625.5d328.5d625.5d401.5d625.5d438.75d591.75d476d558d476d492.5d476d427d438.75d393.75d401.5d360.5d328.5d360.5d201.5d360.5hR2d711.5R3d682R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i82R11d100.5R12d711.5R13ai1i3i3i2i2i2i3i3i2i2i2i2i2i3i3i3i3i1i2i2i3i3i3i3i2hg:81oR0d950.5R1ad403.5d346d293.5d346d228.75d428d164d510d164d651.5d164d792.5d228.75d874.5d293.5d956.5d403.5d956.5d513.5d956.5d577.75d874.5d642d792.5d642d651.5d642d510d577.75d428d513.5d346d403.5d346d545d1010.5d678d1156d556d1156d445.5d1036.5d429d1037.5d420.25d1038d411.5d1038.5d403.5d1038.5d246d1038.5d151.75d933.25d57.5d828d57.5d651.5d57.5d474.5d151.75d369.25d246d264d403.5d264d560.5d264d654.5d369.25d748.5d474.5d748.5d651.5d748.5d781.5d696.25d874d644d966.5d545d1010.5hR2d806R3d748.5R4d57.5R5d760R6d-132R7d702.5R8d168R9d241.5R10i81R11d57.5R12d806R13ai1i3i3i3i3i3i3i3i3i1i2i2i2i3i3i3i3i3i3i3i3i3i3hg:80oR0d950.5R1ad201.5d360.5d201.5d641d328.5d641d399d641d437.5d604.5d476d568d476d500.5d476d433.5d437.5d397d399d360.5d328.5d360.5d201.5d360.5d100.5d277.5d328.5d277.5d454d277.5d518.25d334.25d582.5d391d582.5d500.5d582.5d611d518.25d667.5d454d724d328.5d724d201.5d724d201.5d1024d100.5d1024d100.5d277.5hR2d617.5R3d582.5R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i80R11d100.5R12d617.5R13ai1i2i2i3i3i3i3i2i1i2i3i3i3i3i2i2i2i2hg:79oR0d950.5R1ad403.5d346d293.5d346d228.75d428d164d510d164d651.5d164d792.5d228.75d874.5d293.5d956.5d403.5d956.5d513.5d956.5d577.75d874.5d642d792.5d642d651.5d642d510d577.75d428d513.5d346d403.5d346d403.5d264d560.5d264d654.5d369.25d748.5d474.5d748.5d651.5d748.5d828d654.5d933.25d560.5d1038.5d403.5d1038.5d246d1038.5d151.75d933.5d57.5d828.5d57.5d651.5d57.5d474.5d151.75d369.25d246d264d403.5d264hR2d806R3d748.5R4d57.5R5d760R6d-14.5R7d702.5R8d168R9d241.5R10i79R11d57.5R12d806R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3hg:78oR0d950.5R1ad100.5d277.5d236.5d277.5d567.5d902d567.5d277.5d665.5d277.5d665.5d1024d529.5d1024d198.5d399.5d198.5d1024d100.5d1024d100.5d277.5hR2d766R3d665.5R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i78R11d100.5R12d766R13ai1i2i2i2i2i2i2i2i2i2i2hg:77oR0d950.5R1ad100.5d277.5d251d277.5d441.5d785.5d633d277.5d783.5d277.5d783.5d1024d685d1024d685d368.5d492.5d880.5d391d880.5d198.5d368.5d198.5d1024d100.5d1024d100.5d277.5hR2d883.5R3d783.5R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i77R11d100.5R12d883.5R13ai1i2i2i2i2i2i2i2i2i2i2i2i2i2hg:76oR0d950.5R1ad100.5d277.5d201.5d277.5d201.5d939d565d939d565d1024d100.5d1024d100.5d277.5hR2d570.5R3d565R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i76R11d100.5R12d570.5R13ai1i2i2i2i2i2i2hg:75oR0d950.5R1ad100.5d277.5d201.5d277.5d201.5d593d536.5d277.5d666.5d277.5d296d625.5d693d1024d560d1024d201.5d664.5d201.5d1024d100.5d1024d100.5d277.5hR2d671.5R3d693R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i75R11d100.5R12d671.5R13ai1i2i2i2i2i2i2i2i2i2i2i2hg:74oR0d950.5R1ad100.5d277.5d201.5d277.5d201.5d972d201.5d1107d150.25d1168d99d1229d-14.5d1229d-53d1229d-53d1144d-21.5d1144d45.5d1144d73d1106.5d100.5d1069d100.5d972d100.5d277.5hR2d302R3d201.5R4d-53R5d746.5R6d-205R7d799.5R8d168R9d241.5R10i74R11d-53R12d302R13ai1i2i2i3i3i2i2i2i3i3i2hg:73oR0d950.5R1ad100.5d277.5d201.5d277.5d201.5d1024d100.5d1024d100.5d277.5hR2d302R3d201.5R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i73R11d100.5R12d302R13ai1i2i2i2i2hg:72oR0d950.5R1ad100.5d277.5d201.5d277.5d201.5d583.5d568.5d583.5d568.5d277.5d669.5d277.5d669.5d1024d568.5d1024d568.5d668.5d201.5d668.5d201.5d1024d100.5d1024d100.5d277.5hR2d770R3d669.5R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i72R11d100.5R12d770R13ai1i2i2i2i2i2i2i2i2i2i2i2i2hg:71oR0d950.5R1ad609.5d917.5d609.5d717d444.5d717d444.5d634d709.5d634d709.5d954.5d651d996d580.5d1017.25d510d1038.5d430d1038.5d255d1038.5d156.25d936.25d57.5d834d57.5d651.5d57.5d468.5d156.25d366.25d255d264d430d264d503d264d568.75d282d634.5d300d690d335d690d442.5d634d395d571d371d508d347d438.5d347d301.5d347d232.75d423.5d164d500d164d651.5d164d802.5d232.75d879d301.5d955.5d438.5d955.5d492d955.5d534d946.25d576d937d609.5d917.5hR2d793.5R3d709.5R4d57.5R5d760R6d-14.5R7d702.5R8d168R9d241.5R10i71R11d57.5R12d793.5R13ai1i2i2i2i2i2i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3i3i3hg:70oR0d950.5R1ad100.5d277.5d529.5d277.5d529.5d362.5d201.5d362.5d201.5d582.5d497.5d582.5d497.5d667.5d201.5d667.5d201.5d1024d100.5d1024d100.5d277.5hR2d589R3d529.5R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i70R11d100.5R12d589R13ai1i2i2i2i2i2i2i2i2i2i2hg:126oR0d950.5R1ad749.5d615.5d749.5d704.5d697d744d652.25d761d607.5d778d559d778d504d778d431d748.5d425.5d746.5d423d745.5d419.5d744d412d741.5d334.5d710.5d287.5d710.5d243.5d710.5d200.5d729.75d157.5d749d108.5d790.5d108.5d701.5d161d662d205.75d644.75d250.5d627.5d299d627.5d354d627.5d427.5d657.5d432.5d659.5d435d660.5d439d662d446d664.5d523.5d695.5d570.5d695.5d613.5d695.5d655.75d676.5d698d657.5d749.5d615.5hR2d858R3d749.5R4d108.5R5d408.5R6d233.5R7d300R8d168R9d241.5R10i126R11d108.5R12d858R13ai1i2i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3i3i3hg:69oR0d950.5R1ad100.5d277.5d572.5d277.5d572.5d362.5d201.5d362.5d201.5d583.5d557d583.5d557d668.5d201.5d668.5d201.5d939d581.5d939d581.5d1024d100.5d1024d100.5d277.5hR2d647R3d581.5R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i69R11d100.5R12d647R13ai1i2i2i2i2i2i2i2i2i2i2i2i2hg:125oR0d950.5R1ad128d1119d163d1119d233d1119d254.25d1097.5d275.5d1076d275.5d1004.5d275.5d880.5d275.5d802.5d298d767d320.5d731.5d376d718d320.5d705.5d298d670d275.5d634.5d275.5d556d275.5d432d275.5d361d254.25d339.25d233d317.5d163d317.5d128d317.5d128d246d159.5d246d284d246d325.75d282.75d367.5d319.5d367.5d430d367.5d550d367.5d624.5d394.5d653.25d421.5d682d492.5d682d523.5d682d523.5d753.5d492.5d753.5d421.5d753.5d394.5d782.5d367.5d811.5d367.5d887d367.5d1006.5d367.5d1117d325.75d1154d284d1191d159.5d1191d128d1191d128d1119hR2d651.5R3d523.5R4d128R5d778R6d-167R7d650R8d168R9d241.5R10i125R11d128R12d651.5R13ai1i2i3i3i2i3i3i3i3i2i3i3i2i2i2i3i3i2i3i3i2i2i2i3i3i2i3i3i2i2hg:68oR0d950.5R1ad201.5d360.5d201.5d941d323.5d941d478d941d549.75d871d621.5d801d621.5d650d621.5d500d549.75d430.25d478d360.5d323.5d360.5d201.5d360.5d100.5d277.5d308d277.5d525d277.5d626.5d367.75d728d458d728d650d728d843d626d933.5d524d1024d308d1024d100.5d1024d100.5d277.5hR2d788.5R3d728R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i68R11d100.5R12d788.5R13ai1i2i2i3i3i3i3i2i1i2i3i3i3i3i2i2hg:124oR0d950.5R1ad215d241.5d215d1265.5d130d1265.5d130d241.5d215d241.5hR2d345R3d215R4d130R5d782.5R6d-241.5R7d652.5R8d168R9d241.5R10i124R11d130R12d345R13ai1i2i2i2i2hg:67oR0d950.5R1ad659.5d335d659.5d441.5d608.5d394d550.75d370.5d493d347d428d347d300d347d232d425.25d164d503.5d164d651.5d164d799d232d877.25d300d955.5d428d955.5d493d955.5d550.75d932d608.5d908.5d659.5d861d659.5d966.5d606.5d1002.5d547.25d1020.5d488d1038.5d422d1038.5d252.5d1038.5d155d934.75d57.5d831d57.5d651.5d57.5d471.5d155d367.75d252.5d264d422d264d489d264d548.25d281.75d607.5d299.5d659.5d335hR2d715R3d659.5R4d57.5R5d760R6d-14.5R7d702.5R8d168R9d241.5R10i67R11d57.5R12d715R13ai1i2i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3i3i3hg:123oR0d950.5R1ad523.5d1119d523.5d1191d492.5d1191d368d1191d325.75d1154d283.5d1117d283.5d1006.5d283.5d887d283.5d811.5d256.5d782.5d229.5d753.5d158.5d753.5d128d753.5d128d682d158.5d682d230d682d256.75d653.25d283.5d624.5d283.5d550d283.5d430d283.5d319.5d325.75d282.75d368d246d492.5d246d523.5d246d523.5d317.5d489.5d317.5d419d317.5d397.5d339.5d376d361.5d376d432d376d556d376d634.5d353.25d670d330.5d705.5d275.5d718d331d731.5d353.5d767d376d802.5d376d880.5d376d1004.5d376d1075d397.5d1097d419d1119d489.5d1119d523.5d1119hR2d651.5R3d523.5R4d128R5d778R6d-167R7d650R8d168R9d241.5R10i123R11d128R12d651.5R13ai1i2i2i3i3i2i3i3i2i2i2i3i3i2i3i3i2i2i2i3i3i2i3i3i3i3i2i3i3i2hg:66oR0d950.5R1ad201.5d667.5d201.5d941d363.5d941d445d941d484.25d907.25d523.5d873.5d523.5d804d523.5d734d484.25d700.75d445d667.5d363.5d667.5d201.5d667.5d201.5d360.5d201.5d585.5d351d585.5d425d585.5d461.25d557.75d497.5d530d497.5d473d497.5d416.5d461.25d388.5d425d360.5d351d360.5d201.5d360.5d100.5d277.5d358.5d277.5d474d277.5d536.5d325.5d599d373.5d599d462d599d530.5d567d571d535d611.5d473d621.5d547.5d637.5d588.75d688.25d630d739d630d815d630d915d562d969.5d494d1024d368.5d1024d100.5d1024d100.5d277.5hR2d702.5R3d630R4d100.5R5d746.5R6d0R7d646R8d168R9d241.5R10i66R11d100.5R12d702.5R13ai1i2i2i3i3i3i3i2i1i2i2i3i3i3i3i2i1i2i3i3i3i3i3i3i3i3i2i2hg:122oR0d950.5R1ad56.5d464d493.5d464d493.5d548d147.5d950.5d493.5d950.5d493.5d1024d44d1024d44d940d390d537.5d56.5d537.5d56.5d464hR2d537.5R3d493.5R4d44R5d560R6d0R7d516R8d168R9d241.5R10i122R11d44R12d537.5R13ai1i2i2i2i2i2i2i2i2i2i2hg:65oR0d950.5R1ad350d377d213d748.5d487.5d748.5d350d377d293d277.5d407.5d277.5d692d1024d587d1024d519d832.5d182.5d832.5d114.5d1024d8d1024d293d277.5hR2d700.5R3d692R4d8R5d746.5R6d0R7d738.5R8d168R9d241.5R10i65R11d8R12d700.5R13ai1i2i2i2i1i2i2i2i2i2i2i2i2hg:121oR0d950.5R1ad329.5d1076d290.5d1176d253.5d1206.5d216.5d1237d154.5d1237d81d1237d81d1160d135d1160d173d1160d194d1142d215d1124d240.5d1057d257d1015d30.5d464d128d464d303d902d478d464d575.5d464d329.5d1076hR2d606R3d575.5R4d30.5R5d560R6d-213R7d529.5R8d168R9d241.5R10i121R11d30.5R12d606R13ai1i3i3i2i2i2i3i3i2i2i2i2i2i2i2hg:64oR0d950.5R1ad381d755.5d381d827d416.5d867.75d452d908.5d514d908.5d575.5d908.5d610.75d867.5d646d826.5d646d755.5d646d685.5d610d644.25d574d603d513d603d452.5d603d416.75d644d381d685d381d755.5d653.5d905d623.5d943.5d584.75d961.75d546d980d494.5d980d408.5d980d354.75d917.75d301d855.5d301d755.5d301d655.5d355d593d409d530.5d494.5d530.5d546d530.5d585d549.25d624d568d653.5d606d653.5d540.5d725d540.5d725d908.5d798d897.5d839.25d841.75d880.5d786d880.5d697.5d880.5d644d864.75d597d849d550d817d510d765d444.5d690.25d409.75d615.5d375d527.5d375d466d375d409.5d391.25d353d407.5d305d439.5d226.5d490.5d182.25d573.25d138d656d138d752.5d138d832d166.75d901.5d195.5d971d250d1024d302.5d1076d371.5d1103.25d440.5d1130.5d519d1130.5d583.5d1130.5d645.75d1108.75d708d1087d760d1046.5d805d1102d742.5d1150.5d668.75d1176.25d595d1202d519d1202d426.5d1202d344.5d1169.25d262.5d1136.5d198.5d1074d134.5d1011.5d101d929.25d67.5d847d67.5d752.5d67.5d661.5d101.5d579d135.5d496.5d198.5d434d263d370.5d347.5d336.75d432d303d526.5d303d632.5d303d723.25d346.5d814d390d875.5d470d913d519d932.75d576.5d952.5d634d952.5d695.5d952.5d827d873d903d793.5d979d653.5d982d653.5d905hR2d1024R3d952.5R4d67.5R5d721R6d-178R7d653.5R8d168R9d241.5R10i64R11d67.5R12d1024R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3i2i2i2i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i2i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i2hg:120oR0d950.5R1ad562d464d359.5d736.5d572.5d1024d464d1024d301d804d138d1024d29.5d1024d247d731d48d464d156.5d464d305d663.5d453.5d464d562d464hR2d606R3d572.5R4d29.5R5d560R6d0R7d530.5R8d168R9d241.5R10i120R11d29.5R12d606R13ai1i2i2i2i2i2i2i2i2i2i2i2i2hg:63oR0d950.5R1ad195.5d897d297d897d297d1024d195.5d1024d195.5d897d294d823.5d198.5d823.5d198.5d746.5d198.5d696d212.5d663.5d226.5d631d271.5d588d316.5d543.5d345d517d357.75d493.5d370.5d470d370.5d445.5d370.5d401d337.75d373.5d305d346d251d346d211.5d346d166.75d363.5d122d381d73.5d414.5d73.5d320.5d120.5d292d168.75d278d217d264d268.5d264d360.5d264d416.25d312.5d472d361d472d440.5d472d478.5d454d512.75d436d547d391d590d347d633d323.5d656.5d313.75d669.75d304d683d300d695.5d297d706d295.5d721d294d736d294d762d294d823.5hR2d543.5R3d472R4d73.5R5d760R6d0R7d686.5R8d168R9d241.5R10i63R11d73.5R12d543.5R13ai1i2i2i2i2i1i2i2i3i3i2i3i3i3i3i3i3i2i3i3i3i3i3i3i2i3i3i3i3i2hg:119oR0d950.5R1ad43d464d135d464d250d901d364.5d464d473d464d588d901d702.5d464d794.5d464d648d1024d539.5d1024d419d565d298d1024d189.5d1024d43d464hR2d837.5R3d794.5R4d43R5d560R6d0R7d517R8d168R9d241.5R10i119R11d43R12d837.5R13ai1i2i2i2i2i2i2i2i2i2i2i2i2i2hg:62oR0d950.5R1ad108.5d520d108.5d429d749.5d661.5d749.5d744.5d108.5d977d108.5d886d623.5d703.5d108.5d520hR2d858R3d749.5R4d108.5R5d595R6d47R7d486.5R8d168R9d241.5R10i62R11d108.5R12d858R13ai1i2i2i2i2i2i2i2hg:118oR0d950.5R1ad30.5d464d128d464d303d934d478d464d575.5d464d365.5d1024d240.5d1024d30.5d464hR2d606R3d575.5R4d30.5R5d560R6d0R7d529.5R8d168R9d241.5R10i118R11d30.5R12d606R13ai1i2i2i2i2i2i2i2hg:61oR0d950.5R1ad108.5d559d749.5d559d749.5d643d108.5d643d108.5d559d108.5d763d749.5d763d749.5d848d108.5d848d108.5d763hR2d858R3d749.5R4d108.5R5d465R6d176R7d356.5R8d168R9d241.5R10i61R11d108.5R12d858R13ai1i2i2i2i2i1i2i2i2i2hg:117oR0d950.5R1ad87d803d87d464d179d464d179d799.5d179d879d210d918.75d241d958.5d303d958.5d377.5d958.5d420.75d911d464d863.5d464d781.5d464d464d556d464d556d1024d464d1024d464d938d430.5d989d386.25d1013.75d342d1038.5d283.5d1038.5d187d1038.5d137d978.5d87d918.5d87d803hR2d649R3d556R4d87R5d560R6d-14.5R7d473R8d168R9d241.5R10i117R11d87R12d649R13ai1i2i2i2i3i3i3i3i2i2i2i2i2i3i3i3i3hg:60oR0d950.5R1ad749.5d520d233.5d703.5d749.5d886d749.5d977d108.5d744.5d108.5d661.5d749.5d429d749.5d520hR2d858R3d749.5R4d108.5R5d595R6d47R7d486.5R8d168R9d241.5R10i60R11d108.5R12d858R13ai1i2i2i2i2i2i2i2hg:116oR0d950.5R1ad187.5d305d187.5d464d377d464d377d535.5d187.5d535.5d187.5d839.5d187.5d908d206.25d927.5d225d947d282.5d947d377d947d377d1024d282.5d1024d176d1024d135.5d984.25d95d944.5d95d839.5d95d535.5d27.5d535.5d27.5d464d95d464d95d305d187.5d305hR2d401.5R3d377R4d27.5R5d719R6d0R7d691.5R8d168R9d241.5R10i116R11d27.5R12d401.5R13ai1i2i2i2i2i2i3i3i2i2i2i3i3i2i2i2i2i2i2hg:59oR0d950.5R1ad120d494.5d225.5d494.5d225.5d621.5d120d621.5d120d494.5d120d897d225.5d897d225.5d983d143.5d1143d79d1143d120d983d120d897hR2d345R3d225.5R4d79R5d529.5R6d-119R7d450.5R8d168R9d241.5R10i59R11d79R12d345R13ai1i2i2i2i2i1i2i2i2i2i2i2hg:115oR0d950.5R1ad453.5d480.5d453.5d567.5d414.5d547.5d372.5d537.5d330.5d527.5d285.5d527.5d217d527.5d182.75d548.5d148.5d569.5d148.5d611.5d148.5d643.5d173d661.75d197.5d680d271.5d696.5d303d703.5d401d724.5d442.25d762.75d483.5d801d483.5d869.5d483.5d947.5d421.75d993d360d1038.5d252d1038.5d207d1038.5d158.25d1029.75d109.5d1021d55.5d1003.5d55.5d908.5d106.5d935d156d948.25d205.5d961.5d254d961.5d319d961.5d354d939.25d389d917d389d876.5d389d839d363.75d819d338.5d799d253d780.5d221d773d135.5d755d97.5d717.75d59.5d680.5d59.5d615.5d59.5d536.5d115.5d493.5d171.5d450.5d274.5d450.5d325.5d450.5d370.5d458d415.5d465.5d453.5d480.5hR2d533.5R3d483.5R4d55.5R5d573.5R6d-14.5R7d518R8d168R9d241.5R10i115R11d55.5R12d533.5R13ai1i2i3i3i3i3i3i3i2i3i3i3i3i3i3i2i3i3i3i3i3i3i2i3i3i3i3i3i3hg:58oR0d950.5R1ad120d897d225.5d897d225.5d1024d120d1024d120d897d120d494.5d225.5d494.5d225.5d621.5d120d621.5d120d494.5hR2d345R3d225.5R4d120R5d529.5R6d0R7d409.5R8d168R9d241.5R10i58R11d120R12d345R13ai1i2i2i2i2i1i2i2i2i2hg:114oR0d950.5R1ad421d550d405.5d541d387.25d536.75d369d532.5d347d532.5d269d532.5d227.25d583.25d185.5d634d185.5d729d185.5d1024d93d1024d93d464d185.5d464d185.5d551d214.5d500d261d475.25d307.5d450.5d374d450.5d383.5d450.5d395d451.75d406.5d453d420.5d455.5d421d550hR2d421R3d421R4d93R5d573.5R6d0R7d480.5R8d168R9d241.5R10i114R11d93R12d421R13ai1i3i3i3i3i2i2i2i2i2i3i3i3i3i2hg:57oR0d950.5R1ad112.5d1008.5d112.5d916.5d150.5d934.5d189.5d944d228.5d953.5d266d953.5d366d953.5d418.75d886.25d471.5d819d479d682d450d725d405.5d748d361d771d307d771d195d771d129.75d703.25d64.5d635.5d64.5d518d64.5d403d132.5d333.5d200.5d264d313.5d264d443d264d511.25d363.25d579.5d462.5d579.5d651.5d579.5d828d495.75d933.25d412d1038.5d270.5d1038.5d232.5d1038.5d193.5d1031d154.5d1023.5d112.5d1008.5d313.5d692d381.5d692d421.25d645.5d461d599d461d518d461d437.5d421.25d390.75d381.5d344d313.5d344d245.5d344d205.75d390.75d166d437.5d166d518d166d599d205.75d645.5d245.5d692d313.5d692hR2d651.5R3d579.5R4d64.5R5d760R6d-14.5R7d695.5R8d168R9d241.5R10i57R11d64.5R12d651.5R13ai1i2i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3hg:113oR0d950.5R1ad151.5d744.5d151.5d846d193.25d903.75d235d961.5d308d961.5d381d961.5d423d903.75d465d846d465d744.5d465d643d423d585.25d381d527.5d308d527.5d235d527.5d193.25d585.25d151.5d643d151.5d744.5d465d940d436d990d391.75d1014.25d347.5d1038.5d285.5d1038.5d184d1038.5d120.25d957.5d56.5d876.5d56.5d744.5d56.5d612.5d120.25d531.5d184d450.5d285.5d450.5d347.5d450.5d391.75d474.75d436d499d465d549d465d464d557d464d557d1237d465d1237d465d940hR2d650R3d557R4d56.5R5d573.5R6d-213R7d517R8d168R9d241.5R10i113R11d56.5R12d650R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3i2i2i2i2i2hg:56oR0d950.5R1ad325.5d669.5d253.5d669.5d212.25d708d171d746.5d171d814d171d881.5d212.25d920d253.5d958.5d325.5d958.5d397.5d958.5d439d919.75d480.5d881d480.5d814d480.5d746.5d439.25d708d398d669.5d325.5d669.5d224.5d626.5d159.5d610.5d123.25d566d87d521.5d87d457.5d87d368d150.75d316d214.5d264d325.5d264d437d264d500.5d316d564d368d564d457.5d564d521.5d527.75d566d491.5d610.5d427d626.5d500d643.5d540.75d693d581.5d742.5d581.5d814d581.5d922.5d515.25d980.5d449d1038.5d325.5d1038.5d202d1038.5d135.75d980.5d69.5d922.5d69.5d814d69.5d742.5d110.5d693d151.5d643.5d224.5d626.5d187.5d467d187.5d525d223.75d557.5d260d590d325.5d590d390.5d590d427.25d557.5d464d525d464d467d464d409d427.25d376.5d390.5d344d325.5d344d260d344d223.75d376.5d187.5d409d187.5d467hR2d651.5R3d581.5R4d69.5R5d760R6d-14.5R7d690.5R8d168R9d241.5R10i56R11d69.5R12d651.5R13ai1i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3hg:112oR0d950.5R1ad185.5d940d185.5d1237d93d1237d93d464d185.5d464d185.5d549d214.5d499d258.75d474.75d303d450.5d364.5d450.5d466.5d450.5d530.25d531.5d594d612.5d594d744.5d594d876.5d530.25d957.5d466.5d1038.5d364.5d1038.5d303d1038.5d258.75d1014.25d214.5d990d185.5d940d498.5d744.5d498.5d643d456.75d585.25d415d527.5d342d527.5d269d527.5d227.25d585.25d185.5d643d185.5d744.5d185.5d846d227.25d903.75d269d961.5d342d961.5d415d961.5d456.75d903.75d498.5d846d498.5d744.5hR2d650R3d594R4d93R5d573.5R6d-213R7d480.5R8d168R9d241.5R10i112R11d93R12d650R13ai1i2i2i2i2i2i3i3i3i3i3i3i3i3i1i3i3i3i3i3i3i3i3hgh";
d.text.TextField.mDefaultFont="Bitstream_Vera_Sans";d.text.TextField.sSelectionOwner=null;d.text.FontInstance.mSolidFonts=new F;d.text.TextFieldAutoSize.CENTER="CENTER";d.text.TextFieldAutoSize.LEFT="LEFT";d.text.TextFieldAutoSize.NONE="NONE";d.text.TextFieldAutoSize.RIGHT="RIGHT";d.text.TextFieldType.DYNAMIC="DYNAMIC";d.text.TextFieldType.INPUT="INPUT";d.ui.Keyboard.NUMBER_0=48;d.ui.Keyboard.NUMBER_1=49;d.ui.Keyboard.NUMBER_2=50;d.ui.Keyboard.NUMBER_3=51;d.ui.Keyboard.NUMBER_4=52;d.ui.Keyboard.NUMBER_5=
53;d.ui.Keyboard.NUMBER_6=54;d.ui.Keyboard.NUMBER_7=55;d.ui.Keyboard.NUMBER_8=56;d.ui.Keyboard.NUMBER_9=57;d.ui.Keyboard.KEY_0=48;d.ui.Keyboard.KEY_1=49;d.ui.Keyboard.KEY_2=50;d.ui.Keyboard.KEY_3=51;d.ui.Keyboard.KEY_4=52;d.ui.Keyboard.KEY_5=53;d.ui.Keyboard.KEY_6=54;d.ui.Keyboard.KEY_7=55;d.ui.Keyboard.KEY_8=56;d.ui.Keyboard.KEY_9=57;d.ui.Keyboard.A=65;d.ui.Keyboard.B=66;d.ui.Keyboard.C=67;d.ui.Keyboard.D=68;d.ui.Keyboard.E=69;d.ui.Keyboard.F=70;d.ui.Keyboard.G=71;d.ui.Keyboard.H=72;d.ui.Keyboard.I=
73;d.ui.Keyboard.J=74;d.ui.Keyboard.K=75;d.ui.Keyboard.L=76;d.ui.Keyboard.M=77;d.ui.Keyboard.N=78;d.ui.Keyboard.O=79;d.ui.Keyboard.P=80;d.ui.Keyboard.Q=81;d.ui.Keyboard.R=82;d.ui.Keyboard.S=83;d.ui.Keyboard.T=84;d.ui.Keyboard.U=85;d.ui.Keyboard.V=86;d.ui.Keyboard.W=87;d.ui.Keyboard.X=88;d.ui.Keyboard.Y=89;d.ui.Keyboard.Z=90;d.ui.Keyboard.NUMPAD_0=96;d.ui.Keyboard.NUMPAD_1=97;d.ui.Keyboard.NUMPAD_2=98;d.ui.Keyboard.NUMPAD_3=99;d.ui.Keyboard.NUMPAD_4=100;d.ui.Keyboard.NUMPAD_5=101;d.ui.Keyboard.NUMPAD_6=
102;d.ui.Keyboard.NUMPAD_7=103;d.ui.Keyboard.NUMPAD_8=104;d.ui.Keyboard.NUMPAD_9=105;d.ui.Keyboard.NUMPAD_MULTIPLY=106;d.ui.Keyboard.NUMPAD_ADD=107;d.ui.Keyboard.NUMPAD_ENTER=108;d.ui.Keyboard.NUMPAD_SUBTRACT=109;d.ui.Keyboard.NUMPAD_DECIMAL=110;d.ui.Keyboard.NUMPAD_DIVIDE=111;d.ui.Keyboard.F1=112;d.ui.Keyboard.F2=113;d.ui.Keyboard.F3=114;d.ui.Keyboard.F4=115;d.ui.Keyboard.F5=116;d.ui.Keyboard.F6=117;d.ui.Keyboard.F7=118;d.ui.Keyboard.F8=119;d.ui.Keyboard.F9=120;d.ui.Keyboard.F10=121;d.ui.Keyboard.F11=
122;d.ui.Keyboard.F12=123;d.ui.Keyboard.F13=124;d.ui.Keyboard.F14=125;d.ui.Keyboard.F15=126;d.ui.Keyboard.BACKSPACE=8;d.ui.Keyboard.TAB=9;d.ui.Keyboard.ENTER=13;d.ui.Keyboard.SHIFT=16;d.ui.Keyboard.CONTROL=17;d.ui.Keyboard.CAPS_LOCK=18;d.ui.Keyboard.ESCAPE=27;d.ui.Keyboard.SPACE=32;d.ui.Keyboard.PAGE_UP=33;d.ui.Keyboard.PAGE_DOWN=34;d.ui.Keyboard.END=35;d.ui.Keyboard.HOME=36;d.ui.Keyboard.LEFT=37;d.ui.Keyboard.RIGHT=39;d.ui.Keyboard.UP=38;d.ui.Keyboard.DOWN=40;d.ui.Keyboard.INSERT=45;d.ui.Keyboard.DELETE=
46;d.ui.Keyboard.NUMLOCK=144;d.ui.Keyboard.BREAK=19;d.ui.Keyboard.DOM_VK_CANCEL=3;d.ui.Keyboard.DOM_VK_HELP=6;d.ui.Keyboard.DOM_VK_BACK_SPACE=8;d.ui.Keyboard.DOM_VK_TAB=9;d.ui.Keyboard.DOM_VK_CLEAR=12;d.ui.Keyboard.DOM_VK_RETURN=13;d.ui.Keyboard.DOM_VK_ENTER=14;d.ui.Keyboard.DOM_VK_SHIFT=16;d.ui.Keyboard.DOM_VK_CONTROL=17;d.ui.Keyboard.DOM_VK_ALT=18;d.ui.Keyboard.DOM_VK_PAUSE=19;d.ui.Keyboard.DOM_VK_CAPS_LOCK=20;d.ui.Keyboard.DOM_VK_ESCAPE=27;d.ui.Keyboard.DOM_VK_SPACE=32;d.ui.Keyboard.DOM_VK_PAGE_UP=
33;d.ui.Keyboard.DOM_VK_PAGE_DOWN=34;d.ui.Keyboard.DOM_VK_END=35;d.ui.Keyboard.DOM_VK_HOME=36;d.ui.Keyboard.DOM_VK_LEFT=37;d.ui.Keyboard.DOM_VK_UP=38;d.ui.Keyboard.DOM_VK_RIGHT=39;d.ui.Keyboard.DOM_VK_DOWN=40;d.ui.Keyboard.DOM_VK_PRINTSCREEN=44;d.ui.Keyboard.DOM_VK_INSERT=45;d.ui.Keyboard.DOM_VK_DELETE=46;d.ui.Keyboard.DOM_VK_0=48;d.ui.Keyboard.DOM_VK_1=49;d.ui.Keyboard.DOM_VK_2=50;d.ui.Keyboard.DOM_VK_3=51;d.ui.Keyboard.DOM_VK_4=52;d.ui.Keyboard.DOM_VK_5=53;d.ui.Keyboard.DOM_VK_6=54;d.ui.Keyboard.DOM_VK_7=
55;d.ui.Keyboard.DOM_VK_8=56;d.ui.Keyboard.DOM_VK_9=57;d.ui.Keyboard.DOM_VK_SEMICOLON=59;d.ui.Keyboard.DOM_VK_EQUALS=61;d.ui.Keyboard.DOM_VK_A=65;d.ui.Keyboard.DOM_VK_B=66;d.ui.Keyboard.DOM_VK_C=67;d.ui.Keyboard.DOM_VK_D=68;d.ui.Keyboard.DOM_VK_E=69;d.ui.Keyboard.DOM_VK_F=70;d.ui.Keyboard.DOM_VK_G=71;d.ui.Keyboard.DOM_VK_H=72;d.ui.Keyboard.DOM_VK_I=73;d.ui.Keyboard.DOM_VK_J=74;d.ui.Keyboard.DOM_VK_K=75;d.ui.Keyboard.DOM_VK_L=76;d.ui.Keyboard.DOM_VK_M=77;d.ui.Keyboard.DOM_VK_N=78;d.ui.Keyboard.DOM_VK_O=
79;d.ui.Keyboard.DOM_VK_P=80;d.ui.Keyboard.DOM_VK_Q=81;d.ui.Keyboard.DOM_VK_R=82;d.ui.Keyboard.DOM_VK_S=83;d.ui.Keyboard.DOM_VK_T=84;d.ui.Keyboard.DOM_VK_U=85;d.ui.Keyboard.DOM_VK_V=86;d.ui.Keyboard.DOM_VK_W=87;d.ui.Keyboard.DOM_VK_X=88;d.ui.Keyboard.DOM_VK_Y=89;d.ui.Keyboard.DOM_VK_Z=90;d.ui.Keyboard.DOM_VK_CONTEXT_MENU=93;d.ui.Keyboard.DOM_VK_NUMPAD0=96;d.ui.Keyboard.DOM_VK_NUMPAD1=97;d.ui.Keyboard.DOM_VK_NUMPAD2=98;d.ui.Keyboard.DOM_VK_NUMPAD3=99;d.ui.Keyboard.DOM_VK_NUMPAD4=100;d.ui.Keyboard.DOM_VK_NUMPAD5=
101;d.ui.Keyboard.DOM_VK_NUMPAD6=102;d.ui.Keyboard.DOM_VK_NUMPAD7=103;d.ui.Keyboard.DOM_VK_NUMPAD8=104;d.ui.Keyboard.DOM_VK_NUMPAD9=105;d.ui.Keyboard.DOM_VK_MULTIPLY=106;d.ui.Keyboard.DOM_VK_ADD=107;d.ui.Keyboard.DOM_VK_SEPARATOR=108;d.ui.Keyboard.DOM_VK_SUBTRACT=109;d.ui.Keyboard.DOM_VK_DECIMAL=110;d.ui.Keyboard.DOM_VK_DIVIDE=111;d.ui.Keyboard.DOM_VK_F1=112;d.ui.Keyboard.DOM_VK_F2=113;d.ui.Keyboard.DOM_VK_F3=114;d.ui.Keyboard.DOM_VK_F4=115;d.ui.Keyboard.DOM_VK_F5=116;d.ui.Keyboard.DOM_VK_F6=117;
d.ui.Keyboard.DOM_VK_F7=118;d.ui.Keyboard.DOM_VK_F8=119;d.ui.Keyboard.DOM_VK_F9=120;d.ui.Keyboard.DOM_VK_F10=121;d.ui.Keyboard.DOM_VK_F11=122;d.ui.Keyboard.DOM_VK_F12=123;d.ui.Keyboard.DOM_VK_F13=124;d.ui.Keyboard.DOM_VK_F14=125;d.ui.Keyboard.DOM_VK_F15=126;d.ui.Keyboard.DOM_VK_F16=127;d.ui.Keyboard.DOM_VK_F17=128;d.ui.Keyboard.DOM_VK_F18=129;d.ui.Keyboard.DOM_VK_F19=130;d.ui.Keyboard.DOM_VK_F20=131;d.ui.Keyboard.DOM_VK_F21=132;d.ui.Keyboard.DOM_VK_F22=133;d.ui.Keyboard.DOM_VK_F23=134;d.ui.Keyboard.DOM_VK_F24=
135;d.ui.Keyboard.DOM_VK_NUM_LOCK=144;d.ui.Keyboard.DOM_VK_SCROLL_LOCK=145;d.ui.Keyboard.DOM_VK_COMMA=188;d.ui.Keyboard.DOM_VK_PERIOD=190;d.ui.Keyboard.DOM_VK_SLASH=191;d.ui.Keyboard.DOM_VK_BACK_QUOTE=192;d.ui.Keyboard.DOM_VK_OPEN_BRACKET=219;d.ui.Keyboard.DOM_VK_BACK_SLASH=220;d.ui.Keyboard.DOM_VK_CLOSE_BRACKET=221;d.ui.Keyboard.DOM_VK_QUOTE=222;d.ui.Keyboard.DOM_VK_META=224;d.ui.Keyboard.DOM_VK_KANA=21;d.ui.Keyboard.DOM_VK_HANGUL=21;d.ui.Keyboard.DOM_VK_JUNJA=23;d.ui.Keyboard.DOM_VK_FINAL=24;d.ui.Keyboard.DOM_VK_HANJA=
25;d.ui.Keyboard.DOM_VK_KANJI=25;d.ui.Keyboard.DOM_VK_CONVERT=28;d.ui.Keyboard.DOM_VK_NONCONVERT=29;d.ui.Keyboard.DOM_VK_ACEPT=30;d.ui.Keyboard.DOM_VK_MODECHANGE=31;d.ui.Keyboard.DOM_VK_SELECT=41;d.ui.Keyboard.DOM_VK_PRINT=42;d.ui.Keyboard.DOM_VK_EXECUTE=43;d.ui.Keyboard.DOM_VK_SLEEP=95;d.utils.ByteArray.BYTE_ARRAY_BUFFER_SIZE=8192;s.Lib.FULLSCREEN=1;s.Lib.BORDERLESS=2;s.Lib.RESIZABLE=4;s.Lib.HARDWARE=8;s.Lib.VSYNC=16;s.Lib.HW_AA=32;s.Lib.HW_AA_HIRES=96;s.ObjectHash.nextObjectID=0;s.installer.Assets.cachedBitmapData=
new F;r.MyAssets.landscape=!1;r.MyAssets.autorotate=!1;r.MyAssets.stretchToFit=!1;r.MyAssets.stageWidth=720;r.MyAssets.stageHeight=400;r.MyAssets.initSceneID=0;r.MyAssets.physicsMode=0;r.MyAssets.gameScale=1;r.MyAssets.gameImageBase="1x";r.MyAssets.antialias=!1;r.MyAssets.adPositionBottom=!0;r.MyAssets.whirlID="";r.MyAssets.mochiID="";r.MyAssets.cpmstarID="";r.MyAssets.newgroundsID="";r.MyAssets.newgroundsKey="";r.MyAssets.releaseMode=!0;r.MyAssets.showConsole=!0;r.MyAssets.debugDraw=!1;r.MyAssets.always1x=
!1;r.MyAssets.androidPublicKey="";
q.main();
		}
	};

	
});
